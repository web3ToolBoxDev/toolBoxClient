(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequire1d24;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequire1d24=i),i.register("hM5LD",(function(t,n){e(t.exports,"createExploreHooks",(function(){return i("7i964").createExploreHooks})),e(t.exports,"ExploreProvider",(function(){return i("aAtpt").ExploreProvider})),e(t.exports,"useExplore",(function(){return i("aAtpt").useExplore})),e(t.exports,"ExploreAnalytics",(function(){return i("5MRwA").ExploreAnalytics})),e(t.exports,"EXPLORE_BASE_QUERY_KEY",(function(){return i("hSXsO").EXPLORE_BASE_QUERY_KEY})),e(t.exports,"FUSE_EXPLORE_DAPPS_CONFIG",(function(){return i("gjBV4").FUSE_EXPLORE_DAPPS_CONFIG})),e(t.exports,"getAccountMainnetNetworkIds",(function(){return i("ggjh9").getAccountMainnetNetworkIds})),e(t.exports,"shouldNavigateToSwapper",(function(){return i("eDtr3").shouldNavigateToSwapper}));i("7i964"),i("aAtpt"),i("5MRwA"),i("hSXsO"),i("gjBV4"),i("ggjh9"),i("eDtr3")})),i.register("7i964",(function(t,n){e(t.exports,"createExploreHooks",(function(){return y}));var r=i("lFxNk"),o=i("2gAtf"),s=i("hkdDJ"),a=i("eAmN9"),u=i("1z5C9"),c=i("9A7Xn"),l=i("96Goz"),d=i("5FhX9"),p=i("7YRkB"),f=i("9HxvY"),h=i("iH1mQ");function y(e,t,n,i,y){return{useExploreSites:()=>(0,f.useSites)(e,t(),n,i,y),useExploreTokens:()=>(0,h.useTokens)(e,t(),n,i,y),useExploreCollections:()=>(0,r.useCollections)(e,t(),n,i,y),useExploreRecommendedCollections:()=>(0,c.useRecommendedCollections)(t(),n,i,y),useExploreRecommendedSites:()=>(0,d.useRecommendedSites)(t(),n,i,y),useExploreRecommendedTokens:()=>(0,p.useRecommendedTokens)(t(),n,i,y),useLearn:()=>(0,u.useLearn)(t(),n,y),useExploreLoadAllQueries:()=>(0,s.useExploreLoadAllQueries)(e,t(),n,i,y),useRecommendedSearchSites:l.useRecommendedSearchSites,useExploreSortOption:()=>(0,o.useExploreSortOption)(e),useExploreSelectedNetwork:()=>(0,o.useExploreSelectedNetwork)(e,n,y),useIsExploreLoading:()=>(0,a.useIsExploreLoading)(e,t(),n,i,y)}}})),i.register("lFxNk",(function(t,n){e(t.exports,"useCollections",(function(){return p}));var r=i("43063"),o=i("5uSEV"),s=i("RVqnc"),a=i("5ekp2"),u=i("aAtpt"),c=i("1vyom"),l=i("hSXsO"),d=i("2gAtf");const p=(e,t,n,i,p)=>{var f;const{platform:h,appVersion:y}=(0,u.useExplore)(),{networkIds:m}=(0,d.useExploreSelectedNetwork)(e,n,p),{data:v}=n.useSelectedMultiChainAccount(),{data:g,isLoading:S}=(0,d.useExploreSortCollections)(e),E=null!==(f=(0,o.getSupportedLanguageValue)(r.i18next.language))&&void 0!==f?f:"en";return(0,a.useQuery)({queryKey:l.exploreQueryKeys.collections(g,m,y,E),enabled:!S&&!!v,queryFn:()=>{if(!v)throw new Error("No account found");return(0,c.getCollections)(g,m,t,y,E,h,v,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("aAtpt",(function(n,r){e(n.exports,"useExplore",(function(){return a})),e(n.exports,"ExploreProvider",(function(){return c}));var o=i("29o0l");const s=(0,o.createContext)(void 0);function a(){const e=(0,o.useContext)(s);if(!e)throw new Error("useExplore must be used within a ExploreProvider");return e}const u=["sites","tokens","collections","quests","learn"];function c({children:e,platform:n,appVersion:r,initialSection:i=u[0]}){const[a,c]=t(o).useState(i),l={platform:n,appVersion:r,sections:u,activeSection:a,setActiveSection:c};return t(o).createElement(s.Provider,{value:l},e)}})),i.register("1vyom",(function(t,n){e(t.exports,"getCollections",(function(){return u}),(function(e){return u=e}));var r=i("4xbAj"),o=i("iOvk1"),s=i("beWYh"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l,d)=>a(void 0,void 0,void 0,(function*(){var a,p;const f=null!==(a=null==l?void 0:l.addresses.map(o.chainAddressToCaip19Address))&&void 0!==a?a:[],h=(null==l?void 0:l.type)===r.AccountType.Seed?l.seedIdentifier:null,y=null!==(p=null==l?void 0:l.identifier)&&void 0!==p?p:"",m={appVersion:i,locale:u,platform:c,limit:10,timeframe:"24h",rankBy:"top"===e?"volume":e,chainIds:t,accountId:y,deviceId:d,rootId:h,selectedAccountAddresses:f},v=`${n}/explore/v1/trending-collections`,g=new(0,s.RequestClient),S=yield g.post(v,m);if(!(0,s.responseIsOkay)(S))throw new Error("Failed to fetch collections");const E=S.data;return Object.assign(Object.assign({},E),{data:E.data.filter((e=>e.floorPrices.length>0&&e.marketplacePages.length>0))})}))})),i.register("hSXsO",(function(t,n){e(t.exports,"EXPLORE_BASE_QUERY_KEY",(function(){return r})),e(t.exports,"exploreQueryKeys",(function(){return o}));const r="@phantom/explore",o={sites:(e,t,n,o)=>[`${r}:sites`,n,o,e,t],recommendedSites:(e,t,n)=>[`${r}:sites`,"recommended",e,n,t],tokens:(e,t,n,o)=>[`${r}:tokens`,n,o,e,t],recommendedTokens:(e,t,n)=>[`${r}:tokens`,"recommended",e,n,t],collections:(e,t,n,o)=>[`${r}:collections`,n,o,e,t],recommendedCollections:(e,t,n)=>[`${r}:collections`,"recommended",e,n,t],learn:(e,t,n)=>[`${r}:learn`,e,n,t],exploreSortSites:[`${r}:sort:sites`],exploreSortCollections:[`${r}:sort:collections`],exploreSortTokens:[`${r}:sort:tokens`],exploreSelectedNetwork:e=>[`${r}:selected:network`,e]}})),i.register("2gAtf",(function(t,n){e(t.exports,"useExploreSortSites",(function(){return m}),(function(e){return m=e})),e(t.exports,"useExploreSortCollections",(function(){return v}),(function(e){return v=e})),e(t.exports,"useExploreSortTokens",(function(){return g}),(function(e){return g=e})),e(t.exports,"useExploreSelectedNetwork",(function(){return S}),(function(e){return S=e})),e(t.exports,"useExploreSortOption",(function(){return E}),(function(e){return E=e}));var r=i("HlEsU"),o=i("9W7fs"),s=i("5ekp2"),a=i("7dHjq"),u=i("29o0l"),c=i("hSXsO"),l=i("ggjh9"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const p=r.StorageKeys.ExploreFilters,f={currentNetwork:"all_networks",sortSites:"trending",sortCollections:"trending",sortTokens:"volume"};function h(e){return d(this,void 0,void 0,(function*(){const t=yield e.get(p);return null!=t?t:f}))}function y(e,t){return d(this,void 0,void 0,(function*(){yield e.set(p,t)}))}function m(e){const t=(0,a.useQueryClient)(),{data:n,isLoading:r}=(0,s.useQuery)({queryKey:c.exploreQueryKeys.exploreSortSites,refetchOnMount:"always",queryFn(){return d(this,void 0,void 0,(function*(){return(yield h(e)).sortSites}))}}),{mutate:i}=(0,o.useMutation)({mutationFn(t){return d(this,void 0,void 0,(function*(){const n=yield h(e);yield y(e,Object.assign(Object.assign({},n),{sortSites:t}))}))},onSuccess(){return d(this,void 0,void 0,(function*(){yield t.invalidateQueries(c.exploreQueryKeys.exploreSortSites)}))}});return{data:null!=n?n:f.sortSites,isLoading:r&&!n,mutate:i}}function v(e){const t=(0,a.useQueryClient)(),{data:n,isLoading:r}=(0,s.useQuery)({queryKey:c.exploreQueryKeys.exploreSortCollections,refetchOnMount:"always",queryFn(){return d(this,void 0,void 0,(function*(){return(yield h(e)).sortCollections}))}}),{mutate:i}=(0,o.useMutation)({mutationFn(t){return d(this,void 0,void 0,(function*(){const n=yield h(e);yield y(e,Object.assign(Object.assign({},n),{sortCollections:t}))}))},onSuccess(){return d(this,void 0,void 0,(function*(){yield t.invalidateQueries(c.exploreQueryKeys.exploreSortCollections)}))}});return{data:null!=n?n:f.sortCollections,isLoading:r&&!n,mutate:i}}function g(e){const t=(0,a.useQueryClient)(),{data:n,isLoading:r}=(0,s.useQuery)({queryKey:c.exploreQueryKeys.exploreSortTokens,refetchOnMount:"always",queryFn(){return d(this,void 0,void 0,(function*(){return(yield h(e)).sortTokens}))}}),{mutate:i}=(0,o.useMutation)({mutationFn(t){return d(this,void 0,void 0,(function*(){const n=yield h(e);yield y(e,Object.assign(Object.assign({},n),{sortTokens:t}))}))},onSuccess(){return d(this,void 0,void 0,(function*(){yield t.invalidateQueries(c.exploreQueryKeys.exploreSortTokens)}))}});return{data:null!=n?n:f.sortTokens,isLoading:r&&!n,mutate:i}}function S(e,t,n){const r=(0,a.useQueryClient)(),{data:i}=t.useSelectedMultiChainAccount(),p=(0,u.useMemo)((()=>i?(0,l.getAccountMainnetNetworkIds)(i,n()):[]),[i,n]),{data:m,isLoading:v}=(0,s.useQuery)({queryKey:c.exploreQueryKeys.exploreSelectedNetwork(p),refetchOnMount:"always",queryFn(){return d(this,void 0,void 0,(function*(){return(yield h(e)).currentNetwork}))}}),{mutate:g}=(0,o.useMutation)({mutationFn(t){return d(this,void 0,void 0,(function*(){const n=yield h(e);yield y(e,Object.assign(Object.assign({},n),{currentNetwork:t}))}))},onSuccess(){return d(this,void 0,void 0,(function*(){yield r.invalidateQueries(c.exploreQueryKeys.exploreSelectedNetwork(p))}))}}),S=null!=m?m:f.currentNetwork,E="all_networks"===S||p.includes(S)?S:"all_networks";return{data:E,isLoading:v&&!m,networkIds:"all_networks"===E?p:[E],mutate:g}}function E(e){const{data:t,isLoading:n,mutate:r}=m(e),{data:o,isLoading:i,mutate:s}=g(e),{data:a,isLoading:u,mutate:c}=v(e);return{currentSortOption:e=>{switch(e){case"sites":return t;case"collections":return a;case"tokens":return o;default:return"trending"}},getSortOptions:e=>{switch(e){case"sites":case"collections":return["trending","top"];case"tokens":return["gainers","losers","volume","market_cap"];default:return[]}},setSortOption:(e,t)=>{"sites"===e?r(t):"collections"===e?c(t):"tokens"===e&&s(t)},isLoading:n||i||u}}})),i.register("ggjh9",(function(t,n){e(t.exports,"createExploreDappQueryKey",(function(){return o})),e(t.exports,"getAccountMainnetNetworkIds",(function(){return s})),e(t.exports,"shouldNavigateToSwapper",(function(){return i("eDtr3").shouldNavigateToSwapper}));var r=i("iOvk1");i("eDtr3");const o=e=>["explore-dapp",e],s=(e,t)=>{var n;return null!==(n=e.addresses.map((e=>r.Chains.getMainnetNetworkID(e.networkID))).filter((e=>e!==r.BitcoinNetworkID.Mainnet||t)))&&void 0!==n?n:[]}})),i.register("eDtr3",(function(t,n){e(t.exports,"shouldNavigateToSwapper",(function(){return o}));var r=i("iOvk1");const o=(e,t)=>{var n,o,i,s;const a=null===(s=null===(i=null===(o=null===(n=null==t?void 0:t.tokens)||void 0===n?void 0:n[0])||void 0===o?void 0:o.data)||void 0===i?void 0:i.chain)||void 0===s?void 0:s.id;return!e&&!!a&&!r.Chains.isBitcoinNetworkID(a)}})),i.register("hkdDJ",(function(t,n){e(t.exports,"useExploreLoadAllQueries",(function(){return h}));var r=i("43063"),o=i("5uSEV"),s=i("RVqnc"),a=i("5ekp2"),u=i("aAtpt"),c=i("1vyom"),l=i("9d4Nm"),d=i("2dXn0"),p=i("hSXsO"),f=i("2gAtf");const h=(e,t,n,i,h)=>{var y;const{platform:m,appVersion:v}=(0,u.useExplore)(),{networkIds:g}=(0,f.useExploreSelectedNetwork)(e,n,h),{data:S}=n.useSelectedMultiChainAccount(),E=null!==(y=(0,o.getSupportedLanguageValue)(r.i18next.language))&&void 0!==y?y:"en",w=!!S;return{sitesSortByTop:(0,a.useQuery)({queryKey:p.exploreQueryKeys.sites("top",g,v,E),enabled:w,queryFn:()=>{if(!S)throw new Error("No account found");return(0,l.getSites)("top",g,t,v,E,m,S,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10})}),sitesSortByTrending:(0,a.useQuery)({queryKey:p.exploreQueryKeys.sites("trending",g,v,E),enabled:w,queryFn:()=>{if(!S)throw new Error("No account found");return(0,l.getSites)("trending",g,t,v,E,m,S,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10})}),collectionSortByTrending:(0,a.useQuery)({queryKey:p.exploreQueryKeys.collections("trending",g,v,E),enabled:w,queryFn:()=>{if(!S)throw new Error("No account found");return(0,c.getCollections)("trending",g,t,v,E,m,S,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10})}),collectionSortByTop:(0,a.useQuery)({queryKey:p.exploreQueryKeys.collections("top",g,v,E),enabled:w,queryFn:()=>{if(!S)throw new Error("No account found");return(0,c.getCollections)("top",g,t,v,E,m,S,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10})}),tokensSortByGainers:(0,a.useQuery)({queryKey:p.exploreQueryKeys.tokens("gainers",g,v,E),enabled:w,queryFn:()=>{if(!S)throw new Error("No account found");return(0,d.getTokens)("gainers",g,t,v,E,m,S,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10})}),tokensSortByLosers:(0,a.useQuery)({queryKey:p.exploreQueryKeys.tokens("losers",g,v,E),enabled:w,queryFn:()=>{if(!S)throw new Error("No account found");return(0,d.getTokens)("losers",g,t,v,E,m,S,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10})}),tokensSortByVolume:(0,a.useQuery)({queryKey:p.exploreQueryKeys.tokens("volume",g,v,E),enabled:w,queryFn:()=>{if(!S)throw new Error("No account found");return(0,d.getTokens)("volume",g,t,v,E,m,S,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10})}),tokensSortByMarketCap:(0,a.useQuery)({queryKey:p.exploreQueryKeys.tokens("market_cap",g,v,E),enabled:w,queryFn:()=>{if(!S)throw new Error("No account found");return(0,d.getTokens)("market_cap",g,t,v,E,m,S,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10})})}}})),i.register("9d4Nm",(function(t,n){e(t.exports,"getSites",(function(){return u}),(function(e){return u=e}));var r=i("4xbAj"),o=i("iOvk1"),s=i("beWYh"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l,d)=>a(void 0,void 0,void 0,(function*(){var a,p;const f=null!==(a=null==l?void 0:l.addresses.map(o.chainAddressToCaip19Address))&&void 0!==a?a:[],h=(null==l?void 0:l.type)===r.AccountType.Seed?l.seedIdentifier:null,y=null!==(p=null==l?void 0:l.identifier)&&void 0!==p?p:"",m={appVersion:i,locale:u,platform:c,limit:10,timeframe:"24h",rankBy:e,chainIds:t,accountId:y,deviceId:d,rootId:h,selectedAccountAddresses:f},v=`${n}/explore/v1/trending-dapps`,g=new(0,s.RequestClient),S=yield g.post(v,m);if(!(0,s.responseIsOkay)(S))throw new Error("Failed to fetch sites");return S.data}))})),i.register("2dXn0",(function(t,n){e(t.exports,"getTokens",(function(){return u}),(function(e){return u=e}));var r=i("4xbAj"),o=i("iOvk1"),s=i("beWYh"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l,d)=>a(void 0,void 0,void 0,(function*(){var a,p;const f=null!==(a=null==l?void 0:l.addresses.map(o.chainAddressToCaip19Address))&&void 0!==a?a:[],h=(null==l?void 0:l.type)===r.AccountType.Seed?l.seedIdentifier:null,y=null!==(p=null==l?void 0:l.identifier)&&void 0!==p?p:"",m={appVersion:i,locale:u,platform:c,limit:10,timeframe:"24h",rankBy:e,chainIds:t,accountId:y,deviceId:d,rootId:h,selectedAccountAddresses:f},v=new(0,s.RequestClient),g=yield v.post(`${n}/explore/v1/trending-tokens`,m);if(!(0,s.responseIsOkay)(g))throw new Error("Failed to fetch tokens");const S=g.data;return Object.assign(Object.assign({},S),{data:S.data.filter((e=>e.tokens.length>0))})}))})),i.register("eAmN9",(function(t,n){e(t.exports,"useIsExploreLoading",(function(){return d}));var r=i("lFxNk"),o=i("2gAtf"),s=i("9A7Xn"),a=i("5FhX9"),u=i("7YRkB"),c=i("9HxvY"),l=i("iH1mQ");function d(e,t,n,i,d){return{isExploreLoading:[(0,c.useSites)(e,t,n,i,d),(0,a.useRecommendedSites)(t,n,i,d),(0,l.useTokens)(e,t,n,i,d),(0,u.useRecommendedTokens)(t,n,i,d),(0,r.useCollections)(e,t,n,i,d),(0,s.useRecommendedCollections)(t,n,i,d),(0,o.useExploreSortOption)(e)].some((e=>e.isLoading))}}})),i.register("9A7Xn",(function(t,n){e(t.exports,"useRecommendedCollections",(function(){return f}));var r=i("43063"),o=i("5uSEV"),s=i("RVqnc"),a=i("5ekp2"),u=i("29o0l"),c=i("aAtpt"),l=i("2gKV2"),d=i("hSXsO"),p=i("ggjh9");const f=(e,t,n,i)=>{var f;const{platform:h,appVersion:y}=(0,c.useExplore)(),{data:m}=t.useSelectedMultiChainAccount(),v=(0,u.useMemo)((()=>m?(0,p.getAccountMainnetNetworkIds)(m,i()):[]),[m,i]),g=null!==(f=(0,o.getSupportedLanguageValue)(r.i18next.language))&&void 0!==f?f:"en";return(0,a.useQuery)({queryKey:d.exploreQueryKeys.recommendedCollections(y,v,g),enabled:!!m,queryFn:()=>{if(!m)throw new Error("No account found");return(0,l.getRecommendedCollections)(e,v,y,g,h,m,n)},cacheTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("2gKV2",(function(t,n){e(t.exports,"getRecommendedCollections",(function(){return u}),(function(e){return u=e}));var r=i("4xbAj"),o=i("iOvk1"),s=i("beWYh"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l)=>a(void 0,void 0,void 0,(function*(){var a,d;const p=null!==(a=null==c?void 0:c.addresses.map(o.chainAddressToCaip19Address))&&void 0!==a?a:[],f=(null==c?void 0:c.type)===r.AccountType.Seed?c.seedIdentifier:null,h=null!==(d=null==c?void 0:c.identifier)&&void 0!==d?d:"",y={appVersion:n,locale:i,platform:u,limit:6,timeframe:"24h",chainIds:t,accountId:h,deviceId:l,rootId:f,selectedAccountAddresses:p},m=`${e}/explore/v1/featured-collections`,v=new(0,s.RequestClient),g=yield v.post(m,y);if(!(0,s.responseIsOkay)(g))throw new Error("Failed to fetch collections");const S=g.data;return Object.assign(Object.assign({},S),{data:S.data.filter((e=>e.floorPrices.length>0&&e.marketplacePages.length>0))})}))})),i.register("5FhX9",(function(t,n){e(t.exports,"useRecommendedSites",(function(){return f}));var r=i("43063"),o=i("5uSEV"),s=i("RVqnc"),a=i("5ekp2"),u=i("29o0l"),c=i("aAtpt"),l=i("kOrpb"),d=i("hSXsO"),p=i("ggjh9");const f=(e,t,n,i)=>{var f;const{platform:h,appVersion:y}=(0,c.useExplore)(),{data:m}=t.useSelectedMultiChainAccount(),v=(0,u.useMemo)((()=>m?(0,p.getAccountMainnetNetworkIds)(m,i()):[]),[m,i]),g=null!==(f=(0,o.getSupportedLanguageValue)(r.i18next.language))&&void 0!==f?f:"en";return(0,a.useQuery)({queryKey:d.exploreQueryKeys.recommendedSites(y,v,g),enabled:!!m,queryFn:()=>{if(!m)throw new Error("No account found");return(0,l.getRecommendedSites)(e,v,y,g,h,m,n)},cacheTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("kOrpb",(function(t,n){e(t.exports,"getRecommendedSites",(function(){return u}),(function(e){return u=e}));var r=i("4xbAj"),o=i("iOvk1"),s=i("beWYh"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l)=>a(void 0,void 0,void 0,(function*(){var a,d;const p=null!==(a=null==c?void 0:c.addresses.map(o.chainAddressToCaip19Address))&&void 0!==a?a:[],f=(null==c?void 0:c.type)===r.AccountType.Seed?c.seedIdentifier:null,h=null!==(d=null==c?void 0:c.identifier)&&void 0!==d?d:"",y={appVersion:n,locale:i,platform:u,limit:6,timeframe:"24h",chainIds:t,accountId:h,deviceId:l,rootId:f,selectedAccountAddresses:p},m=`${e}/explore/v1/featured-dapps`,v=new(0,s.RequestClient),g=yield v.post(m,y);if(!(0,s.responseIsOkay)(g))throw new Error("Failed to fetch sites");return yield g.data}))})),i.register("7YRkB",(function(t,n){e(t.exports,"useRecommendedTokens",(function(){return f}));var r=i("43063"),o=i("5uSEV"),s=i("RVqnc"),a=i("5ekp2"),u=i("29o0l"),c=i("aAtpt"),l=i("8v9Wp"),d=i("hSXsO"),p=i("ggjh9");const f=(e,t,n,i)=>{var f;const{platform:h,appVersion:y}=(0,c.useExplore)(),{data:m}=t.useSelectedMultiChainAccount(),v=(0,u.useMemo)((()=>m?(0,p.getAccountMainnetNetworkIds)(m,i()):[]),[m,i]),g=null!==(f=(0,o.getSupportedLanguageValue)(r.i18next.language))&&void 0!==f?f:"en";return(0,a.useQuery)({queryKey:d.exploreQueryKeys.recommendedTokens(y,v,g),enabled:!!m,queryFn:()=>{if(!m)throw new Error("No account found");return(0,l.getRecommendedTokens)(e,v,y,g,h,m,n)},cacheTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("8v9Wp",(function(t,n){e(t.exports,"getRecommendedTokens",(function(){return u}),(function(e){return u=e}));var r=i("4xbAj"),o=i("iOvk1"),s=i("beWYh"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t,n,i,u,c,l)=>a(void 0,void 0,void 0,(function*(){var a,d;const p=null!==(a=null==c?void 0:c.addresses.map(o.chainAddressToCaip19Address))&&void 0!==a?a:[],f=(null==c?void 0:c.type)===r.AccountType.Seed?c.seedIdentifier:null,h=null!==(d=null==c?void 0:c.identifier)&&void 0!==d?d:"",y={appVersion:n,locale:i,platform:u,limit:6,timeframe:"24h",chainIds:t,accountId:h,deviceId:l,rootId:f,selectedAccountAddresses:p},m=new(0,s.RequestClient),v=yield m.post(`${e}/explore/v1/featured-tokens`,y);if(!(0,s.responseIsOkay)(v))throw new Error("Failed to fetch tokens");const g=v.data;return Object.assign(Object.assign({},g),{data:g.data.filter((e=>e.tokens.length>0))})}))})),i.register("9HxvY",(function(t,n){e(t.exports,"useSites",(function(){return p}));var r=i("43063"),o=i("5uSEV"),s=i("RVqnc"),a=i("5ekp2"),u=i("aAtpt"),c=i("9d4Nm"),l=i("hSXsO"),d=i("2gAtf");const p=(e,t,n,i,p)=>{var f;const{platform:h,appVersion:y}=(0,u.useExplore)(),{networkIds:m}=(0,d.useExploreSelectedNetwork)(e,n,p),{data:v,isLoading:g}=(0,d.useExploreSortSites)(e),{data:S}=n.useSelectedMultiChainAccount(),E=null!==(f=(0,o.getSupportedLanguageValue)(r.i18next.language))&&void 0!==f?f:"en";return(0,a.useQuery)({queryKey:l.exploreQueryKeys.sites(v,m,y,E),enabled:!g&&!!S,queryFn:()=>{if(!S)throw new Error("No account found");return(0,c.getSites)(v,m,t,y,E,h,S,i)},keepPreviousData:!0,cacheTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("iH1mQ",(function(t,n){e(t.exports,"useTokens",(function(){return p}));var r=i("43063"),o=i("5uSEV"),s=i("RVqnc"),a=i("5ekp2"),u=i("aAtpt"),c=i("2dXn0"),l=i("hSXsO"),d=i("2gAtf");const p=(e,t,n,i,p)=>{var f;const{platform:h,appVersion:y}=(0,u.useExplore)(),{networkIds:m}=(0,d.useExploreSelectedNetwork)(e,n,p),{data:v}=n.useSelectedMultiChainAccount(),{data:g,isLoading:S}=(0,d.useExploreSortTokens)(e),E=null!==(f=(0,o.getSupportedLanguageValue)(r.i18next.language))&&void 0!==f?f:"en";return(0,a.useQuery)({queryKey:l.exploreQueryKeys.tokens(g,m,y,E),enabled:!S&&!!v,keepPreviousData:!0,queryFn:()=>{if(!v)throw new Error("No account found");return(0,c.getTokens)(g,m,t,y,E,h,v,i)},cacheTime:(0,s.toMilliseconds)({minutes:10})})}})),i.register("1z5C9",(function(t,n){e(t.exports,"useLearn",(function(){return f}),(function(e){return f=e}));var r=i("43063"),o=i("5uSEV"),s=i("5ekp2"),a=i("29o0l"),u=i("aAtpt"),c=i("jlkga"),l=i("hSXsO"),d=i("ggjh9"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const f=(e,t,n)=>{var i;const{platform:f,appVersion:h}=(0,u.useExplore)(),{data:y}=t.useSelectedMultiChainAccount(),{data:m}=t.useSelectedMultiChainAccount(),v=(0,a.useMemo)((()=>m?(0,d.getAccountMainnetNetworkIds)(m,n()):[]),[m,n]),g=null!==(i=(0,o.getSupportedLanguageValue)(r.i18next.language))&&void 0!==i?i:"en";return(0,s.useQuery)({queryKey:l.exploreQueryKeys.learn(h,v,g),enabled:!!y,queryFn:()=>p(void 0,void 0,void 0,(function*(){return(0,c.getLearnItems)(e,v,h,g,f)})),refetchOnMount:"always"})}})),i.register("jlkga",(function(t,n){e(t.exports,"getLearnItems",(function(){return s}),(function(e){return s=e}));var r=i("beWYh"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const s=(e,t,n,i,s)=>o(void 0,void 0,void 0,(function*(){const o={chainIds:t,platform:s,locale:i,appVersion:n},a=`${e}/explore/v1/learn-grid`,u=new(0,r.RequestClient),c=yield u.post(a,o);if(!(0,r.responseIsOkay)(c))throw new Error("Failed to fetch learn grid");return c.data}))})),i.register("96Goz",(function(t,n){e(t.exports,"useRecommendedSearchSites",(function(){return h}),(function(e){return h=e}));var r=i("2onIY"),o=i("beWYh"),s=i("csW2r"),a=i("RVqnc"),u=i("4nwh4"),c=i("5ekp2"),l=i("7dHjq"),d=i("ggjh9"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const f=e=>p(void 0,void 0,void 0,(function*(){const t=yield o.RequestClient.getInstance().get((e=>{const t={isRecommended:"true"};e.networkIds&&(t.chainIds=e.networkIds.join(","));const n=new URLSearchParams(t);return`${(0,r.getAPIEnvironment)()}/dapps/v1?${n.toString()}`})(e));if(500===t.status)throw new Error("Error fetching recommended dapps from registry");return(yield t.data).data})),h=e=>{const t=(0,l.useQueryClient)();return(0,c.useQuery)({queryKey:["dapps","recommended",e],queryFn:()=>f(e),cacheTime:(0,a.toMilliseconds)({days:1}),onError:e=>{s.telemetry.captureError(e,s.FeatureTag.DappRegistry)},onSuccess:e=>{u.notifyManager.batch((()=>{for(const n of null!=e?e:[]){const e=(0,d.createExploreDappQueryKey)(n.domain),r=t.getQueryState(e);t.setQueryData(e,(()=>{var e;return null!==(e=null!=n?n:null==r?void 0:r.data)&&void 0!==e?e:null}))}}))}})}})),i.register("5MRwA",(function(t,n){e(t.exports,"ExploreAnalytics",(function(){return s}),(function(e){return s=e}));var r,o=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},i=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class s{constructor(e){r.set(this,void 0),this.onExploreTabClickedByUser=e=>{i(this,r,"f").capture("onExploreTabClickedByUser",{data:{explore:e}})},this.onExploreTabTitlesDragged=()=>{i(this,r,"f").capture("onExploreTabTitlesDragged")},this.onExploreFilterChangedByUser=e=>{i(this,r,"f").capture("onExploreFilterChangedByUser",{data:{explore:e}})},this.onExploreListShownToUser=e=>{i(this,r,"f").capture("onExploreListShownToUser",{data:{explore:e}})},this.onExploreCarouselShownToUser=e=>{i(this,r,"f").capture("onExploreCarouselShownToUser",{data:{explore:e}})},this.onExploreListItemClickedByUser=e=>{i(this,r,"f").capture("onExploreListItemClickedByUser",{data:{explore:e}})},this.onExploreCarouselItemClickedByUser=e=>{i(this,r,"f").capture("onExploreCarouselItemClickedByUser",{data:{explore:e}})},this.onExploreLearnItemClickedByUser=e=>{i(this,r,"f").capture("onExploreLearnItemClickedByUser",{data:{explore:e}})},this.onExploreCarouselDragged=e=>{i(this,r,"f").capture("onExploreCarouselDragged",{data:{explore:e}})},this.onExploreSearchedByUser=e=>{i(this,r,"f").capture("onExploreSearchedByUser",{data:{explore:e}})},this.onExploreSearchItemClickedByUser=e=>{i(this,r,"f").capture("onExploreSearchItemClickedByUser",{data:{explore:e}})},o(this,r,e,"f")}}r=new WeakMap})),i.register("gjBV4",(function(t,n){e(t.exports,"FUSE_EXPLORE_DAPPS_CONFIG",(function(){return r}));const r={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"domain",weight:.5},{name:"name",weight:.4},{name:"tags",weight:.1}]}})),i.register("bBa7X",(function(t,n){e(t.exports,"createFiatRampHooks",(function(){return i("i0dmL").createFiatRampHooks})),e(t.exports,"FIAT_RAMP_FUNGIBLES_QUERY_KEY",(function(){return i("7SrdS").FIAT_RAMP_FUNGIBLES_QUERY_KEY})),e(t.exports,"FUSE_SEARCH_CONFIG_TOKEN_WITH_PROVIDERS",(function(){return i("lEMey").FUSE_SEARCH_CONFIG_TOKEN_WITH_PROVIDERS})),e(t.exports,"getProviderUrl",(function(){return i("9JJcA").getProviderUrl}));i("i0dmL"),i("7SrdS"),i("8jXa8"),i("lEMey"),i("9JJcA"),i("bNGPD")})),i.register("i0dmL",(function(t,n){e(t.exports,"createFiatRampHooks",(function(){return o}));var r=i("6ecrj");function o(e){return{useSupportedTokens:(t,n)=>(0,r.useSupportedTokens)(e,t,n)}}})),i.register("6ecrj",(function(t,n){e(t.exports,"useSupportedTokens",(function(){return p}));var r=i("43063"),o=i("5uSEV"),s=i("RVqnc"),a=i("5ekp2"),u=i("gohE1"),c=i("7SrdS");const l=(0,s.toMilliseconds)({days:7}),d=(0,s.toMilliseconds)({hours:1}),p=(e,t,n)=>{var i;const s={chainIDs:t,locale:null!==(i=(0,o.getSupportedLanguageValue)(r.i18next.language))&&void 0!==i?i:"en",clientPlatform:n};return(0,a.useQuery)({queryKey:c.fiatRampQueryKeys.fiatFungibles(s),queryFn:()=>(0,u.getSupportedTokens)(e(),s),cacheTime:l,staleTime:d})}})),i.register("gohE1",(function(t,n){e(t.exports,"getSupportedTokens",(function(){return c}),(function(e){return c=e}));var r=i("beWYh"),o=i("8jXa8"),s=i("bNGPD"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new(0,o.FiatRampError)("Failed to get fiat tokens and providers.");function c(e,t){return a(this,void 0,void 0,(function*(){try{const n=new(0,r.RequestClient),o=yield n.post(`${e}/fiat_ramp/v1/onramp/supported_tokens`,t);if(!(0,r.responseIsOkay)(o))throw u;const i=o.data;return(0,s.processSupportedTokensResponse)(i)}catch(e){throw u}}))}})),i.register("8jXa8",(function(t,n){e(t.exports,"FiatRampSupportedTokensResponse",(function(){return l})),e(t.exports,"FiatRampError",(function(){return d}));var r=i("iOvk1"),o=i("7mQ3Y"),s=i("7XqVB");const a=s.z.object({providerID:s.z.string(),name:s.z.string(),description:s.z.string(),badgeText:s.z.string().optional(),fiatRampProviderAsset:s.z.object({circleColor:s.z.string(),logoUri:s.z.string()})}),u=s.z.object({name:s.z.string().nullable(),symbol:s.z.string().nullable(),decimals:s.z.number(),caip19:r.FungibleCaip19,logoURI:s.z.string().nullable()}),c=s.z.object({token:u,addressType:o.BitcoinAddressType.optional(),providerIDs:s.z.array(s.z.string())}),l=s.z.object({providers:s.z.array(a),tokens:s.z.array(c)});class d extends Error{constructor(e){super(e),this.name="FiatRampError"}}})),i.register("bNGPD",(function(t,n){e(t.exports,"processSupportedTokensResponse",(function(){return o}));var r=i("8jXa8");const o=e=>{const t=r.FiatRampSupportedTokensResponse.parse(e),n={};for(const e of t.providers)n[e.providerID]=e;return{providerIDToProvider:n,tokenWithProvidersList:t.tokens}}})),i.register("7SrdS",(function(t,n){e(t.exports,"FIAT_RAMP_FUNGIBLES_QUERY_KEY",(function(){return r})),e(t.exports,"fiatRampQueryKeys",(function(){return o}));const r="@phantom/fiat-ramp:fiat-fungibles",o={fiatFungibles:e=>[r,e]}})),i.register("lEMey",(function(t,n){e(t.exports,"FUSE_SEARCH_CONFIG_TOKEN_WITH_PROVIDERS",(function(){return r}));const r={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"token.name",weight:.4},{name:"token.symbol",weight:.4},{name:"token.caip19.chainId",weight:.2}]}})),i.register("9JJcA",(function(t,n){e(t.exports,"getProviderUrl",(function(){return c}),(function(e){return c=e}));var r=i("iOvk1"),o=i("beWYh"),s=i("8jXa8"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=new(0,s.FiatRampError)("Failed to get provider url");function c(e,t){return a(this,void 0,void 0,(function*(){try{(0,r.isEvmCaip19Address)(t.defaultToken)&&(t.defaultToken.address=t.defaultToken.address.toLowerCase()),t.userAddresses.forEach((e=>{(0,r.isEvmCaip19Address)(e)&&(e.address=e.address.toLowerCase())}));const n=yield o.RequestClient.getInstance().post(`${e}/fiat_ramp/v1/onramp/get_url`,t);if(!(0,o.responseIsOkay)(n))throw u;const i=yield n.data;if(!i.url)throw u;return i.url}catch(e){throw u}}))}})),i.register("ibwoK",(function(t,n){e(t.exports,"INTERSTITIALS_STORAGE_KEY",(function(){return i("lqr4n").INTERSTITIALS_STORAGE_KEY})),e(t.exports,"ActionBannerType",(function(){return i("bqmaR").ActionBannerType})),e(t.exports,"DeepLinkDestination",(function(){return i("bqmaR").DeepLinkDestination})),e(t.exports,"InterstitialFeature",(function(){return i("bqmaR").InterstitialFeature})),e(t.exports,"Platform",(function(){return i("bqmaR").Platform})),e(t.exports,"createInterstitialHooks",(function(){return i("4UO4j").createInterstitialHooks})),e(t.exports,"ACTION_BANNERS_QUERY_KEY",(function(){return i("g5ETd").ACTION_BANNERS_QUERY_KEY})),e(t.exports,"invalidateActionBanners",(function(){return i("adKVG").invalidateActionBanners})),e(t.exports,"ActionBannerAnalytics",(function(){return i("4QvCM").ActionBannerAnalytics})),e(t.exports,"generateActionBannerBaseAnalyticsPayload",(function(){return i("de6RR").generateActionBannerBaseAnalyticsPayload})),e(t.exports,"generateActionBannerInterstitialAnalyticsPayload",(function(){return i("de6RR").generateActionBannerInterstitialAnalyticsPayload})),e(t.exports,"ForceUpgradeStatus",(function(){return i("9OtLp").ForceUpgradeStatus}));i("lqr4n"),i("bqmaR"),i("4UO4j"),i("g5ETd"),i("adKVG"),i("4QvCM"),i("de6RR"),i("9OtLp")})),i.register("lqr4n",(function(t,n){e(t.exports,"INTERSTITIALS_STORAGE_KEY",(function(){return s}),(function(e){return s=e})),e(t.exports,"Interstitials",(function(){return a}),(function(e){return a=e}));var r=i("h5Ovd"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const s=".phantom-labs.settings.interstitials";class a{static hasSeen(e,t,n){var i;return o(this,void 0,void 0,(function*(){const o=yield t.get(s);if(!o)return!1;const a=(0,r.getMostRecentVersion)(e,n);return(null!==(i=o.interstitialsSeen[e])&&void 0!==i?i:0)>=a}))}static setHasSeen(e,t,n){return o(this,void 0,void 0,(function*(){const o=yield t.get(s),i=(0,r.getMostRecentVersion)(e,n);yield t.set(s,{version:1,interstitialsSeen:Object.assign(Object.assign({},!!o&&o.interstitialsSeen),{[e]:i})})}))}static resetHasSeen(e,t){return o(this,void 0,void 0,(function*(){const n=yield t.get(s);if(n)return t.set(s,{version:1,interstitialsSeen:Object.assign(Object.assign({},n.interstitialsSeen),{[e]:void 0})})}))}static resetAllHasSeen(e){return o(this,void 0,void 0,(function*(){if(yield e.get(s))return e.set(s,{version:1,interstitialsSeen:{}})}))}}})),i.register("h5Ovd",(function(t,n){e(t.exports,"getMostRecentVersion",(function(){return a}));var r=i("bqmaR");const o={[r.InterstitialFeature.Multichain]:2,[r.InterstitialFeature.MultichainSwapper]:1,[r.InterstitialFeature.InvalidChecksum]:1,[r.InterstitialFeature.HelloBitcoin]:1},s={[r.InterstitialFeature.Multichain]:3,[r.InterstitialFeature.MultichainSwapper]:1,[r.InterstitialFeature.InvalidChecksum]:1,[r.InterstitialFeature.HelloBitcoin]:1},a=(e,t)=>{switch(t){case"mobile":return o[e];case"browser-ext":return s[e];default:return-1}}})),i.register("bqmaR",(function(t,n){var r,o,i,s,a,u,c,l;e(t.exports,"ActionBannerType",(function(){return r})),e(t.exports,"DeepLinkDestination",(function(){return i})),e(t.exports,"DismissActionBannerError",(function(){return d})),e(t.exports,"Platform",(function(){return a})),e(t.exports,"InterstitialFeature",(function(){return c})),(o=r||(r={})).DirectLink="Deep Link",o.Modal="Modal",o.BottomSheet="Bottom Sheet",(s=i||(i={})).Buy="Buy",s.Collectibles="Collectibles",s.ConnectHardwareWallet="Connect Hardware Wallet",s.Explore="Explore",s.Quests="Quests",s.MintCollectible="Mint Collectible",s.SettingsImportSeedPhrase="Settings: Import Seed Phrase",s.SettingsNotificationPreferences="Settings: Notification Preferences",s.SettingsSecurityAndPrivacy="Settings: Security & Privacy",s.Swapper="Swapper",s.ExternalLink="External Link";class d extends Error{constructor(){super(...arguments),this.message="Failed to set dismissed action banners to storage"}}(u=a||(a={})).BrowserExt="browser-ext",u.Mobile="mobile",(l=c||(c={})).Multichain="Multichain",l.MultichainSwapper="MultichainSwapper",l.InvalidChecksum="InvalidChecksum",l.HelloBitcoin="HelloBitcoin"})),i.register("4UO4j",(function(t,n){e(t.exports,"createInterstitialHooks",(function(){return c}));var r=i("jLpHS"),o=i("3vBXL"),s=i("acRbz"),a=i("aaWed"),u=i("kPEIC");function c(e,t,n,i,c,l){return{useActionBanners:n=>(0,r.useActionBanners)(n,t,i,e(),l),useDismissActionBanner:()=>(0,o.useDismissActionBanner)(t,n),useHasSeenInterstitial:e=>(0,a.useHasSeenInterstitial)(t,c,e),useSetHasSeenInterstitial:e=>(0,u.useSetHasSeenInterstitial)(t,c,e),useForceUpgrade:t=>(0,s.useForceUpgrade)(t,e())}}})),i.register("jLpHS",(function(t,n){e(t.exports,"useActionBanners",(function(){return y}),(function(e){return y=e}));var r=i("4xbAj"),o=i("iOvk1"),s=i("43063"),a=i("5uSEV"),u=i("RVqnc"),c=i("5ekp2"),l=i("7yXVL"),d=i("2UuBs"),p=i("g5ETd"),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const h=(0,u.toMilliseconds)({minutes:1}),y=(e,t,n,i,u)=>{const{platform:y,appVersion:m}=e,{data:v}=n.useAllMultiChainAccounts(r.selectNonReadOnlyAccounts),{data:g}=n.useSelectedMultiChainAccount();return(0,c.useQuery)({queryKey:p.interstitialQueryKeys.actionBanners(null==g?void 0:g.identifier),queryFn:()=>f(void 0,void 0,void 0,(function*(){var e,n,c,p;const f=null!==(e=null==v?void 0:v.flatMap((e=>e.addresses.map(o.chainAddressToCaip19Address))))&&void 0!==e?e:[],h=(null==g?void 0:g.type)!==r.AccountType.ReadOnly&&null!==(n=null==g?void 0:g.addresses.map(o.chainAddressToCaip19Address))&&void 0!==n?n:[],S=(null==g?void 0:g.type)===r.AccountType.Seed?g.seedIdentifier:null,E=yield(0,l.getDismissedActionBanners)(t),w=null!==(c=(0,a.getSupportedLanguageValue)(s.i18next.language))&&void 0!==c?c:"en";return(0,d.fetchActionBanners)({platform:y,appVersion:m,accountID:null!==(p=null==g?void 0:g.identifier)&&void 0!==p?p:"",deviceId:u.getDeviceId(),dismissedBanners:E,apiEnvironment:i,locale:w,rootId:S,selectedAccountAddresses:h,addresses:f})})),enabled:!!(null==g?void 0:g.identifier),staleTime:h})}})),i.register("7yXVL",(function(t,n){e(t.exports,"getDismissedActionBanners",(function(){return a}),(function(e){return a=e})),e(t.exports,"setDismissedActionBanners",(function(){return u}),(function(e){return u=e}));var r,o=i("bqmaR"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};(r||(r={})).DismissActionBanners="dismissedActionBanners";const a=e=>s(void 0,void 0,void 0,(function*(){const t=yield e.get(r.DismissActionBanners);return null!=t?t:[]})),u=(e,t)=>s(void 0,void 0,void 0,(function*(){try{const n=yield a(e);if(n.includes(t))return;return e.set(r.DismissActionBanners,[...n,t])}catch(e){throw new(0,o.DismissActionBannerError)}}))})),i.register("2UuBs",(function(t,n){e(t.exports,"fetchActionBanners",(function(){return a}),(function(e){return a=e}));var r=i("gK2x8"),o=i("jeYks"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const a=({accountID:e,appVersion:t,deviceId:n,dismissedBanners:i,apiEnvironment:a,locale:u,platform:c,rootId:l,selectedAccountAddresses:d,addresses:p})=>s(void 0,void 0,void 0,(function*(){const s=yield(0,r.fetchSanityActionBanners)({platform:c,accountID:e,appVersion:t,deviceId:n,apiEnvironment:a,locale:u,rootId:l,selectedAccountAddresses:d,addresses:p});return Object.assign(Object.assign({},s),{banners:s.banners.filter((e=>(0,o.isActionBannerSupported)(e,c)&&!i.includes(e.id)))})}))})),i.register("gK2x8",(function(t,n){e(t.exports,"fetchSanityActionBanners",(function(){return u}),(function(e){return u=e}));var r=i("beWYh"),o=(i("csW2r"),i("5Z0Ji")),s=i("aYVC6"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=({accountID:e,appVersion:t,deviceId:n,apiEnvironment:i,locale:u,platform:l,rootId:d,selectedAccountAddresses:p,addresses:f})=>a(void 0,void 0,void 0,(function*(){var a;try{const h=new URL((0,o.GET_BANNERS_API_URL)({apiEnvironment:i})),y=JSON.stringify({accountID:e,deviceId:n,locale:u,platform:l,rootId:d,selectedAccountAddresses:p,version:t,addresses:f}),m=new(0,r.RequestClient);m.withDefaultHeaders({"Content-Type":"application/json"});const v=yield m.post(h.toString(),y);if(400===v.status){const e=yield v.data,t=(0,s.formatErrorMessages)(e);throw new Error(t)}if(v.status<200||v.status>299)throw new Error(`status code: ${v.status}, body: ${yield v.statusText}`);const g=v.data;return g?Object.assign(Object.assign({},g),{banners:null!==(a=g.banners)&&void 0!==a?a:[]}):c}catch(e){return c}})),c={id:void 0,banners:[]}})),i.register("5Z0Ji",(function(t,n){e(t.exports,"GET_BANNERS_API_URL",(function(){return o})),e(t.exports,"FORCE_UPGRADE_API_URL",(function(){return s}));var r=i("2onIY");const o=({apiEnvironment:e})=>`${e}/banners/get_banners/${e===r.APIEnvironment.Staging?"staging":"prod"}/v2`,s=({apiEnvironment:e})=>`${e}/banners/force_upgrade/${e===r.APIEnvironment.Staging?"staging":"prod"}/v1`})),i.register("aYVC6",(function(t,n){e(t.exports,"formatErrorMessages",(function(){return r}));const r=e=>{const t=[];for(const n in e.errors)Array.isArray(e.errors[n])&&t.push(e.errors[n].join(", "));return t.join(", ")}})),i.register("jeYks",(function(t,n){e(t.exports,"isActionBannerSupported",(function(){return a}));var r=i("bqmaR"),o=i("9LaZr"),s=i("doyH5");const a=(e,t)=>{const{bannerType:n,destinationType:i}=e;switch(n){case r.ActionBannerType.DirectLink:return(0,o.isActionBannerDestinationSupported)(i);case r.ActionBannerType.BottomSheet:case r.ActionBannerType.Modal:return(0,s.isActionBannerInterstitialSupported)(n,t)&&(0,o.isActionBannerDestinationSupported)(i);default:return!1}}})),i.register("9LaZr",(function(t,n){e(t.exports,"isActionBannerDestinationSupported",(function(){return o}));var r=i("bqmaR");const o=e=>!!e&&Object.values(r.DeepLinkDestination).includes(e)})),i.register("doyH5",(function(t,n){e(t.exports,"isActionBannerInterstitialSupported",(function(){return o}));var r=i("bqmaR");const o=(e,t)=>{switch(e){case r.ActionBannerType.BottomSheet:return"ios"===t||"android"===t;case r.ActionBannerType.Modal:return!0;default:return!1}}})),i.register("g5ETd",(function(t,n){e(t.exports,"ACTION_BANNERS_QUERY_KEY",(function(){return o})),e(t.exports,"FORCE_UPGRADE_QUERY_KEY",(function(){return i})),e(t.exports,"interstitialQueryKeys",(function(){return s}));const r="@phantom/interstitials",o=`${r}:action-banners`,i=`${r}:force-upgrade`,s={actionBanners:e=>[o,{accountIdentifier:e}],hasSeenInterstitial:e=>[`${r}:has-seen-interstitial`,{feature:e}]}})),i.register("3vBXL",(function(t,n){e(t.exports,"useDismissActionBanner",(function(){return u}),(function(e){return u=e}));var r=i("9W7fs"),o=i("7yXVL"),s=i("g5ETd"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t)=>(0,r.useMutation)({mutationFn:({actionBannerId:n})=>a(void 0,void 0,void 0,(function*(){(0,o.setDismissedActionBanners)(e,n),t.setQueriesData([s.ACTION_BANNERS_QUERY_KEY],(e=>{if(!e)return;const t=e.banners.filter((e=>e.id!==n));return Object.assign(Object.assign({},e),{banners:t})}))}))})})),i.register("acRbz",(function(t,n){e(t.exports,"useForceUpgrade",(function(){return d}),(function(e){return d=e}));var r=i("43063"),o=i("5uSEV"),s=i("RVqnc"),a=i("5ekp2"),u=i("bHYEM"),c=i("g5ETd"),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const d=(e,t)=>{const{platform:n,appVersion:i}=e;return(0,a.useQuery)({queryKey:[c.FORCE_UPGRADE_QUERY_KEY],queryFn:()=>l(void 0,void 0,void 0,(function*(){var e;const s=null!==(e=(0,o.getSupportedLanguageValue)(r.i18next.language))&&void 0!==e?e:"en";return(0,u.fetchForceUpgrade)({platform:n,appVersion:i,locale:s,apiEnvironment:t})})),enabled:!!i,staleTime:(0,s.toMilliseconds)({minutes:5})})}})),i.register("bHYEM",(function(t,n){e(t.exports,"fetchForceUpgrade",(function(){return s}),(function(e){return s=e}));var r=i("9OtLp"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const s=({appVersion:e,platform:t,locale:n,apiEnvironment:i})=>o(void 0,void 0,void 0,(function*(){const o=yield(0,r.fetchForceUpgradeStatus)({platform:t,appVersion:e,locale:n,apiEnvironment:i});return Object.assign({},o)}))})),i.register("9OtLp",(function(t,n){e(t.exports,"ForceUpgradeStatus",(function(){return r}),(function(e){return r=e})),e(t.exports,"fetchForceUpgradeStatus",(function(){return l}),(function(e){return l=e}));var r,o,s=i("beWYh"),a=(i("csW2r"),i("5Z0Ji")),u=i("aYVC6"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};(o=r||(r={})).Upgrade="upgrade",o.Noop="noop";const l=({appVersion:e,platform:t,locale:n,apiEnvironment:r})=>c(void 0,void 0,void 0,(function*(){try{const o=new URL((0,a.FORCE_UPGRADE_API_URL)({apiEnvironment:r})),i=JSON.stringify({platform:t,appVersion:e,locale:n}),c=new(0,s.RequestClient);c.withDefaultHeaders({"Content-Type":"application/json"});const l=yield c.post(o.toString(),i);if(400===l.status){const e=yield l.data,t=(0,u.formatErrorMessages)(e);throw new Error(t)}if(l.status<200||l.status>299)throw new Error(`status code: ${l.status}, body: ${l.statusText}`);const p=l.data;return p?Object.assign({},p):d}catch(e){return d}})),d={forceUpgradeStatus:r.Noop}})),i.register("aaWed",(function(t,n){e(t.exports,"useHasSeenInterstitial",(function(){return u}),(function(e){return u=e}));var r=i("5ekp2"),o=i("lqr4n"),s=i("g5ETd"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const u=(e,t,n)=>{const i=s.interstitialQueryKeys.hasSeenInterstitial(n);return(0,r.useQuery)({queryKey:i,queryFn:()=>a(void 0,void 0,void 0,(function*(){return yield o.Interstitials.hasSeen(n,e,t)}))})}})),i.register("kPEIC",(function(t,n){e(t.exports,"useSetHasSeenInterstitial",(function(){return c}),(function(e){return c=e}));var r=i("9W7fs"),o=i("7dHjq"),s=i("lqr4n"),a=i("adKVG"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const c=(e,t,n)=>{const i=(0,o.useQueryClient)();return(0,r.useMutation)({mutationFn:()=>u(void 0,void 0,void 0,(function*(){yield s.Interstitials.setHasSeen(n,e,t),yield(0,a.setHasSeenInterstitial)(i,n,!0)}))})}})),i.register("adKVG",(function(t,n){e(t.exports,"invalidateActionBanners",(function(){return s}),(function(e){return s=e})),e(t.exports,"setHasSeenInterstitial",(function(){return a}),(function(e){return a=e}));var r=i("g5ETd"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const s=e=>o(void 0,void 0,void 0,(function*(){yield e.invalidateQueries([r.ACTION_BANNERS_QUERY_KEY])})),a=(e,t,n)=>o(void 0,void 0,void 0,(function*(){yield e.setQueryData(r.interstitialQueryKeys.hasSeenInterstitial(t),n)}))})),i.register("4QvCM",(function(t,n){e(t.exports,"ActionBannerAnalytics",(function(){return s}),(function(e){return s=e}));var r,o=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},i=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class s{constructor(e){r.set(this,void 0),this.onBannerSeen=e=>{i(this,r,"f").capture("actionBannerSeenByUser",{data:{banner:e}})},this.onBannerClick=e=>{i(this,r,"f").capture("actionBannerClickedByUser",{data:{banner:e}})},this.onBannerDismiss=e=>{i(this,r,"f").capture("actionBannerDismissedByUser",{data:{banner:e}})},this.onInterstitialSeen=e=>{i(this,r,"f").capture("actionBannerInterstitialSeenByUser",{data:{banner:e}})},this.onInterstitialPrimaryClick=e=>{i(this,r,"f").capture("actionBannerInterstitialPrimaryButtonClickedByUser",{data:{banner:e}})},this.onInterstitialSecondaryClick=e=>{i(this,r,"f").capture("actionBannerInterstitialSecondaryButtonClickedByUser",{data:{banner:e}})},this.onInterstitialDismiss=e=>{i(this,r,"f").capture("actionBannerInterstitialDismissedByUser",{data:{banner:e}})},o(this,r,e,"f")}}r=new WeakMap})),i.register("de6RR",(function(t,n){e(t.exports,"generateActionBannerBaseAnalyticsPayload",(function(){return s})),e(t.exports,"generateActionBannerInterstitialAnalyticsPayload",(function(){return a}));var r=i("43063"),o=i("bqmaR");const s=({id:e,humanReadableId:t,description:n,bannerType:r})=>({id:e,humanReadableId:t,description:n,type:r}),a=({id:e,humanReadableId:t,description:n,bannerType:i,interstitial:s})=>{const{title:a,primaryButtonText:u,secondaryButtonText:c}=s;let l;if(i===o.ActionBannerType.Modal)for(const[e,t]of Object.values(s.lineItems).entries())l=Object.assign(Object.assign({},null!=l?l:{}),{[`lineItem${e+1}`]:{title:t.title,description:t.description}});return{id:e,humanReadableId:t,description:n,type:i,interstitial:{title:a,body:l,primaryButtonText:null!=u?u:r.i18next.t("commandContinue"),secondaryButtonText:null!=c?c:r.i18next.t("commandDismiss")}}}})),i.register("hnZYD",(function(t,n){e(t.exports,"QuestAnalytics",(function(){return i("XwkaQ").QuestAnalytics})),e(t.exports,"createQuestHooks",(function(){return i("3ch1m").createQuestHooks})),e(t.exports,"QUESTS_QUERY_KEY",(function(){return i("9Emft").QUESTS_QUERY_KEY}));i("XwkaQ"),i("jeAV5"),i("3ch1m"),i("l4KjA"),i("9Emft")})),i.register("XwkaQ",(function(t,n){e(t.exports,"QuestAnalytics",(function(){return s}),(function(e){return s=e}));var r,o=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},i=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class s{constructor(e){r.set(this,void 0),this.onQuestSelected=e=>{i(this,r,"f").capture("questSelectedByUser",{data:{quest:e}})},this.onQuestCollectibleMinted=e=>{i(this,r,"f").capture("questCollectibleMinted",{data:{quest:e}})},this.onQuestRewardClaimed=e=>{i(this,r,"f").capture("questRewardClaimedByUser",{data:{quest:e}})},this.onQuestInterstitialPrimaryClick=e=>{i(this,r,"f").capture("questInterstitialPrimaryButtonClickedByUser",{data:{quest:e}})},this.onQuestInterstitialSecondaryClick=e=>{i(this,r,"f").capture("questInterstitialSecondaryButtonClickedByUser",{data:{quest:e}})},this.onQuestInterstitialDismiss=e=>{i(this,r,"f").capture("questInterstitialDismissedByUser",{data:{quest:e}})},this.onQuestPreviewUrlClick=(e,t)=>{i(this,r,"f").capture("questPreviewUrlClickedByUser",{data:{quest:e,url:t}})},o(this,r,e,"f")}}r=new WeakMap})),i.register("jeAV5",(function(t,n){e(t.exports,"CURRENT_UNIX_TIMESTAMP_IN_SECONDS",(function(){return r}));const r=Date.now()/1e3})),i.register("3ch1m",(function(t,n){e(t.exports,"createQuestHooks",(function(){return u}));var r=i("5hmFn"),o=i("hDGow"),s=i("79r23"),a=i("9wVbJ");function u(e,t,n,i,u){return{useShouldShowQuests:t=>(0,a.useShouldShowQuests)(e(),t,n,i,u),useQuests:t=>(0,s.useQuests)(e(),t,n,i),useCheckQuestStatus:t=>(0,r.useCheckQuestStatus)(e(),t,n),useClaimQuestReward:()=>(0,o.useClaimQuestReward)(e(),t,n)}}})),i.register("5hmFn",(function(t,n){e(t.exports,"useCheckQuestStatus",(function(){return f}),(function(e){return f=e}));var r=i("iOvk1"),o=i("beWYh"),s=i("csW2r"),a=i("5ekp2"),u=i("9Emft"),c=i("9m4FZ"),l=i("2UXfu"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const p=new(0,c.CheckQuestStatusError)("Checking quest status failed"),f=(e,t,n)=>{var i;const{data:c}=n.useSelectedMultiChainAccount(),{data:f=[]}=n.useAllMultiChainAccounts(),{appVersion:h,questId:y}=t,m=null!==(i=null==c?void 0:c.addresses.map(r.chainAddressToCaip19Address))&&void 0!==i?i:[],v={appVersion:h,questId:y,identifiers:(0,l.generateQuestIdentifiers)(f),selectedAccountAddresses:m},g=u.questsQueryKeys.questStatus(v);return(0,a.useQuery)({queryFn:()=>d(void 0,void 0,void 0,(function*(){try{const t=new(0,o.RequestClient);t.withDefaultHeaders({"Content-Type":"application/json"});const n=yield t.post(`${e}/quests/v1/status`,JSON.stringify(v));if(!(0,o.responseIsOkay)(n)||!n.data)throw p;return n.data.questState}catch(e){throw p}})),queryKey:g,onError:e=>{s.telemetry.captureError(e,s.FeatureTag.Quest)},staleTime:0})}})),i.register("9Emft",(function(t,n){e(t.exports,"QUESTS_BASE_QUERY_KEY",(function(){return r})),e(t.exports,"QUESTS_QUERY_KEY",(function(){return o})),e(t.exports,"questsQueryKeys",(function(){return i}));const r="@phantom/quests",o=`${r}:quests`,i={quests:e=>[`${r}:quests`,e],questStatus:e=>[`${r}:questStatus`,e],showQuests:(e,t,n,o,i)=>[`${r}:showQuests`,e,t,n,o,i]}})),i.register("9m4FZ",(function(t,n){var r,o;e(t.exports,"QuestIdentifierType",(function(){return r})),e(t.exports,"ClaimQuestRewardError",(function(){return i})),e(t.exports,"ClaimQuestRewardBadRequestError",(function(){return s})),e(t.exports,"CheckQuestStatusError",(function(){return a})),(o=r||(r={})).ROOT_ID="ROOT_ID",o.ACCOUNT_ID="ACCOUNT_ID";class i extends Error{constructor(e){super(e),this.name="ClaimQuestRewardError"}}class s extends Error{constructor(e){super(e),this.name="ClaimQuestRewardBadRequestError"}}class a extends Error{constructor(e){super(e),this.name="CheckQuestStatusError"}}})),i.register("2UXfu",(function(t,n){e(t.exports,"generateQuestIdentifiers",(function(){return a}));var r=i("4xbAj"),o=i("RVqnc"),s=i("9m4FZ");const a=e=>{const t=new Set,n=[];for(const i of e)switch(i.type){case r.AccountType.Seed:t.has(i.seedIdentifier)||(t.add(i.seedIdentifier),n.push({type:s.QuestIdentifierType.ROOT_ID,id:i.seedIdentifier}));break;case r.AccountType.PrivateKey:case r.AccountType.Ledger:case r.AccountType.SeedVault:t.has(i.identifier)||(t.add(i.identifier),n.push({type:s.QuestIdentifierType.ACCOUNT_ID,id:i.identifier}));break;case r.AccountType.ReadOnly:break;default:(0,o.assertNever)(i)}return n}})),i.register("hDGow",(function(t,n){e(t.exports,"useClaimQuestReward",(function(){return y}),(function(e){return y=e}));var r=i("iOvk1"),o=i("43063"),s=i("beWYh"),a=i("5uSEV"),u=i("csW2r"),c=i("9W7fs"),l=i("9Emft"),d=i("9m4FZ"),p=i("2UXfu"),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const h=new(0,d.ClaimQuestRewardError)("Claiming Reward Failed"),y=(e,t,n)=>{var i;const{data:y}=n.useSelectedMultiChainAccount(),{data:m=[]}=n.useAllMultiChainAccounts(),v=null!==(i=(0,a.getSupportedLanguageValue)(o.i18next.language))&&void 0!==i?i:"en";return(0,c.useMutation)({mutationFn:({questId:t,networkIds:n})=>f(void 0,void 0,void 0,(function*(){var o;try{const i=n.flat(),a=null==y?void 0:y.addresses.find((e=>i.includes(e.networkID))),u=null!==(o=null==y?void 0:y.addresses.map(r.chainAddressToCaip19Address))&&void 0!==o?o:[],c=(0,p.generateQuestIdentifiers)(m),l=s.RequestClient.getInstance().post(`${e}/quests/v1/claim_reward`,{questId:t,locale:v,identifiers:c,selectedAccountAddresses:u,walletAddress:{chainId:null==a?void 0:a.networkID,resourceType:r.Caip19ResourceType.address,address:null==a?void 0:a.address}}),[f]=yield Promise.all([l,new Promise((e=>setTimeout(e,2e3)))]);if(!(0,s.responseIsOkay)(f)){const e=f.data;throw new(0,d.ClaimQuestRewardBadRequestError)(JSON.stringify(e))}const g=f.data;if("reward_granted"!==g.status)throw h;return g}catch(e){throw e instanceof d.ClaimQuestRewardBadRequestError&&u.telemetry.captureError(e,u.FeatureTag.Quest),h}})),onSuccess:()=>{t.invalidateQueries([`${l.QUESTS_BASE_QUERY_KEY}:quests`])}})}})),i.register("79r23",(function(t,n){e(t.exports,"useQuests",(function(){return f}));var r=i("4xbAj"),o=i("iOvk1"),s=i("43063"),a=i("5uSEV"),u=i("5ekp2"),c=i("63urR"),l=i("9Emft"),d=i("2UXfu"),p=i("aWR41");const f=(e,t,n,i)=>{var f,h;const{platform:y,appVersion:m}=t,{data:v}=n.useSelectedMultiChainAccount(),{data:g=[]}=n.useAllMultiChainAccounts(),{data:S,isLoading:E}=i.useIsAnalyticsOptedOut(),w=null!==(f=(0,a.getSupportedLanguageValue)(s.i18next.language))&&void 0!==f?f:"en",x=null!==(h=null==v?void 0:v.addresses.map(o.chainAddressToCaip19Address))&&void 0!==h?h:[],b={appVersion:m,locale:w,platform:y,identifiers:(0,d.generateQuestIdentifiers)(g),selectedAccountAddresses:x,isOptedOut:!!S};return(0,u.useQuery)({queryKey:l.questsQueryKeys.quests(b),enabled:g.length>0&&v&&v.type!==r.AccountType.ReadOnly&&!E,queryFn:()=>(0,c.getQuests)(e,b),select:e=>(0,p.getValidQuests)(e,v),refetchOnMount:"extension"!==y||"always"})}})),i.register("63urR",(function(t,n){e(t.exports,"getQuests",(function(){return a}),(function(e){return a=e}));var r=i("beWYh"),o=i("csW2r"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const a=(e,t)=>s(void 0,void 0,void 0,(function*(){var n;try{const n=new(0,r.RequestClient),o=yield n.post(`${e}/quests/v1`,t);if(!(0,r.responseIsOkay)(o))throw new Error("Failed to fetch quests");return o.data.quests}catch(e){return o.telemetry.addBreadcrumb(o.FeatureTag.Quest,`Error when fetching quests: ${null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"Error without message"}`,o.Severity.Info),[]}}))})),i.register("aWR41",(function(t,n){e(t.exports,"getValidQuests",(function(){return s}));var r=i("a2yRh"),o=i("aVeEH");const s=(e,t)=>e.filter((e=>!(0,r.questExpired)(e)&&(0,o.questSupportedByAccount)(e,t)))})),i.register("a2yRh",(function(t,n){e(t.exports,"questExpired",(function(){return o}));var r=i("jeAV5");const o=e=>r.CURRENT_UNIX_TIMESTAMP_IN_SECONDS>e.expirationUnixTimeInSeconds})),i.register("aVeEH",(function(t,n){e(t.exports,"questSupportedByAccount",(function(){return r}));const r=(e,t)=>{var n;const r=null!==(n=null==t?void 0:t.addresses.map((e=>e.networkID)))&&void 0!==n?n:[];for(const t of Object.values(e.networkIds)){if(Array.isArray(t))return t.every((e=>r.includes(e)));if(r.includes(t))return!0}return!1}})),i.register("9wVbJ",(function(t,n){e(t.exports,"useShouldShowQuests",(function(){return a}));var r=i("5ekp2"),o=i("9Emft"),s=i("79r23");const a=(e,t,n,i,a)=>{var u;const{data:c,isLoading:l}=n.useSelectedMultiChainAccount(),{data:d,isLoading:p}=i.useIsAnalyticsOptedOut(),f=null==c?void 0:c.isReadOnly,h=a(),{error:y}=(0,s.useQuests)(e,t,n,i);return(0,r.useQuery)({queryKey:o.questsQueryKeys.showQuests(null!==(u=null==c?void 0:c.addresses[0].address)&&void 0!==u?u:"",!!d,!!f,h,y),enabled:!l&&!p,queryFn:()=>!(h||d||f||y)})}})),i.register("l4KjA",(function(e,t){})),i.register("41yT6",(function(n,r){e(n.exports,"useQuery",(function(){return f})),e(n.exports,"queryClient",(function(){return h})),e(n.exports,"QueryProvider",(function(){return m})),i("cWX68");var o=i("6Pp47"),s=i("kkyJd"),a=(i("9W7fs"),i("5ekp2")),u=i("1VmTz"),c=i("eBByC"),l=i("29o0l"),d=i("JepPo"),p=i("iJRtg");function f(e){return(0,a.useQuery)(e)}const h=new(0,s.QueryClient)({defaultOptions:{mutations:{retry:!1,networkMode:"offlineFirst"},queries:{retry:!1,staleTime:1/0,cacheTime:1/0,refetchOnWindowFocus:!1,networkMode:"offlineFirst"}}}),y=(0,o.createReactQueryCache)({underlyingStorage:new(0,d.LocalStorage),throttleMs:1e3,enableDebugLogs:!1}),m=e=>{const n={shouldDehydrateQuery:p.shouldDehydrateQuery};return t(l).createElement(c.PersistQueryClientProvider,{client:h,persistOptions:{persister:y,dehydrateOptions:n,buster:v,maxAge:1/0}},e.children,t(l).createElement(u.ReactQueryDevtools,{initialIsOpen:!1,position:"top-right"}))},v="23.13.0"})),i.register("cWX68",(function(t,n){e(t.exports,"createReactQueryCache",(function(){return i("6Pp47").createReactQueryCache}));i("6Pp47")})),i.register("6Pp47",(function(t,n){e(t.exports,"createReactQueryCache",(function(){return i}),(function(e){return i=e}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function o(e,t,...n){e&&console.log(t,...n)}const i=({underlyingStorage:e,throttleMs:t,cacheKey:n="REACT_QUERY_OFFLINE_CACHE",maxCacheSizeBytes:i=5242880,enableDebugLogs:s=!1})=>{let a=null;return setInterval((()=>{r(void 0,void 0,void 0,(function*(){if(a)try{const t=JSON.stringify(a),r=t.length;r<i?yield e.set(n,t):(yield e.remove(n),o(s,"[React Query Offline Cache] Removed offline cache. Size:",r,"bytes")),a=null}catch(e){}}))}),t),{persistClient:e=>{a=e},restoreClient:()=>r(void 0,void 0,void 0,(function*(){try{const t=yield e.get(n);if(!t)return void o(s,"[React Query Offline Cache] No offline cache restored.");const r=JSON.parse(t),i=t.length;return o(s,"[React Query Offline Cache] Restored RQ offline cache. Size:",i,"bytes"),r}catch(e){return void o(s,"[React Query Offline Cache] Error restoring offline cache.")}})),removeClient:()=>(o(s,"[React Query Offline Cache] Removed offline cache."),e.remove(n))}}})),i.register("kkyJd",(function(t,n){e(t.exports,"QueryClient",(function(){return p}));var r=i("iKKzk"),o=i("bEFfr"),s=i("7CTMq"),a=i("ixnow"),u=i("kKX7c"),c=i("4nwh4"),l=i("cccYE"),d=i("72SXf");class p{mount(){this.unsubscribeFocus=a.focusManager.subscribe((()=>{a.focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())})),this.unsubscribeOnline=u.onlineManager.subscribe((()=>{u.onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)}isFetching(e,t){const[n]=(0,r.parseFilterArgs)(e,t);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data}getQueriesData(e){return this.getQueryCache().findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const o=this.queryCache.find(e),i=null==o?void 0:o.state.data,s=(0,r.functionalUpdate)(t,i);if(void 0===s)return;const a=(0,r.parseQueryArgs)(e),u=this.defaultQueryOptions(a);return this.queryCache.build(this,u).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return c.notifyManager.batch((()=>this.getQueryCache().findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state}removeQueries(e,t){const[n]=(0,r.parseFilterArgs)(e,t),o=this.queryCache;c.notifyManager.batch((()=>{o.findAll(n).forEach((e=>{o.remove(e)}))}))}resetQueries(e,t,n){const[o,i]=(0,r.parseFilterArgs)(e,t,n),s=this.queryCache,a={type:"active",...o};return c.notifyManager.batch((()=>(s.findAll(o).forEach((e=>{e.reset()})),this.refetchQueries(a,i))))}cancelQueries(e,t,n){const[o,i={}]=(0,r.parseFilterArgs)(e,t,n);void 0===i.revert&&(i.revert=!0);const s=c.notifyManager.batch((()=>this.queryCache.findAll(o).map((e=>e.cancel(i)))));return Promise.all(s).then(r.noop).catch(r.noop)}invalidateQueries(e,t,n){const[o,i]=(0,r.parseFilterArgs)(e,t,n);return c.notifyManager.batch((()=>{var e,t;if(this.queryCache.findAll(o).forEach((e=>{e.invalidate()})),"none"===o.refetchType)return Promise.resolve();const n={...o,type:null!=(e=null!=(t=o.refetchType)?t:o.type)?e:"active"};return this.refetchQueries(n,i)}))}refetchQueries(e,t,n){const[o,i]=(0,r.parseFilterArgs)(e,t,n),s=c.notifyManager.batch((()=>this.queryCache.findAll(o).filter((e=>!e.isDisabled())).map((e=>{var t;return e.fetch(void 0,{...i,cancelRefetch:null==(t=null==i?void 0:i.cancelRefetch)||t,meta:{refetchPage:o.refetchPage}})}))));let a=Promise.all(s).then(r.noop);return null!=i&&i.throwOnError||(a=a.catch(r.noop)),a}fetchQuery(e,t,n){const o=(0,r.parseQueryArgs)(e,t,n),i=this.defaultQueryOptions(o);void 0===i.retry&&(i.retry=!1);const s=this.queryCache.build(this,i);return s.isStaleByTime(i.staleTime)?s.fetch(i):Promise.resolve(s.state.data)}prefetchQuery(e,t,n){return this.fetchQuery(e,t,n).then(r.noop).catch(r.noop)}fetchInfiniteQuery(e,t,n){const o=(0,r.parseQueryArgs)(e,t,n);return o.behavior=(0,l.infiniteQueryBehavior)(),this.fetchQuery(o)}prefetchInfiniteQuery(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(r.noop).catch(r.noop)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const n=this.queryDefaults.find((t=>(0,r.hashQueryKey)(e)===(0,r.hashQueryKey)(t.queryKey)));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find((t=>(0,r.partialMatchKey)(e,t.queryKey)));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){const n=this.mutationDefaults.find((t=>(0,r.hashQueryKey)(e)===(0,r.hashQueryKey)(t.mutationKey)));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find((t=>(0,r.partialMatchKey)(e,t.mutationKey)));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=(0,r.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}constructor(e={}){this.queryCache=e.queryCache||new(0,o.QueryCache),this.mutationCache=e.mutationCache||new(0,s.MutationCache),this.logger=e.logger||d.defaultLogger,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}}})),i.register("bEFfr",(function(t,n){e(t.exports,"QueryCache",(function(){return u}));var r=i("iKKzk"),o=i("lS8qk"),s=i("4nwh4"),a=i("5rODI");class u extends a.Subscribable{build(e,t,n){var i;const s=t.queryKey,a=null!=(i=t.queryHash)?i:(0,r.hashQueryKeyByOptions)(s,t);let u=this.get(a);return u||(u=new(0,o.Query)({cache:this,logger:e.getLogger(),queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s),meta:t.meta}),this.add(u)),u}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((t=>t!==e)),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){s.notifyManager.batch((()=>{this.queries.forEach((e=>{this.remove(e)}))}))}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[n]=(0,r.parseFilterArgs)(e,t);return void 0===n.exact&&(n.exact=!0),this.queries.find((e=>(0,r.matchQuery)(n,e)))}findAll(e,t){const[n]=(0,r.parseFilterArgs)(e,t);return Object.keys(n).length>0?this.queries.filter((e=>(0,r.matchQuery)(n,e))):this.queries}notify(e){s.notifyManager.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){s.notifyManager.batch((()=>{this.queries.forEach((e=>{e.onFocus()}))}))}onOnline(){s.notifyManager.batch((()=>{this.queries.forEach((e=>{e.onOnline()}))}))}constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}}})),i.register("lS8qk",(function(t,n){e(t.exports,"Query",(function(){return c}));var r=i("iKKzk"),o=i("72SXf"),s=i("4nwh4"),a=i("7bSUD"),u=i("vxiv0");class c extends u.Removable{setOptions(e){this.options={...this.defaultOptions,...e},this.meta=null==e?void 0:e.meta,this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){const n=(0,r.replaceData)(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(r.noop).catch(r.noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some((e=>!1!==e.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((e=>e.getCurrentResult().isStale))}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,r.timeUntilStale)(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var n,o;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return null==(i=this.retryer)||i.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}Array.isArray(this.options.queryKey);const s=(0,r.getAbortController)(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(s)return this.abortSignalConsumed=!0,s.signal}})};c(u);const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(u)):Promise.reject("Missing queryFn"),meta:this.meta};var d;(c(l),null==(n=this.options.behavior)||n.onFetch(l),this.revertState=this.state,"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(o=l.fetchOptions)?void 0:o.meta))&&this.dispatch({type:"fetch",meta:null==(d=l.fetchOptions)?void 0:d.meta});const p=e=>{var t,n;((0,a.isCancelledError)(e)&&e.silent||this.dispatch({type:"error",error:e}),(0,a.isCancelledError)(e))||(null==(t=(n=this.cache.config).onError)||t.call(n,e,this));this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=(0,a.createRetryer)({fn:l.fetchFn,abort:null==s?void 0:s.abort.bind(s),onSuccess:e=>{var t,n;void 0!==e?(this.setData(e),null==(t=(n=this.cache.config).onSuccess)||t.call(n,e,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):p(new Error("undefined"))},onError:p,onFail:()=>{this.dispatch({type:"failed"})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return{...t,fetchFailureCount:t.fetchFailureCount+1};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchMeta:null!=(n=e.meta)?n:null,fetchStatus:(0,a.canFetch)(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(r=e.dataUpdatedAt)?r:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0}};case"error":const o=e.error;return(0,a.isCancelledError)(o)&&o.revert&&this.revertState?{...this.revertState}:{...t,error:o,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),s.notifyManager.batch((()=>{this.observers.forEach((t=>{t.onQueryUpdate(e)})),this.cache.notify({query:this,type:"updated",action:e})}))}constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||o.defaultLogger,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==e.initialData?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,r=void 0!==t;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.meta=e.meta}}})),i.register("7CTMq",(function(t,n){e(t.exports,"MutationCache",(function(){return u}));var r=i("4nwh4"),o=i("lOsKv"),s=i("iKKzk"),a=i("5rODI");class u extends a.Subscribable{build(e,t,n){const r=new(0,o.Mutation)({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(r),r}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter((t=>t!==e)),this.notify({type:"removed",mutation:e})}clear(){r.notifyManager.batch((()=>{this.mutations.forEach((e=>{this.remove(e)}))}))}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find((t=>(0,s.matchMutation)(e,t)))}findAll(e){return this.mutations.filter((t=>(0,s.matchMutation)(e,t)))}notify(e){r.notifyManager.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.mutations.filter((e=>e.state.isPaused));return r.notifyManager.batch((()=>e.reduce(((e,t)=>e.then((()=>t.continue().catch(s.noop)))),Promise.resolve())))}constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}}})),i.register("1VmTz",(function(t,n){e(t.exports,"ReactQueryDevtools",(function(){return r}));const r=function(){return null}})),i.register("eBByC",(function(t,n){e(t.exports,"PersistQueryClientProvider",(function(){return c}));var r=i("90fwX"),o=i("29o0l"),s=i("kJsYu"),a=i("8mX7P"),u=i("7dHjq");const c=({client:e,children:t,persistOptions:n,onSuccess:i,...c})=>{const[l,d]=o.useState(!0),p=o.useRef({persistOptions:n,onSuccess:i});return o.useEffect((()=>{p.current={persistOptions:n,onSuccess:i}})),o.useEffect((()=>{let t=!1;d(!0);const[n,r]=(0,s.persistQueryClient)({...p.current.persistOptions,queryClient:e});return r.then((()=>{t||(null==p.current.onSuccess||p.current.onSuccess(),d(!1))})),()=>{t=!0,n()}}),[e]),o.createElement(u.QueryClientProvider,(0,r.extends)({client:e},c),o.createElement(a.IsRestoringProvider,{value:l},t))}})),i.register("90fwX",(function(t,n){function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}e(t.exports,"extends",(function(){return r}))})),i.register("kJsYu",(function(t,n){e(t.exports,"persistQueryClient",(function(){return s}));var r=i("93Hhe");async function o({queryClient:e,persister:t,buster:n="",dehydrateOptions:o}){const i={buster:n,timestamp:Date.now(),clientState:(0,r.dehydrate)(e,o)};await t.persistClient(i)}function s(e){let t,n=!1;const i=async function({queryClient:e,persister:t,maxAge:n=864e5,buster:o="",hydrateOptions:i}){try{const s=await t.restoreClient();if(s)if(s.timestamp){const a=Date.now()-s.timestamp>n,u=s.buster!==o;a||u?t.removeClient():(0,r.hydrate)(e,s.clientState,i)}else t.removeClient()}catch(e){t.removeClient()}}(e).then((()=>{n||(t=function(e){const t=e.queryClient.getQueryCache().subscribe((()=>{o(e)})),n=e.queryClient.getMutationCache().subscribe((()=>{o(e)}));return()=>{t(),n()}}(e))}));return[()=>{n=!0,null==t||t()},i]}})),i.register("93Hhe",(function(t,n){function r(e){return e.state.isPaused}function o(e){return"success"===e.state.status}function i(e,t={}){const n=[],i=[];if(!1!==t.dehydrateMutations){const o=t.shouldDehydrateMutation||r;e.getMutationCache().getAll().forEach((e=>{o(e)&&n.push(function(e){return{mutationKey:e.options.mutationKey,state:e.state}}(e))}))}if(!1!==t.dehydrateQueries){const n=t.shouldDehydrateQuery||o;e.getQueryCache().getAll().forEach((e=>{n(e)&&i.push(function(e){return{state:e.state,queryKey:e.queryKey,queryHash:e.queryHash}}(e))}))}return{mutations:n,queries:i}}function s(e,t,n){if("object"!=typeof t||null===t)return;const r=e.getMutationCache(),o=e.getQueryCache(),i=t.mutations||[],s=t.queries||[];i.forEach((t=>{var o;r.build(e,{...null==n||null==(o=n.defaultOptions)?void 0:o.mutations,mutationKey:t.mutationKey},t.state)})),s.forEach((t=>{var r;const i=o.get(t.queryHash);i?i.state.dataUpdatedAt<t.state.dataUpdatedAt&&i.setState(t.state):o.build(e,{...null==n||null==(r=n.defaultOptions)?void 0:r.queries,queryKey:t.queryKey,queryHash:t.queryHash},t.state)}))}e(t.exports,"dehydrate",(function(){return i})),e(t.exports,"hydrate",(function(){return s}))})),i.register("iJRtg",(function(t,n){e(t.exports,"shouldDehydrateQuery",(function(){return m}));var r=i("21aqi");i("hM5LD");var o=i("hSXsO");i("bBa7X");var s=i("7SrdS");i("fVtZG");var a=i("1z0aW");i("ibwoK");var u=i("g5ETd");i("hnZYD");var c=i("9Emft"),l=i("kram9"),d=i("7gANb"),p=i("3FEtE"),f=i("gcdBN");const h=()=>!0,y={tokens:h,prices:h,collectibles:r.collectiblesShouldDehydrateQueryPredicate,swapper:l.swapperShouldDehydrateQueryPredicate,transferFungibleLoggingContext:h,[d.TRANSACTIONS_TIMESTAMPS_QUERY_KEY]:h,[u.ACTION_BANNERS_QUERY_KEY]:h,[s.FIAT_RAMP_FUNGIBLES_QUERY_KEY]:h,[p.WALLET_SCREEN_ACTION_QUERY_KEY]:h,[a.InfiniteHistoryItemsKey]:h,[c.QUESTS_QUERY_KEY]:h,[o.EXPLORE_BASE_QUERY_KEY]:h,"test-debug-query":f.isDebugBuild},m=e=>{if(0===e.queryKey.length)return!1;const t=String(e.queryKey[0]);return!!y[t]&&y[t](e)}})),i.register("fVtZG",(function(t,n){e(t.exports,"InfiniteHistoryItemsKey",(function(){return i("1z0aW").InfiniteHistoryItemsKey})),e(t.exports,"useFetchInfiniteHistoryItems",(function(){return i("1z0aW").useFetchInfiniteHistoryItems})),e(t.exports,"useFetchRefreshInfiniteHistoryItems",(function(){return i("1z0aW").useFetchRefreshInfiniteHistoryItems})),e(t.exports,"useRefreshHistory",(function(){return i("2zIBD").useRefreshHistory})),e(t.exports,"createHistoryRowLabels",(function(){return i("h5LSS").createHistoryRowLabels})),e(t.exports,"createPendingTransactionRowLabels",(function(){return i("h5LSS").createPendingTransactionRowLabels})),e(t.exports,"getAccountsWithFilter",(function(){return i("h5LSS").getAccountsWithFilter})),e(t.exports,"getTokenHistoryFilterId",(function(){return i("h5LSS").getTokenHistoryFilterId})),e(t.exports,"isCollectibleTokenType",(function(){return i("h5LSS").isCollectibleTokenType})),e(t.exports,"isSpamTransaction",(function(){return i("h5LSS").isSpamTransaction})),e(t.exports,"isReceiveTransaction",(function(){return i("h5LSS").isReceiveTransaction})),e(t.exports,"extractAddressfromBri",(function(){return i("12SBp").extractAddressfromBri}));i("5nl69"),i("1z0aW"),i("2zIBD"),i("h5LSS"),i("12SBp")})),i.register("5nl69",(function(t,n){e(t.exports,"HistoryItemsFetchCacheBustError",(function(){return l}),(function(e){return l=e})),e(t.exports,"fetchHistoryItems",(function(){return v}),(function(e){return v=e}));var r=i("2onIY"),o=i("beWYh"),s=i("csW2r"),a=i("7XqVB"),u=i("12SBp"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};class l extends Error{constructor(){super(...arguments),this.message="406: Cache bust!"}}class d extends Error{constructor(){super(...arguments),this.message="Server response malformed."}}class p extends Error{}class f extends Error{}const h=a.z.object({next:a.z.union([a.z.null(),a.z.string()]),results:a.z.array(u.HistoryItem)}),y=e=>c(void 0,void 0,void 0,(function*(){const t=new(0,o.RequestClient);t.withDefaultRetry(3,2e3);const n=yield t.post(`${(0,r.getAPIEnvironment)()}/history/v2`,e);if(406===n.status)throw new l;if(n.status>=400&&n.status<500)throw new f(`FetchHistoryItem: Status code: ${n.status}`);if(n.status>=500)throw new p(`FetchHistoryItem: Status code: ${n.status}`);return n.data})),m=e=>!Array.isArray(e.results)||"string"!=typeof e.next&&null!==e.next,v=e=>c(void 0,void 0,void 0,(function*(){var t;const n=yield y(e);if(m(n))throw new d;for(;(null===(t=n.results)||void 0===t?void 0:t.length)<10&&n.next;){if(m(n))throw new d;const e=yield y({next:n.next});n.next=e.next,n.results=[...n.results,...e.results]}try{return h.parse(n)}catch(e){const t=e,r=[],o=t.issues;for(let e=0;e<o.length;++e){const n=o[e].path;if("results"!==n[0])throw s.telemetry.captureError(t,s.FeatureTag.History),t;const i=n[1];if("number"!=typeof i)throw s.telemetry.captureError(t,s.FeatureTag.History),t;r.push(i)}r.sort((function(e,t){return t-e}));const i=r.map((e=>n.results[e])).map((e=>{var t;return(null===(t=e.interactionData)||void 0===t?void 0:t.transactionType)||""})),a=[];for(let e=0;e<r.length;++e){const t=r[e],o=n.results[t],i={timestamp:null==o?void 0:o.timestamp,owner:null==o?void 0:o.owner,id:null==o?void 0:o.id,chainMeta:null==o?void 0:o.chainMeta,interactionData:{transactionType:"UNCLASSIFIED_APP_INTERACTION",balanceChanges:[]}};try{u.HistoryItem.parse(i),n.results[t]=i,a.push(t)}catch(e){}}for(let e=0;e<r.length;++e){const t=r[e];-1===a.indexOf(t)&&n.results.splice(t,1)}r.length&&console.error(`Removed history items, ${i.join(",")}`);try{return h.parse(n)}catch(e){const t=e;throw s.telemetry.captureError(t,s.FeatureTag.History),t}}}))})),i.register("12SBp",(function(t,n){e(t.exports,"HistoryItem",(function(){return J})),e(t.exports,"extractAddressfromBri",(function(){return Z}));var r=i("iOvk1"),o=i("7gANb"),s=i("7XqVB");const a=s.z.enum(["Native","Fungible","SemiFungible","NonFungible","Unknown"]),u=s.z.object({id:s.z.string(),displayName:s.z.string().optional(),logoURI:s.z.union([s.z.string(),s.z.null()]).optional(),tokenType:a,decimals:s.z.number().optional(),symbol:s.z.string().optional(),isSpam:s.z.boolean().optional()}),c=s.z.object({id:r.BRI,displayName:s.z.string(),logoURI:s.z.union([s.z.string(),s.z.null()]).optional()}),l=s.z.object({token:u,amount:s.z.string(),to:r.BRI,from:r.BRI}),d=s.z.literal("UNCLASSIFIED_APP_INTERACTION"),p=s.z.literal("TOKEN_SEND"),f=s.z.literal("TOKEN_BURN"),h=s.z.literal("TOKEN_SWAP"),y=s.z.literal("TOKEN_UNWRAP"),m=s.z.literal("WITHDRAW_STAKE"),v=s.z.literal("DEACTIVATE_STAKE"),g=s.z.literal("STAKE"),S=s.z.literal("COLLECTIBLE_LIST"),E=s.z.literal("COLLECTIBLE_BUY_ITEM"),w=s.z.literal("COLLECTIBLE_CANCEL_BID"),x=s.z.literal("COLLECTIBLE_BID_ITEM"),b=s.z.literal("COLLECTIBLE_UNLIST"),A=s.z.literal("COLLECTIBLE_SELL_ITEM"),I=s.z.literal("CANCEL_TX"),T=s.z.literal("TOKEN_APPROVAL"),C=s.z.literal("CANCEL_ORDER"),k=s.z.literal("COLLECTION_APPROVAL"),R=s.z.literal("BRIDGE_INIT"),F=(s.z.union([d,p,f,h,y,m,v,g,S,E,w,x,b,A,I,T,C,k,R]),s.z.object({transactionType:d,balanceChanges:s.z.array(l),dapp:s.z.union([o.Dapp,s.z.null()]).optional()})),O=s.z.object({transactionType:p,balanceChanges:s.z.array(l).nonempty(),dapp:s.z.union([o.Dapp,s.z.null()]).optional()}),Q=s.z.object({transactionType:f,dapp:s.z.union([o.Dapp,s.z.null()]).optional(),token:u,amount:s.z.string()}),q=s.z.object({transactionType:h,dapp:s.z.union([o.Dapp,s.z.null()]).optional(),receiveToken:u,sendToken:u,receiveAmount:s.z.string(),sendAmount:s.z.string()}),B=s.z.object({transactionType:y,token:u,amount:s.z.string()}),D=s.z.object({transactionType:m,stakeAccount:r.BRI,amount:s.z.string()}),L=s.z.object({transactionType:v,stakeAccount:r.BRI,amount:s.z.string()}),N=s.z.object({transactionType:g,stakeAccount:r.BRI,amount:s.z.string(),validatorName:s.z.string(),validatorWebsite:s.z.string(),keybaseUsername:s.z.string()}),_=s.z.object({transactionType:I}),M=s.z.object({dapp:s.z.union([o.Dapp,s.z.null()]),itemAmount:s.z.string().optional(),item:u,forAmount:s.z.string(),forAsset:u,listingUrl:s.z.string().optional()}),P=M.merge(s.z.object({transactionType:S})),U=M.merge(s.z.object({transactionType:E})),K=M.merge(s.z.object({transactionType:w})),z=M.merge(s.z.object({transactionType:x})),j=M.merge(s.z.object({transactionType:b})),V=M.merge(s.z.object({transactionType:A})),H=s.z.object({transactionType:T,dapp:s.z.union([o.Dapp,s.z.null()]).optional(),token:u,value:s.z.string().optional(),isApproved:s.z.boolean()}),$=s.z.object({transactionType:C,dapp:s.z.union([o.Dapp,s.z.null()]).optional(),orderId:s.z.string()}),Y=s.z.object({transactionType:k,collection:c,dapp:s.z.union([o.Dapp,s.z.null()]).optional(),isApproved:s.z.boolean()}),W=s.z.object({transactionType:R,dapp:s.z.union([o.Dapp,s.z.null()]).optional(),balanceChanges:s.z.array(l).nonempty(),explorerUrl:s.z.string().optional()}),X=s.z.enum(["success","failed"]),G=s.z.object({networkFee:s.z.string().optional(),networkFeePayer:s.z.string().optional(),status:X,errorMessage:s.z.union([s.z.string(),s.z.null()]),blockNumber:s.z.string(),chainId:r.NetworkID,transactionId:s.z.string()}),J=s.z.object({timestamp:s.z.number(),owner:r.BRI,id:r.BRI,interactionData:s.z.union([F,O,Q,q,B,D,L,N,P,U,K,z,j,V,_,H,$,Y,W]),chainMeta:G}),Z=e=>{const t=e.split("/")[1],n=null==t?void 0:t.split(":");return n&&n[1]}})),i.register("1z0aW",(function(t,n){e(t.exports,"InfiniteHistoryItemsKey",(function(){return p}),(function(e){return p=e})),e(t.exports,"infiniteHistoryItemsQueryKey",(function(){return f}),(function(e){return f=e})),e(t.exports,"useFetchInfiniteHistoryItems",(function(){return h}),(function(e){return h=e})),e(t.exports,"useFetchRefreshInfiniteHistoryItems",(function(){return y}),(function(e){return y=e}));var r=i("iOvk1"),o=i("csW2r"),s=i("wGjeD"),a=i("5ekp2"),u=i("7dHjq"),c=i("29o0l"),l=i("5nl69"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const p="fetch-infinite-history-items",f=e=>[p,e],h=e=>{const t=(0,u.useQueryClient)();(0,c.useEffect)((()=>{const n=f(e),r=t.getQueryState(n,{exact:!0,fetchStatus:"fetching"});(null==r?void 0:r.data)&&t.removeQueries(n,{exact:!0})}),[t,e]),(0,c.useEffect)((()=>()=>{t.cancelQueries([p],{exact:!1})}),[t]);const n=(0,s.useInfiniteQuery)(f(e),(({pageParam:t})=>d(void 0,void 0,void 0,(function*(){return t?yield(0,l.fetchHistoryItems)({next:t}):yield(0,l.fetchHistoryItems)({accounts:e||[]})}))),{getNextPageParam:e=>e.next,cacheTime:1/0,staleTime:1/0,retry:!1,enabled:!!(null==e?void 0:e.length)&&e.every((e=>!r.Chains.isLocalNetworkID(e.chainId))),onError:n=>{n instanceof l.HistoryItemsFetchCacheBustError&&((e,t)=>{e.removeQueries(t,{exact:!0})})(t,f(e)),o.telemetry.captureError(n,o.FeatureTag.History)}});return n},y=e=>{var t,n;const i=(0,u.useQueryClient)(),s=i.getQueryState(f(e),{exact:!0}),h=null===(n=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.pages[0])||void 0===n?void 0:n.results[0],y=(0,a.useQuery)(((e,t)=>["refresh-fetch-infinite-history-items",e,t])(e,null==h?void 0:h.id),(({queryKey:[,e,t]})=>d(void 0,void 0,void 0,(function*(){return Date.now()-((null==s?void 0:s.dataUpdatedAt)||0)<500?null:t?yield(0,l.fetchHistoryItems)({accounts:e||[],latestTransactionStored:t}):yield(0,l.fetchHistoryItems)({accounts:e||[]})}))),{cacheTime:0,staleTime:0,retry:!1,enabled:!!s&&"loading"!==s.status&&!!(null==e?void 0:e.length)&&e.every((e=>!r.Chains.isLocalNetworkID(e.chainId))),onError:e=>o.telemetry.captureError(e,o.FeatureTag.History)});return(0,c.useEffect)((()=>{var t;if(null===(t=y.data)||void 0===t?void 0:t.results.length){const t=y.data;i.cancelQueries([p],{exact:!1}),i.setQueryData([p,e],(()=>({pages:[t],pageParams:[]})))}}),[y.data,i,e]),y}})),i.register("2zIBD",(function(t,n){e(t.exports,"useRefreshHistory",(function(){return l}),(function(e){return l=e}));var r=i("iOvk1"),o=i("RVqnc"),s=i("7dHjq"),a=i("29o0l"),u=i("1z0aW"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const l=(e,t)=>{const[n,i]=(0,a.useState)(0),[l,d]=(0,a.useState)(!1),p=(0,s.useQueryClient)().getQueryData((0,u.infiniteHistoryItemsQueryKey)(e),{exact:!0}),f=(0,a.useMemo)((()=>(null==p?void 0:p.pages[0].results.map((e=>e.chainMeta.transactionId)))||[]),[null==p?void 0:p.pages]),{refetch:h,isError:y,isFetching:m}=(0,u.useFetchRefreshInfiniteHistoryItems)(e);return(0,a.useEffect)((()=>{let e=0;!function(){var n;c(this,void 0,void 0,(function*(){let s=[];function a(e){return t.some((t=>{const n=e.length?e:f;switch(t.networkID){case r.NetworkIDs.Ethereum.Mainnet:case r.NetworkIDs.Ethereum.Goerli:case r.NetworkIDs.Ethereum.Sepolia:case r.NetworkIDs.Polygon.Mainnet:case r.NetworkIDs.Polygon.Mumbai:return!n.includes(t.data.transactions[t.data.transactions.length-1].hash);case r.NetworkIDs.Solana.Mainnet:case r.NetworkIDs.Solana.Testnet:case r.NetworkIDs.Solana.Devnet:case r.NetworkIDs.Solana.Localnet:return!n.includes(t.data.signature);case r.NetworkIDs.Bitcoin.Mainnet:case r.NetworkIDs.Bitcoin.Testnet:return!n.includes(t.data.txID);default:return(0,o.assertNever)(t)}}))}if(a(s)){for(i((e=>e+1));e<5&&a(s);)try{const t=yield h();s=(null===(n=t.data)||void 0===n?void 0:n.results.map((e=>e.chainMeta.transactionId)))||[],++e}catch(e){}i((e=>e-1))}}))}()}),[t,f,h]),(0,a.useEffect)((()=>{d(n>0)}),[n]),{refresh:h,isRefreshError:y,isRefreshing:m,isRefreshingConfirmedTxs:l}}})),i.register("h5LSS",(function(n,r){e(n.exports,"createHistoryRowLabels",(function(){return h})),e(n.exports,"isReceiveTransaction",(function(){return S})),e(n.exports,"isCollectibleTokenType",(function(){return v})),e(n.exports,"createPendingTransactionRowLabels",(function(){return y})),e(n.exports,"getAccountsWithFilter",(function(){return m})),e(n.exports,"isSpamTransaction",(function(){return g})),e(n.exports,"getTokenHistoryFilterId",(function(){return E}));var o=i("4xbAj"),s=i("iOvk1"),a=i("5slFC"),u=i("bO44J"),c=i("7gANb"),l=i("RVqnc"),d=i("29o0l"),p=i("Nt4tV"),f=i("12SBp");const h=(e,n,r,i,a)=>{var c;const{interactionData:h,chainMeta:y}=e,{transactionType:m}=h,g="failed"===y.status,E=y.chainId,{symbol:w}=u.NATIVE_TOKEN_MAP[E],x=n("historyUnknownDappName"),b=t(d).createElement(r,{historyItem:e,size:"small",isDetailViewOrSvg:!1});switch(m){case"TOKEN_SEND":{const e=h.balanceChanges[0],{token:{symbol:t,displayName:r,tokenType:s,decimals:u},amount:c}=e,d=S(e,a),y=v(s);let m="";if(!g&&void 0!==u&&!("NonFungible"===s)){const e=d?"+":"-";m=y?`${e}${(0,p.amountToFormattedAmount)(c,u)}`:`${e}${(0,p.amountToFormattedAmount)(c,u)}${t?` ${(0,l.truncateString)(t,6)}`:""}`}if(d){const t=(0,f.extractAddressfromBri)(e.from),s=(0,o.formatAddress)(t,void 0,i(t,E));return{topLeft:{label:`${n("transactionsReceived")} ${y?r||n("richTransactionDetailUnknownNFT"):""}`},topRight:{label:`${m}`,color:"#21E56F"},bottomLeft:{label:n("transactionsFromParagraphInterpolated",{from:s,defaultValue:`From ${s}`})},image:b}}{const t=(0,f.extractAddressfromBri)(e.to),s=(0,o.formatAddress)(t,void 0,i(t,E));return{topLeft:{label:g?n("transactionsSendFailed"):`${n("transactionsSent")} ${y?r||n("richTransactionDetailUnknownNFT"):""}`},topRight:{label:`${m}`,color:"#FFFFFF"},bottomLeft:{label:n("transactionsToParagraphInterpolated",{to:s,defaultValue:`To ${s}`})},image:b}}}case"TOKEN_BURN":{const{amount:e,token:t}=h;let r="";return r=t.displayName?"1"===e?t.displayName:`${t.displayName} (${e})`:n("richTransactionDetailUnknownNFT"),{topLeft:{label:g?`${n("transactionsFailedBurn")}`:`${n("transactionsBurned")}`},bottomLeft:{label:r},image:b}}case"TOKEN_UNWRAP":{const{amount:e,token:t}=h;return{topLeft:{label:g?`${n("transactionsUnwrappedFailed")}`:`${n("transactionsUnwrapped")}`},topRight:{label:g?"":`${(0,p.amountToFormattedAmount)(e,null!==(c=t.decimals)&&void 0!==c?c:0)} ${t.symbol}`,color:"#FFFFFF"},image:b}}case"TOKEN_SWAP":{const{receiveAmount:e,receiveToken:t,sendAmount:r,sendToken:i,dapp:s}=h,a=s?s.displayName:n("historyUnknownDappName"),u=(0,o.formatAddressShort)((0,f.extractAddressfromBri)(i.id)||""),c=(0,o.formatAddressShort)((0,f.extractAddressfromBri)(t.id)||"");let d="";g||void 0===t.decimals||(d=`+${(0,p.amountToFormattedAmount)(e,t.decimals)} ${(0,l.truncateString)(t.symbol||c,6)}`);let y="";return g||void 0===i.decimals||(y=`-${(0,p.amountToFormattedAmount)(r,i.decimals)} ${(0,l.truncateString)(i.symbol||u,6)}`),{topLeft:{label:n(g?"transactionsFailedSwap":"transactionsSwapped")},topRight:{label:d,color:"#21E56F"},bottomLeft:{label:a},bottomRight:{label:y,color:"#FFFFFF"},image:b}}case"BRIDGE_INIT":{const e=h.dapp?h.dapp.displayName:x,t=h.balanceChanges[0],{token:{symbol:r,decimals:o},amount:i}=t,s=r?` ${(0,l.truncateString)(r,6)}`:"";if(!g&&void 0!==o){const t=`-${(0,p.amountToFormattedAmount)(i,o)}${s}`;return{topLeft:{label:g?n("transactionBridgeInitiatedFailed"):`${n("transactionBridgeInitiated")}`},bottomLeft:{label:e},topRight:{label:`${t}`,color:"#FFFFFF"},image:b}}return{topLeft:{label:g?n("transactionBridgeInitiatedFailed"):`${n("transactionBridgeInitiated")}`},bottomLeft:{label:e},image:b}}case"WITHDRAW_STAKE":{const{amount:e,stakeAccount:t}=h,r=(0,f.extractAddressfromBri)(t),i=s.Chains.getTokenSymbol(E);return{topLeft:{label:n(g?"transactionsWithdrawStakeFailed":"transactionsWithdrawStake")},topRight:{label:g?"":`${(0,p.amountToFormattedAmount)(e,u.NATIVE_TOKEN_MAP[E].decimals)} ${(0,l.truncateString)(i,6)}`,color:"#FFFFFF"},bottomLeft:{label:(0,o.formatHashMedium)(r,4)},image:b}}case"DEACTIVATE_STAKE":{const{stakeAccount:e}=h,t=(0,f.extractAddressfromBri)(e);return{topLeft:{label:n(g?"transactionsDeactivateStakeFailed":"transactionsDeactivateStake")},bottomLeft:{label:(0,o.formatHashMedium)(t,4)},image:b}}case"STAKE":{const{amount:e,stakeAccount:t,validatorName:r}=h,i=(0,f.extractAddressfromBri)(t);return{topLeft:{label:n(g?"transactionsStakedFailed":"transactionsStaked")},topRight:{label:g?"":`${(0,p.amountToFormattedAmount)(e,u.NATIVE_TOKEN_MAP[E].decimals)} ${(0,l.truncateString)(w,6)}`,color:"#FFFFFF"},bottomLeft:{label:r||(0,o.formatHashMedium)(i,4)},image:b}}case"COLLECTIBLE_LIST":{const{dapp:e,item:t}=h,r=e?e.displayName:n("historyUnknownDappName"),o=t.displayName||n("richTransactionDetailUnknownNFT");return{topLeft:{label:g?n("transactionsListedFailed"):n("transactionsListedInterpolated",{name:o})},bottomLeft:{label:r},image:b}}case"COLLECTIBLE_BUY_ITEM":{const{dapp:e,itemAmount:t,item:r,forAsset:i,forAmount:s}=h,a=e?e.displayName:n("historyUnknownDappName"),u=void 0!==i.decimals?`-${(0,p.amountToFormattedAmount)(s,i.decimals)} ${(0,l.truncateString)(i.symbol||"",6)}`:n("transactionsUnknownAmount"),c=r.symbol||(0,o.formatAddressShort)((0,f.extractAddressfromBri)(r.id)),d=t&&"SemiFungible"===r.tokenType?`+${t} ${c}`:`+${c}`;return{topLeft:{label:n(g?"transactionsBuyFailed":"transactionsBoughtCollectible")},topRight:{label:g?"":d,color:"#21E56F"},bottomRight:{label:g?"":`${u}`,color:"#FFFFFF"},bottomLeft:{label:a},image:b}}case"COLLECTIBLE_CANCEL_BID":{const{dapp:e,item:t}=h,r=e?e.displayName:n("historyUnknownDappName"),o=t.displayName||n("richTransactionDetailUnknownNFT");return{topLeft:{label:g?n("transactionsCancelBidOnFailed"):n("transactionsCancelBidOnInterpolated",{name:o})},bottomLeft:{label:r},image:b}}case"COLLECTIBLE_BID_ITEM":{const{dapp:e,item:t}=h,r=e?e.displayName:n("historyUnknownDappName"),o=t.displayName||n("richTransactionDetailUnknownNFT");return{topLeft:{label:g?n("transactionsBidFailed"):n("transactionsBidOnInterpolated",{name:o})},bottomLeft:{label:r},image:b}}case"COLLECTIBLE_UNLIST":{const{dapp:e,item:t}=h,r=e?e.displayName:n("historyUnknownDappName"),o=t.displayName||n("richTransactionDetailUnknownNFT");return{topLeft:{label:g?n("transactionsUnlistedFailed"):n("transactionsUnlistedInterpolated",{name:o})},bottomLeft:{label:r},image:b}}case"COLLECTIBLE_SELL_ITEM":{const{dapp:e,itemAmount:t,item:r,forAsset:i,forAmount:s}=h,a=e?e.displayName:n("historyUnknownDappName"),u=void 0!==i.decimals?`+${(0,p.amountToFormattedAmount)(s,i.decimals)} ${(0,l.truncateString)(i.symbol||"",6)}`:n("transactionsUnknownAmount"),c=r.symbol||(0,o.formatAddressShort)((0,f.extractAddressfromBri)(r.id)),d=t&&"SemiFungible"===r.tokenType?`-${t} ${c}`:`-${c}`;return{topLeft:{label:n(g?"transactionsSoldFailed":"transactionsSoldCollectible")},topRight:{label:g?"":`${u}`,color:"#21E56F"},bottomRight:{label:g?"":d,color:"#FFFFFF"},bottomLeft:{label:a},image:b}}case"CANCEL_TX":return{topLeft:{label:n(g?"transactionCancelledFailed":"transactionCancelled")},image:b};case"TOKEN_APPROVAL":{const{dapp:e,token:t,isApproved:r}=h,o=v(t.tokenType)?t.displayName:t.symbol;let i;return i=g?r?v(t.tokenType)?n("transactionApproveTokenFailed",{tokenSymbol:o}):n("transactionApprovalFailed"):v(t.tokenType)?n("transactionRevokeApproveTokenFailed",{tokenSymbol:o}):n("transactionRevokeFailed"):n(r?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:o}),{topLeft:{label:i},bottomLeft:{label:e?e.displayName:x,color:"#777"},image:b}}case"COLLECTION_APPROVAL":{const{collection:e,isApproved:t,dapp:r}=h,o=e.displayName;let i;return i=n(g?t?"transactionApproveTokenFailed":"transactionRevokeApproveTokenFailed":t?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:o}),{topLeft:{label:i},bottomLeft:{label:r?r.displayName:x,color:"#777"},image:b}}case"CANCEL_ORDER":{const{dapp:e}=h;return{topLeft:{label:n(g?"transactionCancelOrderFailed":"transactionCancelOrder")},bottomLeft:{label:(null==e?void 0:e.displayName)||n("historyUnknownDappName"),color:"#777"},image:b}}case"UNCLASSIFIED_APP_INTERACTION":{const{dapp:e}=h,t=e?e.displayName:x;return{topLeft:{label:n(g?"transactionsFailedAppInteraction":"transactionsAppInteraction")},bottomLeft:{label:t},image:b}}}},y=(e,n)=>{const{display:r,type:o}=e,{topLeft:i,topRight:s,bottomLeft:a,bottomRight:u}=r.summary;return{topLeft:i,topRight:s,bottomLeft:a,bottomRight:u,image:t(d).createElement(n,{logoUri:r.summary.logoUri,pendingTransactionType:o,size:"small"})}},m=(e,t,n)=>{var r;let o=(null!=e?e:[]).map(c.toAccount);if(t){const e=null===(r=o.find((e=>e.chainId===t)))||void 0===r?void 0:r.address;if(e){const r={chainId:t,address:e};n&&(r.filters=[{type:"token",value:n}]),o=[r]}}return o},v=e=>{switch(e){case"SemiFungible":case"NonFungible":return!0;default:return!1}},g=(e,t)=>{const{interactionData:n}=e;if("TOKEN_SEND"===n.transactionType){const e=n.balanceChanges[0],r=e.token;return S(e,t)&&!!r.isSpam}return!1},S=(e,t)=>{const n=(0,f.extractAddressfromBri)(e.to),r=(0,f.extractAddressfromBri)(e.from),o=t.some((e=>e.address.toLowerCase()===n.toLowerCase())),i=t.some((e=>e.address.toLowerCase()===r.toLowerCase()));return o&&!i},E=e=>{switch(null==e?void 0:e.type){case a.FungibleTokenType.BRC20:return e.data.firstCreatedInscriptionId;case a.FungibleTokenType.ERC20:return e.data.contractAddress;case a.FungibleTokenType.SPL:return e.data.splTokenAccountPubkey;default:return}}}))}();
//# sourceMappingURL=multichainMigration.41f1b5a4.js.map
define=__define;})(window.define);