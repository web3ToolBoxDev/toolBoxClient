(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequire1d24;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequire1d24=i),i.register("86Tdh",(function(e,t){i("eOkdY").register(JSON.parse('{"eITPT":"ConnectHardwareMultichainFlow.0390354b.js","5Hh3e":"bip32.0415b1e7.js","bnDSu":"Solana.39b78c22.js","aYF3y":"Solana.c02c12fc.js","ia8XW":"Eth.2d040527.js","9l3GE":"main.30915ee0.js","4nmlj":"semver.339a6680.js","jqZb5":"ledgerSignerBitcoin.49fa1444.js","8ZV50":"english.dc8cdfce.js","bSKtD":"crypto-browserify.e188246b.js","99t1D":"TransportWebHID.10460d8f.js","9Dpy0":"notification.5cbd182e.css"}'))})),i.register("eOkdY",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("gX5Te",(function(t,n){e(t.exports,"transactionsSdk",(function(){return _})),e(t.exports,"fungiblesSdk",(function(){return K})),e(t.exports,"hooks",(function(){return q}));var r=i("4xbAj");i("OZskz");var o=i("c8vyP"),s=i("iOvk1"),a=i("21aqi"),c=i("2onIY"),u=i("hM5LD"),d=i("bBa7X"),l=i("5slFC");i("eJxop");var f=i("3r36j");i("a8PCa");var p=i("hGGhs"),g=i("ibwoK");i("g9PKp");var h=i("89Vzt"),v=i("56oyT"),y=i("hnZYD"),m=i("5uSEV"),A=i("egHtJ"),T=i("HlEsU"),b=i("kram9"),w=i("7gANb"),S=i("3FEtE");i("iMnOw");var x=i("cxnZW"),E=i("2jR04"),C=i("5MNpG"),O=i("c8OXT"),D=i("41yT6"),k=i("cqeOY"),P=i("goVRJ"),I=i("JepPo"),L=i("twk6W"),R=i("dbmto");const N=new(0,P.LegacyIndexedDBProxy),j=new(0,w.PriorityFeeService),B=(0,C.getVaultProxy)(),F=(0,w.createUtxoManager)(new(0,w.UtxoStore)(N)),M=new(0,a.CollectiblesSdk),_=new(0,w.TransactionsSdk),K=new(0,l.FungiblesSdk),q=function(e){const{analytics:t,chainAvailabilityDeps:n,fungiblesSdk:i,legacyStorage:C,priorityFeeService:D,queryClient:P,storage:I,vaultProxy:N}=e,j=(0,s.createChainHooks)(N,n,P,[r.invalidateAllAccounts,m.invalidateAddressBookEntries,g.invalidateActionBanners]),B=(0,r.createAccountHooks)(N,I,C,P,j,t,(0,k.getLegacyMnemonicFetcher)()),_=(0,o.createAutoConfirmHooks)(N,I,j,t,P),K=(0,v.createPriceHooks)({queryClient:P,getApiEnvironment:c.getAPIEnvironment,analytics:t}),q=(0,m.createSettingsHooks)(N,I,C,P,j,t,O.BROWSER_ENV.browser.name===E.BROWSER_MAP.firefox||m.DEFAULT_IS_ANALYTICS_OPTED_OUT),U=(0,w.createTransactionHooks)(B,N,P,I,t,K,c.getAPIEnvironment,F),W=(0,A.createStakingHooks)(U,P,c.getAPIEnvironment,L.asyncStakeAnalytics),H=(0,T.createStorageHooks)(C,I,P),V=(0,S.createWalletScreenHooks)(c.getAPIEnvironment,t),$=(0,l.createFungibleHooks)({analytics:t,sdk:i,storage:I,legacyStorage:C,getApiEnvironment:c.getAPIEnvironment,queryClient:P,settingsHooks:q,transactionHooks:U,accountSigner:N,accountHooks:B,priorityFeeService:D,utxoManager:F,vaultProxy:N,chainHooks:j,priceHooks:K,walletScreenHooks:V}),G=(0,a.createCollectibleHooks)(N,I,c.getAPIEnvironment,P,D,B,t,K,U,$,F,M),z=(0,b.createSwapperHooks)(N,I,c.getAPIEnvironment,P,t,L.asyncSwapAnalytics,K,$,B,q,U),Q=(0,d.createFiatRampHooks)(c.getAPIEnvironment),Y=(0,R.getLedgerWebHIDDependencies)(),J=(0,f.createHardwareWireHooks)((0,R.getLedgerWebHIDDependencies)(),P),Z=(0,h.createOnboardingHooks)(I,P,t,Y,C),X=(0,g.createInterstitialHooks)(c.getAPIEnvironment,I,P,B,g.Platform.BrowserExt,t),ee=(0,x.createShortcutHooks)(c.getAPIEnvironment,P),te=(0,y.createQuestHooks)(c.getAPIEnvironment,P,B,q,(()=>(0,L.isFeatureEnabled)("kill-quests"))),ne=(0,u.createExploreHooks)(I,c.getAPIEnvironment,B,t.getDeviceId(),(()=>(0,L.isFeatureEnabled)("enable-bitcoin-explore"))),re=(0,p.createHealthHooks)();return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B),_),j),G),$),Z),K),q),W),H),z),U),J),Q),X),V),ee),te),ne),re)}({analytics:L.analytics,chainAvailabilityDeps:{storage:N,isBitcoinFlagEnabled:(0,L.isFeatureEnabled)("enable-bitcoin-default")},fungiblesSdk:K,legacyStorage:new(0,I.LocalStorage),priorityFeeService:j,queryClient:D.queryClient,storage:N,utxoManager:F,vaultProxy:B})})),i.register("OZskz",(function(t,n){e(t.exports,"createAutoConfirmHooks",(function(){return i("c8vyP").createAutoConfirmHooks})),e(t.exports,"AbstractAutoConfirmService",(function(){return i("gSZiQ").AbstractAutoConfirmService})),e(t.exports,"AutoConfirmAnalytics",(function(){return i("guZvk").AutoConfirmAnalytics})),i("fLCrw");i("c8vyP"),i("gSZiQ"),i("guZvk")})),i.register("fLCrw",(function(t,n){e(t.exports,"createAutoConfirmHooks",(function(){return i("c8vyP").createAutoConfirmHooks}));i("gwqsO"),i("gvOZ5"),i("4b0uC"),i("lSVit"),i("c8vyP")})),i.register("gwqsO",(function(e,t){i("3ljHn"),i("29o0l"),i("lSVit")})),i.register("lSVit",(function(t,n){e(t.exports,"useFetchEnabledNetworkIdsForDomain",(function(){return d}),(function(e){return d=e}));var r=i("2onIY"),o=i("beWYh"),s=i("5ekp2"),a=i("Nt4tV"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const u=e=>[`auto-confirm:${e}--enabled`];function d(e){return(0,s.useQuery)({queryKey:u((0,a.removeWebPrefixes)(e)),cacheTime:3e5,queryFn(){return c(this,void 0,void 0,(function*(){return yield function(e){return c(this,void 0,void 0,(function*(){const t=yield o.RequestClient.getInstance().post(`${(0,r.getAPIEnvironment)()}/auto-confirm/v1/dapp`,{domain:e}),{data:n}=t;return(null==n?void 0:n.supportedChainIds)&&Array.isArray(n.supportedChainIds)?n.supportedChainIds:[]}))}((0,a.removeWebPrefixes)(e))}))}})}})),i.register("gvOZ5",(function(n,r){e(n.exports,"useAutoConfirmSettingsStore",(function(){return a}));var o=i("gTwcH");const s={settings:void 0,origin:void 0,accountIdentifier:void 0},a=t(o)((e=>Object.assign(Object.assign({},s),{setSettingsForDomain:(t,n,r)=>e({accountIdentifier:t,origin:n,settings:r}),reset:()=>e(s)})))})),i.register("4b0uC",(function(n,r){e(n.exports,"useAutoConfirmSettingsProps",(function(){return g}),(function(e){return g=e}));var o=i("4xbAj"),s=i("3ljHn"),a=i("5uSEV"),c=i("4VuRl"),u=i("29o0l"),d=i("9w5Wb"),l=i("gvOZ5"),f=i("lSVit"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const g=(e,n,r,i,g,h,{origin:v,autoSave:y=!1})=>{const{data:m}=(0,o.useSelectedMultiChainAccount)(e,n,r,!1,i),A=m?m.identifier:"",{get:{data:T},set:{mutateAsync:b}}=(0,a.useAutoConfirmSettings)(n,h,A,v),w=t(d)(T),S=(0,o.useSelectedNetworks)(e,n,r,i),{data:x=[],isLoading:E}=(0,f.useFetchEnabledNetworkIdsForDomain)(v),{data:[C,O]}=(0,s.useFeatureFlags)(["kill-automatic-approval","enable-automatic-approval-for-all-dapps"]),D=x.length>0,k=!C&&(O||D),{shadowSettings:P,setShadowSettings:I,reset:L,origin:R,accountIdentifier:N}=(0,l.useAutoConfirmSettingsStore)((e=>({shadowSettings:e.settings,setShadowSettings:e.setSettingsForDomain,origin:e.origin,accountIdentifier:e.accountIdentifier,reset:e.reset})));t(u).useEffect((()=>{v==R&&A==N||L()}),[v,R,L,A,N]),t(u).useEffect((()=>{k&&null!=T&&(null!=T&&null==P&&I(A,v,T),null==T||!y||(0,c.dequal)(T,P)||(0,c.dequal)(T,w)||I(A,v,T))}),[T,I,P,v,A,k,y,R,N,w]);const j=t(u).useMemo((()=>(0,o.isHardwareWalletAccountType)(null==m?void 0:m.type)),[m]),B=t(u).useMemo((()=>O?S:S.filter((e=>x.includes(e)))),[S,x,O]),F=t(u).useCallback((e=>{var t;return e?!!(null===(t=null==P?void 0:P.networks)||void 0===t?void 0:t[e]):B.some((e=>{var t;return!!(null===(t=null==P?void 0:P.networks)||void 0===t?void 0:t[e])}))}),[B,P]),M=t(u).useCallback((e=>{var t,n;if(!k||j)return;const r=JSON.parse(JSON.stringify(P));if((null==r?void 0:r.networks)&&null==(null===(t=null==r?void 0:r.networks)||void 0===t?void 0:t[e]))r.networks[e]=!0;else{if(!(null==r?void 0:r.networks))return!1;r.networks[e]=!r.networks[e]}r.sessionStartTime=Date.now(),r.maxSessionDuration=a.MAX_SESSION_DURATION,I(A,v,r),y&&b(r);const o=null!==(n=r.networks[e])&&void 0!==n&&n;return g.onAutoConfirmSettingsChanged({origin:v,networkID:e,enabled:o,sessionStartTime:o?null==r?void 0:r.sessionStartTime:void 0,maxSessionDuration:o?null==r?void 0:r.maxSessionDuration:void 0,view:y?"TRUSTED_APP":"NOTIFICATION"}),o}),[k,j,P,I,A,v,y,g,b]),_=t(u).useCallback((()=>{if(!k||null==P||j)return;const e=!F(),t=JSON.parse(JSON.stringify(P));for(const n of B)t.networks[n]=e;return t.sessionStartTime=Date.now(),t.maxSessionDuration=a.MAX_SESSION_DURATION,I(A,v,JSON.parse(JSON.stringify(t))),y&&b(t),g.onAutoConfirmSettingsChanged({origin:v,networkID:"all",enabled:e,sessionStartTime:e?null==t?void 0:t.sessionStartTime:void 0,maxSessionDuration:e?null==t?void 0:t.maxSessionDuration:void 0,view:y?"TRUSTED_APP":"NOTIFICATION"}),e}),[k,P,j,F,I,A,v,y,g,B,b]),K=t(u).useCallback((()=>p(void 0,void 0,void 0,(function*(){k&&null!=P&&!j&&(yield b(P))}))),[P,b,k,j]),q=t(u).useMemo((()=>{var e;return null!=(null==P?void 0:P.sessionStartTime)?new Date((null==P?void 0:P.sessionStartTime)+1e3*(null!==(e=null==P?void 0:P.maxSessionDuration)&&void 0!==e?e:0)):null}),[null==P?void 0:P.sessionStartTime,null==P?void 0:P.maxSessionDuration]),U=E;return t(u).useMemo((()=>({enabled:k,isHardwareAccount:j,showAutoConfirmRow:k&&!j,toggle:M,networkIDs:B,isActive:F,untilDate:q,settings:P,toggleAll:_,save:K,resetShadowSettings:L,loading:U,isAutoConfirmIsTouched:!(0,c.dequal)(P,T)})),[k,j,M,B,F,q,P,_,K,L,U,T])}})),i.register("9w5Wb",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=i("29o0l");e.exports.default=function(e){var t=n.useRef();return n.useEffect((function(){t.current=e})),t.current}})),i.register("c8vyP",(function(t,n){e(t.exports,"createAutoConfirmHooks",(function(){return a}));var r=i("4xbAj"),o=i("guZvk"),s=i("4b0uC");function a(e,t,n,i,a){const c=new(0,r.AccountAnalytics)(i),u=new(0,o.AutoConfirmAnalytics)(i);return{useAutoConfirmSettingsProps:r=>(0,s.useAutoConfirmSettingsProps)(e,t,n,c,u,a,r)}}})),i.register("guZvk",(function(t,n){e(t.exports,"AutoConfirmAnalytics",(function(){return c}),(function(e){return c=e}));var r,o=i("csW2r"),s=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},a=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class c{onAutoConfirmSettingsChanged({origin:e,networkID:t,enabled:n,sessionStartTime:i,maxSessionDuration:s,view:c}){o.telemetry.addBreadcrumb(`Auto-Confirm: ${n?"Enabling":"Disabling"} network ID ${t}`,o.FeatureTag.AutoConfirm,o.Severity.Info),a(this,r,"f").capture("autoConfirmSettingsChanged",{data:{origin:e,networkId:t,enabled:n,sessionStartTime:n?i:void 0,maxSessionDuration:n?s:void 0,view:c}})}transactionAutoConfirmed(e,t){var n;const i={type:"transaction",sequenceId:e,data:t};return(null===(n=t.autoConfirm.auditTrail)||void 0===n?void 0:n.length)&&t.autoConfirm.auditTrail.length<7&&(t.autoConfirm.suspectSettingsTamper=!0),o.telemetry.addBreadcrumb(`Auto-Confirm: transaction on origin ${t.origin} for network ${t.networkId} auto-confirmed`,o.FeatureTag.AutoConfirm,o.Severity.Info),t.autoConfirm.suspectSettingsTamper&&o.telemetry.addBreadcrumb("Auto-Confirm: suspected tampering with settings...",o.FeatureTag.AutoConfirm,o.Severity.Info),a(this,r,"f").capture("transactionAutoConfirmed",i)}messageAutoConfirmed(e,t){var n;const i={type:"message",sequenceId:e,data:t};return(null===(n=t.autoConfirm.auditTrail)||void 0===n?void 0:n.length)&&t.autoConfirm.auditTrail.length<7&&(t.autoConfirm.suspectSettingsTamper=!0),o.telemetry.addBreadcrumb(`Auto-Confirm: message on origin ${t.origin} for network ${t.networkId} auto-confirmed`,o.FeatureTag.AutoConfirm,o.Severity.Info),t.autoConfirm.suspectSettingsTamper&&o.telemetry.addBreadcrumb("Auto-Confirm: suspected tampering with settings...",o.FeatureTag.AutoConfirm,o.Severity.Info),a(this,r,"f").capture("transactionAutoConfirmed",i)}constructor(e){r.set(this,void 0),s(this,r,e,"f")}}r=new WeakMap})),i.register("gSZiQ",(function(t,n){e(t.exports,"AbstractAutoConfirmService",(function(){return f}),(function(e){return f=e}));var r=i("cFUcx"),o=i("5uSEV"),s=i("7gANb"),a=i("Nt4tV"),c=i("cr4aP"),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const l=[];class f{isEthTransactionAutoConfirmable(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit=[];const t=yield this.didPassGenericChecks(e);if(t.status!==r.AutoConfirmStatusCode.OK)return t;if(!((yield this.isDappWhitelistOverridden())||(yield(0,c.isDappWhitelistedForTransaction)({chainId:e.networkID,domain:(0,a.removeWebPrefixes)(e.url.origin),txObjects:e.data}))))return Object.assign(Object.assign({},t),{status:r.AutoConfirmStatusCode.UnsupportedDapp,auditTrail:this.executedChecksAudit});const n=yield this.didPassEthTransactionSimulation(e),{success:o}=n,i=d(n,["success"]);return o?Object.assign(Object.assign(Object.assign({},t),i),{status:r.AutoConfirmStatusCode.OK,auditTrail:this.executedChecksAudit}):Object.assign(Object.assign(Object.assign({},t),i),{status:r.AutoConfirmStatusCode.SimulationFailed,auditTrail:this.executedChecksAudit})}))}isEthMessageAutoConfirmable(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit=[];const t=yield this.didPassGenericChecks(e);if(t.status!==r.AutoConfirmStatusCode.OK)return t;if(!((yield this.isDappWhitelistOverridden())||(yield(0,c.isDappWhitelistedForMessage)({chainId:e.networkID,domain:(0,a.removeWebPrefixes)(e.url.origin),data:e.data}))))return Object.assign(Object.assign({},t),{status:r.AutoConfirmStatusCode.UnsupportedDapp,auditTrail:this.executedChecksAudit});return(yield this.didPassEthMessageSimulation(e))?Object.assign(Object.assign({},t),{status:r.AutoConfirmStatusCode.OK,auditTrail:this.executedChecksAudit}):Object.assign(Object.assign({},t),{status:r.AutoConfirmStatusCode.SimulationFailed,auditTrail:this.executedChecksAudit})}))}isSolTransactionAutoConfirmable(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit=[];const t=yield this.didPassGenericChecks(e);if(t.status!==r.AutoConfirmStatusCode.OK)return t;if(!((yield this.isDappWhitelistOverridden())||(yield(0,c.isDappWhitelistedForTransaction)({chainId:e.networkID,domain:(0,a.removeWebPrefixes)(e.url.origin),transactions:e.data}))))return Object.assign(Object.assign({},t),{status:r.AutoConfirmStatusCode.UnsupportedDapp,auditTrail:this.executedChecksAudit});const n=yield this.didPassSolTransactionSimulation(e),{success:o}=n,i=d(n,["success"]);return o?Object.assign(Object.assign(Object.assign({},t),i),{status:r.AutoConfirmStatusCode.OK,auditTrail:this.executedChecksAudit}):Object.assign(Object.assign(Object.assign({},t),i),{status:r.AutoConfirmStatusCode.SimulationFailed,auditTrail:this.executedChecksAudit})}))}isSolMessageAutoConfirmable(e){return this.executedChecksAudit=[],Promise.resolve({status:r.AutoConfirmStatusCode.Unimplemented})}didPassGenericChecks(e){return u(this,void 0,void 0,(function*(){try{if(!(yield this.isFeatureEnabled()))return{status:r.AutoConfirmStatusCode.FeatureKilled};if(!(yield this.isWalletUnlocked()))return{status:r.AutoConfirmStatusCode.WalletLocked};if(!(yield this.isTabFocused(e.url.origin)))return{status:r.AutoConfirmStatusCode.TabNotFocused};if(!(yield this.isAutoConfirmEnabledInUserSettings({origin:e.url.origin,networkID:e.networkID,accountIdentifier:e.accountIdentifier})))return{status:r.AutoConfirmStatusCode.Disabled};const t=yield this.isAutoConfirmSessionActive(e.accountIdentifier,e.url.origin);return t.success?(yield this.isNotRateLimited())?{status:r.AutoConfirmStatusCode.OK,sessionStartTime:t.sessionStartTime,sessionMaxDuration:t.sessionMaxDuration}:{status:r.AutoConfirmStatusCode.RateLimitExceeded,sessionStartTime:t.sessionStartTime,sessionMaxDuration:t.sessionMaxDuration}:{status:r.AutoConfirmStatusCode.SessionExpired,sessionStartTime:t.sessionStartTime,sessionMaxDuration:t.sessionMaxDuration}}catch(e){return{status:r.AutoConfirmStatusCode.Unknown}}}))}isAutoConfirmEnabledInUserSettings({origin:e,accountIdentifier:t,networkID:n}){var i;return u(this,void 0,void 0,(function*(){this.executedChecksAudit.push(r.AutoConfirmCheck.IsAutoConfirmEnabledInUserSettings);const s=yield(0,o.getAutoConfirmSettingsForDomain)(this.storage,t,e);return!0===(null===(i=null==s?void 0:s.networks)||void 0===i?void 0:i[n])}))}isNotRateLimited(){this.executedChecksAudit.push(r.AutoConfirmCheck.IsNotRateLimited);const e=l.findIndex((e=>e<=Date.now()-6e4));return e>-1&&l.splice(e),!(l.length>=10)&&(l.push(Date.now()),!0)}isAutoConfirmSessionActive(e,t){return u(this,void 0,void 0,(function*(){this.executedChecksAudit.push(r.AutoConfirmCheck.IsAutoConfirmSessionActive);const n=yield(0,o.getAutoConfirmSettingsForDomain)(this.storage,e,t),i=(0,o.isAutoConfirmSessionActive)(n);return{sessionStartTime:n.sessionStartTime,sessionMaxDuration:n.maxSessionDuration,success:i}}))}didPassEthTransactionSimulation(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit.push(r.AutoConfirmCheck.DidPassEthTransactionSimulation);try{return function(e){var t,n,r,o,i,a;if(null==(null===(t=null==e?void 0:e.evaluation)||void 0===t?void 0:t.action))return{success:!1};if(null!=(null===(o=null===(r=null===(n=null==e?void 0:e.evaluation)||void 0===n?void 0:n.simulationResults)||void 0===r?void 0:r.error)||void 0===o?void 0:o.kind))return{success:!1};const c=s.simulations.estimateDollarValueFromEstimation(null===(a=null===(i=null==e?void 0:e.evaluation)||void 0===i?void 0:i.simulationResults)||void 0===a?void 0:a.expectedStateChanges).out;return{success:"NONE"===e.evaluation.action,dollarValue:parseFloat(c.toFixed(6))}}(yield s.simulations.scanMultichainTransaction({label:"autoConfirmScanTransaction",params:{networkID:e.networkID,url:e.url.href,userAccount:e.userAccountAddress,transactions:e.data}}))}catch(e){return{success:!1}}}))}didPassSolTransactionSimulation(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit.push(r.AutoConfirmCheck.DidPassSolTransactionSimulation);try{const t=yield s.simulations.scanMultichainTransaction({label:"autoConfirmScanTransaction",params:{networkID:e.networkID,url:e.url.href,userAccount:e.userAccountAddress,transactions:e.data}});return null==t?{success:!1}:function(e){var t,n,r,o,i,a;if(null==(null===(t=null==e?void 0:e.evaluation)||void 0===t?void 0:t.action))return{success:!1};if(null!=(null===(o=null===(r=null===(n=null==e?void 0:e.evaluation)||void 0===n?void 0:n.simulationResults)||void 0===r?void 0:r.error)||void 0===o?void 0:o.kind))return{success:!1};const c=s.simulations.estimateDollarValueFromEstimation(null===(a=null===(i=null==e?void 0:e.evaluation)||void 0===i?void 0:i.simulationResults)||void 0===a?void 0:a.expectedStateChanges).out;return{success:"NONE"===e.evaluation.action,dollarValue:parseFloat(c.toFixed(6))}}(t)}catch(e){return{success:!1}}}))}didPassEthMessageSimulation(e){return u(this,void 0,void 0,(function*(){this.executedChecksAudit.push(r.AutoConfirmCheck.DidPassEthMessageSimulation);try{const r=yield s.simulations.scanMessageQueryFn({networkID:e.networkID,parsedMessage:e.data,url:e.url.href,userAccount:e.userAccountAddress});return!(!r||r.error)&&(null!=(null===(n=null==(t=r)?void 0:t.evaluation)||void 0===n?void 0:n.action)&&"NONE"===t.evaluation.action)}catch(n){return!1}var t,n}))}constructor(e){this.storage=e,this.executedChecksAudit=[]}}})),i.register("cr4aP",(function(t,n){e(t.exports,"isDappWhitelistedForTransaction",(function(){return u}),(function(e){return u=e})),e(t.exports,"isDappWhitelistedForMessage",(function(){return d}),(function(e){return d=e}));var r=i("iOvk1"),o=i("2onIY"),s=i("beWYh"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const c=e=>`${(0,o.getAPIEnvironment)()}/auto-confirm/v1/${e}`;function u(e){return a(this,void 0,void 0,(function*(){if(r.Chains.isEVMNetworkID(e.chainId)){const t=(yield s.RequestClient.getInstance().post(c("transaction"),{txObjects:e.txObjects,chainId:e.chainId,domain:e.domain})).data;return!0===(null==t?void 0:t.isEligible)}if(r.Chains.isSolanaNetworkID(e.chainId)){const t=(yield s.RequestClient.getInstance().post(c("transaction"),{transactions:e.transactions,chainId:e.chainId,domain:e.domain})).data;return!0===(null==t?void 0:t.isEligible)}return!1}))}function d(e){return a(this,void 0,void 0,(function*(){if(r.Chains.isEVMNetworkID(e.chainId)){const t=JSON.parse(JSON.stringify(e.data));delete t.message,delete t.primaryType,delete t.types;const n=yield s.RequestClient.getInstance().post(c("message"),{chainId:e.chainId,domain:e.domain,data:[t]}),r=yield n.data;return!0===(null==r?void 0:r.isEligible)}return!1}))}})),i.register("eJxop",(function(t,n){e(t.exports,"refetchLedgerAddresses",(function(){return i("dZ3qP").refetchLedgerAddresses})),e(t.exports,"resetLedgerAddresses",(function(){return i("dZ3qP").resetLedgerAddresses})),e(t.exports,"setLedgerTransportStateOverride",(function(){return i("dZ3qP").setLedgerTransportStateOverride})),e(t.exports,"createHardwareWireHooks",(function(){return i("3r36j").createHardwareWireHooks})),e(t.exports,"DEFAULT_LEDGER_TRANSPORT_STATE",(function(){return i("bwiqA").DEFAULT_LEDGER_TRANSPORT_STATE})),e(t.exports,"LEDGER_NOT_CONNECTED_STATE",(function(){return i("bwiqA").LEDGER_NOT_CONNECTED_STATE})),e(t.exports,"LEDGER_RECONNECTING_STATE",(function(){return i("bwiqA").LEDGER_RECONNECTING_STATE})),e(t.exports,"LEDGER_WAITING_FOR_APPROVAL_STATE",(function(){return i("bwiqA").LEDGER_WAITING_FOR_APPROVAL_STATE})),e(t.exports,"LedgerApp",(function(){return i("e59pI").LedgerApp})),e(t.exports,"LedgerLockedError",(function(){return i("a5LJM").LedgerLockedError})),e(t.exports,"getLedgerTransportState",(function(){return i("5i9Ta").getLedgerTransportState})),e(t.exports,"deriveLedgerAddresses",(function(){return i("54Y8k").deriveLedgerAddresses})),e(t.exports,"getLedgerAppDisplayName",(function(){return i("4kKEQ").getLedgerAppDisplayName})),e(t.exports,"getLedgerAppForAddressType",(function(){return i("4kKEQ").getLedgerAppForAddressType})),e(t.exports,"getLedgerAppForNetworkID",(function(){return i("4kKEQ").getLedgerAppForNetworkID})),e(t.exports,"createLedgerWireSigner",(function(){return i("cWagW").createLedgerWireSigner})),e(t.exports,"getAddressTypeFromDerivationPathType",(function(){return i("4vX1O").getAddressTypeFromDerivationPathType}));i("3r36j"),i("bwiqA"),i("e59pI");i("d1qVj");i("a5LJM"),i("5i9Ta"),i("54Y8k"),i("51YJE"),i("dfz3b"),i("4kKEQ"),i("cWagW"),i("4vX1O")})),i.register("3r36j",(function(t,n){e(t.exports,"createHardwareWireHooks",(function(){return c}));i("jgqfR");var r=i("4GWtC"),o=i("4Oih6"),s=(i("led49"),i("6epSx")),a=i("1yw5t");i("6ZHK3");function c(e,t){const{defaultTransportTimeout:n}=e;return{useIsLedgerSupported:()=>(0,r.default)(e),useLedgerWireTransportState:(n,r,o)=>(0,s.useLedgerWireTransportState)(e,t,n,r,o),useRequestLedgerPermission:(n,r)=>(0,a.default)(e,t,n,r),useLedgerAddresses:(e,r,i,s)=>(0,o.default)(n,t,e,r,i,s)}}})),i.register("jgqfR",(function(t,n){e(t.exports,"useConnectedLedgerDeviceMetadata",(function(){return a}));var r=i("5ekp2"),o=i("9O68d"),s=i("dUHlc");const a=(e,t)=>{const n=!!t,i=s.hardwareQueryKeys.accountConnectedDevice(t);return(0,r.useQuery)({enabled:n,queryKey:i,queryFn:()=>(0,o.getConnectedLedgerDeviceMetadata)(e,null!=t?t:"")})}})),i.register("9O68d",(function(t,n){e(t.exports,"getConnectedLedgerDeviceMetadata",(function(){return c}),(function(e){return c=e}));var r=i("4xbAj"),o=i("csW2r"),s=i("a5LJM"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const c=(e,t)=>a(void 0,void 0,void 0,(function*(){var n;o.telemetry.addBreadcrumb(o.FeatureTag.Ledger,`Getting Connected Ledger Device metadata for account: ${t}`,o.Severity.Info);const i=yield(0,r.getMultiChainAccountMetadata)(e,t),a=null===(n=null==i?void 0:i.connectedDevices)||void 0===n?void 0:n.find((e=>e.deviceType===r.DeviceType.Ledger&&e.connectionType===r.ConnectionType.BLE));if(!a)throw new(0,s.AccountMetadataNoConnectedDevicesError);return a}))})),i.register("a5LJM",(function(t,n){e(t.exports,"LedgerNotConnectedError",(function(){return o})),e(t.exports,"LedgerMultipleAppsRequestedError",(function(){return i})),e(t.exports,"LedgerLockedError",(function(){return s})),e(t.exports,"LedgerDuplicateAddressReceivedError",(function(){return a})),e(t.exports,"AccountMetadataNoConnectedDevicesError",(function(){return c}));class r extends Error{constructor(e){super(e)}}class o extends r{constructor(e="Ledger not connected."){super(e)}}class i extends r{constructor(e="Multiple apps requested from Ledger. Only request one at a time."){super(e)}}class s extends r{constructor(e="Ledger is locked, unlock to get addresses or sign."){super(e)}}class a extends r{constructor(e="Duplicate ledger address received"){super(e)}}class c extends r{constructor(e="No connected devices."){super(e)}}})),i.register("dUHlc",(function(t,n){e(t.exports,"HARDWARE_BASE_QUERY_KEY",(function(){return r})),e(t.exports,"hardwareQueryKeys",(function(){return o}));const r="@phantom/hardware",o={isLedgerSupported:()=>[`${r}:is-ledger-supported`],ledgerTransportState:()=>[`${r}:ledger-transport-state`],ledgerAddress:(e,t)=>[`${r}:ledger-address`,{chainType:e,derivationPath:t}],ledgerAddresses:(e=[],t)=>[`${r}:ledger-addresses`,{derivationPathParams:e,enableLedgerXPubDerivation:t}],requestLedgerPermission:()=>[`${r}:request-ledger-permission`],accountConnectedDevice:e=>[`${r}:account-connected-device`,{accountIdentifier:e}]}})),i.register("4GWtC",(function(t,n){e(t.exports,"default",(function(){return a}),(function(e){return a=e}));var r=i("5ekp2"),o=i("dUHlc"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},a=e=>{const t=o.hardwareQueryKeys.isLedgerSupported();return(0,r.useQuery)({queryKey:t,queryFn:()=>s(void 0,void 0,void 0,(function*(){return e.isSupported()}))})}})),i.register("4Oih6",(function(t,n){e(t.exports,"default",(function(){return l}),(function(e){return l=e}));var r=i("7mQ3Y"),o=i("5ekp2"),s=i("a5LJM"),a=i("4kKEQ"),c=i("54Y8k"),u=i("dUHlc"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},l=(e,t,n,i=[],l=!1,f=!1,p=(()=>{}))=>{var g;const h=(0,a.getLedgerAppForAddressType)(r.AddressTypes.getAddressType(i[0].pathType)),v=n.isConnected&&i.length>0&&h===(null===(g=n.selectedApp)||void 0===g?void 0:g.app),y=u.hardwareQueryKeys.ledgerAddresses(i,f);return(0,o.useQuery)({enabled:v,queryKey:y,queryFn:()=>d(void 0,void 0,void 0,(function*(){const n=yield t.getQueryData(u.hardwareQueryKeys.ledgerTransportState());if(!n)throw new(0,s.LedgerNotConnectedError);return(0,c.deriveLedgerAddresses)({transportTimeout:e,state:n,derivationPathParams:i,enableDebugLogs:l,enableLedgerXPubDerivation:f,onSuccess:p})})),retry:!1})}})),i.register("4kKEQ",(function(t,n){e(t.exports,"getLedgerAppDisplayName",(function(){return a})),e(t.exports,"getLedgerAppForNetworkID",(function(){return c})),e(t.exports,"getLedgerAppForAddressType",(function(){return u}));var r=i("iOvk1"),o=i("7mQ3Y"),s=i("e59pI");const a=e=>{switch(e){case s.LedgerApp.Bitcoin:return"Bitcoin";case s.LedgerApp.EVM:return"Ethereum";case s.LedgerApp.Solana:return"Solana"}},c=e=>{const t=r.Chains.getAddressTypes(e);return u(t[0])},u=e=>{switch(e){case o.AddressType.BitcoinTaproot:case o.AddressType.BitcoinNativeSegwit:case o.AddressType.BitcoinNestedSegwit:case o.AddressType.BitcoinLegacy:return s.LedgerApp.Bitcoin;case o.AddressType.EVM:return s.LedgerApp.EVM;case o.AddressType.Solana:return s.LedgerApp.Solana}}})),i.register("e59pI",(function(t,n){e(t.exports,"LedgerApp",(function(){return r}));var r,o,s=i("7XqVB");(o=r||(r={})).Bitcoin="Bitcoin",o.EVM="EVM",o.Solana="Solana";const a=s.z.string().regex(/^[0-9A-Fa-f]*$/,{message:"String must have only valid hex characters"});s.z.object({publicKey:a,chainCode:a}),s.z.object({name:s.z.string(),id:s.z.string().min(1),rssi:s.z.number().int()}),s.z.union([s.z.literal("low"),s.z.literal("medium"),s.z.literal("high")])})),i.register("54Y8k",(function(t,n){e(t.exports,"deriveLedgerAddresses",(function(){return y}),(function(e){return y=e}));var r=i("jZpRu"),o=i("7mQ3Y"),s=i("csW2r"),a=i("RVqnc"),c=i("a5LJM"),u=i("aLMPl"),d=i("2XRol"),l=i("bOnUg"),f=i("5E8aH"),p=i("eCWDh"),g=i("4kKEQ"),h=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const v=(e,t,n,r)=>{const i=new Set;return(s,d)=>h(void 0,void 0,void 0,(function*(){if(!t.isConnected)throw new(0,c.LedgerNotConnectedError);const l=e;try{const e=yield(0,a.withRetry)((()=>h(void 0,void 0,void 0,(function*(){const e=o.AddressTypes.getAddressType(s.pathType),n=yield(0,a.withTimeout)((0,u.getLedgerAddress)(t.transport,e,d,r),3e3);if(i.has(n.address))throw new(0,c.LedgerDuplicateAddressReceivedError);return n}))),(e=>{const t=e instanceof c.LedgerDuplicateAddressReceivedError;t&&(0,f.debugLog)(n,`âŒ Duplicate address detected, retrying in ${l}ms...`);const r="InvalidChannel"===e.id;return r&&(0,f.debugLog)(n,`Invalid channel, trying again in ${l}ms...`),t||r}),3,l);return(0,f.debugLog)(n,`âœ… Received address for ${d}: ${e.address}`),i.add(e.address),e}catch(e){throw yield(0,a.delayAsync)(1e3),e}}))},y=({transportTimeout:e,state:t,derivationPathParams:n,enableDebugLogs:i,enableLedgerXPubDerivation:a,onSuccess:u})=>h(void 0,void 0,void 0,(function*(){const y=Date.now();(e=>{let t,n=!0;for(const r of e){const e=o.AddressTypes.getAddressType(r.pathType),i=(0,g.getLedgerAppForAddressType)(e);if(t?n=n&&t===i:t=i,!n)throw new(0,c.LedgerMultipleAppsRequestedError)}})(n);const m=a?((e,t,n)=>{const i=v(e,t,n,!0),a={};return(e,c)=>h(void 0,void 0,void 0,(function*(){const u=o.AddressTypes.getAddressType(e.pathType);switch(u){case o.AddressType.BitcoinTaproot:case o.AddressType.BitcoinNativeSegwit:case o.AddressType.BitcoinNestedSegwit:case o.AddressType.BitcoinLegacy:{let r=a[e.pathType];if(!r)try{r=yield(0,d.createBitcoinChildAddressDeriver)(t,e.pathType),a[e.pathType]=r}catch(t){return s.telemetry.captureError(new Error(`error creating xpub from derivation path: ${c}. Reason: ${t.message}`),s.FeatureTag.Ledger),i(e,c)}const o=r(e.index);return(0,f.debugLog)(n,`â­ï¸ Derived address with xpub for ${c}: ${o.address}`),{type:"address",addressType:u,address:o.address,publicKey:o.publicKey}}case o.AddressType.Solana:return i(e,c);case o.AddressType.EVM:if(e.pathType===r.DerivationPathType.Bip44RootEthereum)return i(e,c);{let t=a[e.pathType];if(!t)try{const n=(0,p.getRelativeDerivationPath)("grandparent",e.pathType),r=yield i(e,n);if(r.addressType!==u||"chain-code"!==r.type)throw new Error(`invalid response from Ledger requesting grandparent path: ${n}`);const o=(0,p.getRelativeDerivationPath)("parent",e.pathType),s=yield i(e,o);if(s.addressType!==u||"chain-code"!==s.type)throw new Error(`invalid response from Ledger requesting parent path: ${n}`);t=(0,l.createEthereumChildAddressDeriver)(r,s),a[e.pathType]=t}catch(t){return s.telemetry.captureError(new Error(`error creating xpub from derivation path: ${c}. Reason: ${t.message}`),s.FeatureTag.Ledger),i(e,c)}const r=t(e.index);return(0,f.debugLog)(n,`â­ï¸ Derived address with xpub for ${c}: ${r.address}`),{type:"address",addressType:u,address:r.address,publicKey:r.publicKey}}}}))})(e,t,i):v(e,t,i,!1),A={};for(const e of n){const t=(0,r.getDerivationPath)(e),n=yield m(e,t);A[t]=n}const T=(Date.now()-y)/1e3;return(0,f.debugLog)(i,`âœ… Finished requesting addresses for ${n.length} derivation paths. Time: ${T} s`),u(T),A}))})),i.register("aLMPl",(function(n,r){e(n.exports,"getLedgerAddress",(function(){return g}),(function(e){return g=e}));var o=i("jZpRu"),s=i("iOvk1"),a=i("7mQ3Y"),c=i("85iHy"),u=i("a5LJM"),d=i("eCWDh"),l=i("2XRol"),f=i("2B5FA"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const g=(e,n,r,i)=>p(void 0,void 0,void 0,(function*(){const p=r.replace("m/","");try{switch(n){case a.AddressType.BitcoinTaproot:case a.AddressType.BitcoinNativeSegwit:case a.AddressType.BitcoinNestedSegwit:case a.AddressType.BitcoinLegacy:{const t=yield(0,f.getBitcoinLedgerApp)(e),i=a.AddressTypes[n].defaultDerivationPathType,c=(0,o.parseDerivationPath)(r).index,u=(0,d.getRelativeDerivationPath)("parent",i),p=yield t.getExtendedPubkey(u),g=(yield(0,l.createHDNodeFromXpub)(p,"mainnet")).derivePath(`${c}`);return{type:"chain-code",addressType:n,address:(0,a.publicKeyToAddress)({publicKey:new Uint8Array(g.publicKey),addressType:n,networkID:s.BitcoinNetworkID.Mainnet}),publicKey:g.publicKey.toString("hex"),chainCode:g.chainCode.toString("hex")}}case a.AddressType.Solana:{const r=yield(0,f.getSolanaLedgerApp)(e),{address:o}=yield r.getAddress(p);return{type:"address",addressType:n,address:t(c).encode(o),publicKey:o.toString("hex")}}case a.AddressType.EVM:{const t=yield(0,f.getEthereumLedgerApp)(e),{publicKey:r,address:o,chainCode:s}=yield t.getAddress(p,!1,i);if(i){if(!s)throw new Error("Chain code is requested from Ledger device, but no chain code was received.");return{type:"chain-code",addressType:n,address:o,publicKey:r,chainCode:s}}return{type:"address",addressType:n,address:o,publicKey:r}}}}catch(e){throw"TransportLocked"===e.id?new(0,u.LedgerLockedError):e}}))})),i.register("eCWDh",(function(t,n){e(t.exports,"getRelativeDerivationPath",(function(){return o}));var r=i("jZpRu");const o=(e,t)=>{switch(e){case"grandparent":switch(t){case r.DerivationPathType.BitcoinTaproot:return"m/86'/0'/0'";case r.DerivationPathType.BitcoinNativeSegwit:return"m/84'/0'/0'";case r.DerivationPathType.BitcoinNestedSegwit:return"m/46'/0'/0'";case r.DerivationPathType.BitcoinLegacy:return"m/44'/0'/0'";case r.DerivationPathType.Bip44Ethereum:return"m/44'/60'/0'";case r.DerivationPathType.Bip44EthereumSecondary:return"m/44'/60'/1'";case r.DerivationPathType.Bip44EthereumTertiary:return"m/44'/60'/2'"}break;case"parent":switch(t){case r.DerivationPathType.BitcoinTaproot:return"m/86'/0'/0'/0";case r.DerivationPathType.BitcoinNativeSegwit:return"m/84'/0'/0'/0";case r.DerivationPathType.BitcoinNestedSegwit:return"m/46'/0'/0'/0";case r.DerivationPathType.BitcoinLegacy:return"m/44'/0'/0'/0";case r.DerivationPathType.Bip44Ethereum:return"m/44'/60'/0'/0";case r.DerivationPathType.Bip44EthereumSecondary:return"m/44'/60'/1'/0";case r.DerivationPathType.Bip44EthereumTertiary:return"m/44'/60'/2'/0"}}}})),i.register("2XRol",(function(t,n){e(t.exports,"createHDNodeFromXpub",(function(){return f}),(function(e){return f=e})),e(t.exports,"createBitcoinChildAddressDeriver",(function(){return p}),(function(e){return p=e}));var r=i("7mQ3Y"),o=i("dG1lS"),s=i("a5LJM"),a=i("4vX1O"),c=i("eCWDh"),u=i("2B5FA"),d=i("8tcqI").Buffer,l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const f=(e,t)=>l(void 0,void 0,void 0,(function*(){const{default:n}=yield i("7FZdA");return n(yield Promise.resolve(i("2NpJF"))).fromBase58(e,"mainnet"===t?o.networks.bitcoin:o.networks.testnet)})),p=(e,t)=>l(void 0,void 0,void 0,(function*(){if(!e.isConnected)throw new(0,s.LedgerNotConnectedError);const n=yield(0,u.getBitcoinLedgerApp)(e.transport),o=(0,c.getRelativeDerivationPath)("parent",t),i=yield n.getExtendedPubkey(o),l=yield f(i,"mainnet");return e=>{const n=new Uint8Array(l.derivePath(`${e}`).publicKey),o=(0,r.publicKeyToAddress)({publicKey:n,addressType:(0,a.getAddressTypeFromDerivationPathType)(t)});return{publicKey:d.from(n).toString("hex"),address:o}}}))})),i.register("4vX1O",(function(t,n){e(t.exports,"getAddressTypeFromDerivationPathType",(function(){return s}));var r=i("jZpRu"),o=i("7mQ3Y");function s(e){switch(e){case r.DerivationPathType.Bip44RootSolana:case r.DerivationPathType.Bip44ChangeSolana:case r.DerivationPathType.Bip44Solana:case r.DerivationPathType.DeprecatedSolana:return o.AddressType.Solana;case r.DerivationPathType.Bip44RootEthereum:case r.DerivationPathType.Bip44Ethereum:case r.DerivationPathType.Bip44EthereumSecondary:case r.DerivationPathType.Bip44EthereumTertiary:return o.AddressType.EVM;case r.DerivationPathType.BitcoinLegacy:return o.AddressType.BitcoinLegacy;case r.DerivationPathType.BitcoinNativeSegwit:return o.AddressType.BitcoinNativeSegwit;case r.DerivationPathType.BitcoinNestedSegwit:return o.AddressType.BitcoinNestedSegwit;case r.DerivationPathType.BitcoinTaproot:return o.AddressType.BitcoinTaproot}}})),i.register("2B5FA",(function(t,n){e(t.exports,"getSolanaLedgerApp",(function(){return o}),(function(e){return o=e})),e(t.exports,"getEthereumLedgerApp",(function(){return s}),(function(e){return s=e})),e(t.exports,"getEthereumLedgerService",(function(){return a}),(function(e){return a=e})),e(t.exports,"getBitcoinLedgerApp",(function(){return c}),(function(e){return c=e}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function o(e){return r(this,void 0,void 0,(function*(){const{default:t}=yield i("eFyyc");return new t(e)}))}function s(e){return r(this,void 0,void 0,(function*(){const{default:t}=yield i("dK1dE");return new t(e)}))}function a(){return r(this,void 0,void 0,(function*(){const{ledgerService:e}=yield i("dK1dE");return e}))}function c(e){return r(this,void 0,void 0,(function*(){const{AppClient:t}=yield i("fcrIy");return new t(e)}))}})),i.register("eFyyc",(function(e,t){e.exports=Promise.all([i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("aYF3y")),i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("bnDSu"))]).then((()=>i("903Vo")))})),i.register("j1yuj",(function(e,t){"use strict";var n=i("hE0rk");e.exports=n((function(e){return new Promise((function(t,n){var r=document.getElementsByTagName("script");if([].concat(r).some((function(t){return t.src===e})))t();else{var o=document.createElement("link");o.href=e,o.rel="preload",o.as="script",document.head.appendChild(o);var i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=e,i.onerror=function(t){var r=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));i.onerror=i.onload=null,i.remove(),n(r)},i.onload=function(){i.onerror=i.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(i)}}))}))})),i.register("hE0rk",(function(e,t){"use strict";var n={},r={},o={};e.exports=function(e,t){return function(i){var s=function(e){switch(e){case"preload":return r;case"prefetch":return o;default:return n}}(t);return s[i]?s[i]:s[i]=e.apply(null,arguments).catch((function(e){throw delete s[i],e}))}}})),i.register("2FqAO",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),i.register("dK1dE",(function(e,t){e.exports=Promise.all([i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("aYF3y")),i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("ia8XW"))]).then((()=>i("lwgEg")))})),i.register("fcrIy",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("9l3GE")).then((()=>i("MlrnL")))})),i.register("7FZdA",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("5Hh3e")).then((()=>i("aQ6v5")))})),i.register("bOnUg",(function(n,r){e(n.exports,"createEthereumChildAddressDeriver",(function(){return f}));var o=i("8tcqI"),s=i("8qXbd"),a=i("7cTdJ"),c=i("bU4Vn"),u=i("cFUcx"),d=i("85iHy");const l=(e,n,r)=>(e=>{const n=(0,a.sha256)((0,a.sha256)(e)).replace("0x","").slice(0,8);return t(d).encode(o.Buffer.concat([o.Buffer.from(e),o.Buffer.from(n,"hex")]))})(o.Buffer.from(`0488b21e04${e.replace("0x","")}00000000${n}${r.replace("0x","").toLowerCase()}`,"hex")),f=(e,t)=>{const n=(r=e.publicKey,(0,a.ripemd160)((0,a.sha256)((0,c.computePublicKey)(`0x${r}`,!0))).replace("0x","").slice(0,8));var r;const o=(0,c.computePublicKey)(`0x${t.publicKey}`,!0),i=l(n,t.chainCode,o),d=s.HDNode.fromExtendedKey(i);return e=>{const t=d.derivePath(`${e}`);if(u.EthAddress.safeParse(t.address).success)return{publicKey:t.publicKey,address:t.address};throw new Error(`Invalid Ethereum Child Address derived: ${t.address}`)}}})),i.register("5E8aH",(function(t,n){e(t.exports,"debugLog",(function(){return r}));const r=(e,t)=>{if(e){const e=new Date;console.log(`[${e.toISOString()}] ${t}`)}}})),i.register("led49",(function(t,n){e(t.exports,"useLedgerBLETransportState",(function(){return g}),(function(e){return g=e}));var r=i("RVqnc"),o=i("5ekp2"),s=i("bwiqA"),a=i("5E8aH"),c=i("5EX67"),u=i("dZ3qP"),d=i("20mzf"),l=i("dUHlc"),f=i("4GWtC"),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const g=(e,t,n)=>{const{deviceID:i,enabled:g=!0,enableDebugLogs:h=!1,refetchInterval:v=1e3,pairingTimeout:y=e.defaultTransportTimeout,expectedLedgerApp:m}=n,{data:A=!1}=(0,f.default)(e),T=!!i&&g&&A,b=l.hardwareQueryKeys.ledgerTransportState();return(0,o.useQuery)({enabled:T,queryKey:b,queryFn:()=>p(void 0,void 0,void 0,(function*(){if(!T)return s.LEDGER_NOT_CONNECTED_STATE;let n,o=t.getQueryData(b),l=!1,f=0;do{try{n=(yield Promise.all([(0,r.withTimeout)((0,d.fetchLedgerBLETransportState)(e,h,i,m),y),(0,r.delayAsync)(200)]))[0]}catch(e){n=s.LEDGER_NOT_CONNECTED_STATE}l=!!(null==o?void 0:o.isConnected)&&"not-connected"===n.status&&++f<5,l&&((0,u.setLedgerTransportStateOverride)(t,s.LEDGER_RECONNECTING_STATE),(0,a.debugLog)(h,"Attempting to reconnect..."),1===f&&(0,c.debugLogStateChange)(h,o,s.LEDGER_RECONNECTING_STATE),yield(0,r.delayAsync)(1e3))}while(l);return(0,c.debugLogStateChange)(h,o,n),f>0&&(o=s.LEDGER_RECONNECTING_STATE),(0,c.debugLogStateChange)(h,o,n),(null==o?void 0:o.isConnected)&&!n.isConnected&&(0,u.resetLedgerAddresses)(t).then((()=>(0,u.refetchLedgerAddresses)(t))),n})),refetchOnMount:!0,refetchInterval:v,initialData:s.LEDGER_NOT_CONNECTED_STATE})}})),i.register("bwiqA",(function(t,n){e(t.exports,"LEDGER_NOT_CONNECTED_STATE",(function(){return r})),e(t.exports,"LEDGER_RECONNECTING_STATE",(function(){return o})),e(t.exports,"LEDGER_WAITING_FOR_APPROVAL_STATE",(function(){return i})),e(t.exports,"DEFAULT_LEDGER_TRANSPORT_STATE",(function(){return s}));const r={status:"not-connected",isConnected:!1},o={status:"reconnecting",isConnected:!1},i={status:"waiting-for-approval",isConnected:!1},s=r})),i.register("5EX67",(function(t,n){e(t.exports,"debugLogStateChange",(function(){return s}));var r=i("4kKEQ"),o=i("5E8aH");const s=(e=!1,t,n)=>{if((null==t?void 0:t.status)===n.status)return;let i,s="";switch(n.status){case"connected":i="ðŸŸ¢ Connected",s=`, selected app: ${n.selectedApp?(0,r.getLedgerAppDisplayName)(n.selectedApp.app):"None"}`;break;case"needs-permission":i="ðŸŸ  Needs Permission";break;case"reconnecting":i="ðŸŸ  Reconnecting";break;case"waiting-for-approval":i="ðŸŸ  Waiting For Approval";break;case"not-connected":i="âšªï¸ Not Connected"}(0,o.debugLog)(e,`${i}${s}`)}})),i.register("dZ3qP",(function(t,n){e(t.exports,"resetLedgerAddresses",(function(){return s}),(function(e){return s=e})),e(t.exports,"refetchLedgerAddresses",(function(){return a}),(function(e){return a=e})),e(t.exports,"invalidateLedgerTransportState",(function(){return c}),(function(e){return c=e})),e(t.exports,"setLedgerTransportStateOverride",(function(){return u}),(function(e){return u=e}));var r=i("dUHlc"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const s=e=>o(void 0,void 0,void 0,(function*(){yield e.resetQueries([`${r.HARDWARE_BASE_QUERY_KEY}:ledger-addresses`])})),a=e=>o(void 0,void 0,void 0,(function*(){yield e.refetchQueries([`${r.HARDWARE_BASE_QUERY_KEY}:ledger-addresses`])})),c=e=>o(void 0,void 0,void 0,(function*(){yield e.invalidateQueries(r.hardwareQueryKeys.ledgerTransportState())})),u=(e,t)=>e.setQueryData(r.hardwareQueryKeys.ledgerTransportState(),t)})),i.register("20mzf",(function(t,n){e(t.exports,"fetchLedgerBLETransportState",(function(){return c}),(function(e){return c=e}));var r=i("bwiqA"),o=i("51YJE"),s=i("5E8aH"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const c=(e,t,n,i)=>a(void 0,void 0,void 0,(function*(){if(!n)return(0,s.debugLog)(t,"Attempting to connect to Ledger BLE device, no device ID specified."),r.LEDGER_NOT_CONNECTED_STATE;const a=yield e.open(n);if(!a)return(0,s.debugLog)(t,`Unable to connect to transport with deviceID: ${n}`),r.LEDGER_NOT_CONNECTED_STATE;return{status:"connected",isConnected:!0,transport:a,selectedApp:yield(0,o.getSelectedLedgerApp)(a,e.defaultTransportTimeout,i)}}))})),i.register("51YJE",(function(t,n){e(t.exports,"getSelectedLedgerApp",(function(){return u}),(function(e){return u=e}));var r=i("RVqnc"),o=i("e59pI"),s=i("bP9qo"),a=i("2B5FA"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const u=(e,t=2e3,n)=>c(void 0,void 0,void 0,(function*(){const i=()=>c(void 0,void 0,void 0,(function*(){const t=n?[n]:Object.values(o.LedgerApp);return((e,t)=>c(void 0,void 0,void 0,(function*(){for(const n of t)switch(n){case o.LedgerApp.Solana:try{const t=yield(0,a.getSolanaLedgerApp)(e),r=yield t.getAppConfiguration();return{app:n,version:r.version,blindSigningEnabled:r.blindSigningEnabled}}catch(e){}break;case o.LedgerApp.EVM:try{const t=yield(0,a.getEthereumLedgerApp)(e),r=yield t.getAppConfiguration();return{app:n,version:r.version,blindSigningEnabled:1===r.arbitraryDataEnabled}}catch(e){}break;case o.LedgerApp.Bitcoin:try{return{app:n,version:(yield(0,s.getBitcoinAppConfiguration)(e)).version}}catch(e){}}return null})))(e,t)}));try{return yield(0,r.withTimeout)(i(),t)}catch(e){return null}}))})),i.register("bP9qo",(function(t,n){e(t.exports,"getBitcoinAppConfiguration",(function(){return o}),(function(e){return o=e}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const o=e=>r(void 0,void 0,void 0,(function*(){const t=yield e.send(176,1,0,0);let n=0;if(1!==t[n++])throw new Error("getBitcoinAppConfiguration: format not supported");const r=t[n++],o=t.subarray(n,n+=r).toString("ascii");if("Bitcoin"!==o)throw new Error("Ledger Bitcoin app not selected.");const i=t[n++];return{name:o,version:t.subarray(n,n+=i).toString("ascii")}}))})),i.register("6epSx",(function(t,n){e(t.exports,"useLedgerWireTransportState",(function(){return h}),(function(e){return h=e}));var r=i("RVqnc"),o=i("5ekp2"),s=i("29o0l"),a=i("bwiqA"),c=i("5E8aH"),u=i("5EX67"),d=i("dZ3qP"),l=i("4NgK7"),f=i("dUHlc"),p=i("4GWtC"),g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const h=(e,t,n=!0,i=!1,h=2e3)=>{const[v,y]=(0,s.useState)(h);(0,s.useEffect)((()=>{e.on("disconnect",(()=>{(0,c.debugLog)(i,"disconnect event received from Ledger transport."),(0,d.invalidateLedgerTransportState)(t)}))}),[e,t]);const{data:m=!1}=(0,p.default)(e),A=n&&m,T=f.hardwareQueryKeys.ledgerTransportState();return(0,o.useQuery)({enabled:A,queryKey:T,queryFn:()=>g(void 0,void 0,void 0,(function*(){if(!A)return a.LEDGER_NOT_CONNECTED_STATE;let n,o=t.getQueryData(T),s=!1,f=0;do{try{n=(yield Promise.all([(0,r.withTimeout)((0,l.fetchLedgerWireTransportState)(e,i,f>0?a.LEDGER_RECONNECTING_STATE:o),e.defaultTransportTimeout),(0,r.delayAsync)(200)]))[0]}catch(e){n=a.LEDGER_NOT_CONNECTED_STATE}s=!!(null==o?void 0:o.isConnected)&&"not-connected"===n.status&&++f<5,s&&((0,d.setLedgerTransportStateOverride)(t,a.LEDGER_RECONNECTING_STATE),(0,c.debugLog)(i,"Attempting to reconnect..."),1===f&&(0,u.debugLogStateChange)(i,o,a.LEDGER_RECONNECTING_STATE),yield(0,r.delayAsync)(500))}while(s);return f>0&&(o=a.LEDGER_RECONNECTING_STATE),(0,u.debugLogStateChange)(i,o,n),(null==o?void 0:o.isConnected)&&!n.isConnected&&(0,d.resetLedgerAddresses)(t).then((()=>(0,d.refetchLedgerAddresses)(t))),n})),onSuccess:e=>(e.isConnected?y(3500):y(h),null),refetchOnMount:!0,refetchInterval:v,initialData:a.LEDGER_NOT_CONNECTED_STATE})}})),i.register("4NgK7",(function(t,n){e(t.exports,"fetchLedgerWireTransportState",(function(){return c}),(function(e){return c=e}));var r=i("bwiqA"),o=i("51YJE"),s=i("5E8aH"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const c=(e,t,n)=>a(void 0,void 0,void 0,(function*(){if(0===(yield e.getNumDevices()))return n!==r.LEDGER_NOT_CONNECTED_STATE&&(0,s.debugLog)(t,"Unable to detect Ledger devices."),r.LEDGER_NOT_CONNECTED_STATE;let i=n?n.transport:void 0;if((null==n?void 0:n.isConnected)&&(null==n?void 0:n.selectedApp)||"waiting-for-approval"===(null==n?void 0:n.status))return n;if(i||(i=yield e.getFirstOpenedTransport(),i&&(0,s.debugLog)(t,"Found previously-opened transport.")),i||(i=yield e.openConnected(),i&&(0,s.debugLog)(t,"Opened a new connection to a previously-opened transport.")),!i)return(0,s.debugLog)(t,"Need permission to use the connected Ledger device."),{status:"needs-permission",isConnected:!1};return{status:"connected",isConnected:!0,transport:i,selectedApp:yield(0,o.getSelectedLedgerApp)(i,e.defaultTransportTimeout)}}))})),i.register("1yw5t",(function(t,n){e(t.exports,"default",(function(){return f}),(function(e){return f=e}));var r=i("5ekp2"),o=i("51YJE"),s=i("5E8aH"),a=i("5EX67"),c=i("dZ3qP"),u=i("dUHlc"),d=i("4NgK7"),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},f=(e,t,n=!0,i=!1)=>{const f=u.hardwareQueryKeys.requestLedgerPermission();return(0,r.useQuery)({enabled:n,queryKey:f,queryFn:()=>l(void 0,void 0,void 0,(function*(){var n,r,l,f,p,g,h;let v;try{(0,s.debugLog)(i,"Requesting permission to connect to Ledger..."),v=yield e.request()}catch(o){if((0,s.debugLog)(i,`Received error trying to request permission: ${o}`),"string"==typeof o.message&&(null===(n=o.message)||void 0===n?void 0:n.includes("device is already open"))){(0,s.debugLog)(i,"âœ… Permission granted, device already open. Connecting to device...");const n=u.hardwareQueryKeys.ledgerTransportState(),o=yield t.getQueryData(n);let g;try{g=yield(0,d.fetchLedgerWireTransportState)(e,i,o)}catch(e){}return(null==g?void 0:g.isConnected)?((0,s.debugLog)(i,`âœ… Permission granted. Connected to Ledger device: ${null!==(l=null===(r=g.transport.deviceModel)||void 0===r?void 0:r.productName)&&void 0!==l?l:"Unknown device"}. Selected app: ${null!==(p=null===(f=null==g?void 0:g.selectedApp)||void 0===f?void 0:f.app)&&void 0!==p?p:"none"}`),yield(0,c.setLedgerTransportStateOverride)(t,g),(0,a.debugLogStateChange)(i,void 0,g),{type:"granted",transport:g.transport}):((0,s.debugLog)(i,"âŒ Unable to connect. Try again and make sure device is unlocked."),{type:"unable-to-connect"})}return(0,s.debugLog)(i,"âŒ Permission denied."),{type:"denied"}}if(!v){const e="Unable to connect to Ledger device. Permission granted, but no Transport received.";return(0,s.debugLog)(i,`âŒ ${e}`),{type:"unable-to-connect"}}const y={status:"connected",isConnected:!0,transport:v,selectedApp:yield(0,o.getSelectedLedgerApp)(v,e.defaultTransportTimeout)};return yield(0,c.setLedgerTransportStateOverride)(t,y),(0,a.debugLogStateChange)(i,void 0,y),(0,s.debugLog)(i,`âœ… Permission granted. Connected to Ledger device: ${null!==(h=null===(g=v.deviceModel)||void 0===g?void 0:g.productName)&&void 0!==h?h:"Unknown device"}`),{type:"granted",transport:v}})),cacheTime:0,staleTime:0,refetchOnMount:!0})}})),i.register("6ZHK3",(function(t,n){e(t.exports,"useNearbyLedgerBLEDevices",(function(){return o}));var r=i("29o0l");(e=>{const t=[];for(let o=1;o<=e;++o){const e=(n=0,r=3,n=Math.ceil(n),r=Math.floor(r),Math.floor(Math.random()*(r-n)+n));let i;i=0===e?0:1===e?-70:-100,t.push({name:`Nano X ${o}`,id:`${o}`,rssi:i})}var n,r;t.sort(((e,t)=>t.rssi-e.rssi))})(100);const o=(e,t)=>{const n=(0,r.useRef)([]),o=(0,r.useRef)(),[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{var r;if(!t)return void(null===(r=o.current)||void 0===r||r.unsubscribe());let i=n.current;const a=e.scan({onDeviceAdded:e=>{i=i.filter((t=>t.id!==e.id)),i.push(e),i.sort(((e,t)=>t.rssi-e.rssi));const t=[...i];n.current.length!==t.length&&(n.current=t,s(n.current))},onDeviceRemoved:e=>{i=i.filter((t=>t.id!==e.id)),i.sort(((e,t)=>t.rssi-e.rssi));const t=[...i];n.current.length!==t.length&&(n.current=t,s(n.current))},onError:e=>{var t;console.error(e),null===(t=o.current)||void 0===t||t.unsubscribe()}});return o.current=a,()=>{var e;null===(e=o.current)||void 0===e||e.unsubscribe()}}),[e,t]),i}})),i.register("d1qVj",(function(e,t){var n,r,o=i("dZ3qP");n=e.exports,r=o,Object.keys(r).forEach((function(e){"default"===e||"__esModule"===e||n.hasOwnProperty(e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})}))})),i.register("5i9Ta",(function(t,n){e(t.exports,"getLedgerTransportState",(function(){return a}),(function(e){return a=e}));var r=i("bwiqA"),o=i("dUHlc"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=e=>s(void 0,void 0,void 0,(function*(){const t=yield e.getQueryData(o.hardwareQueryKeys.ledgerTransportState());return null!=t?t:r.LEDGER_NOT_CONNECTED_STATE}))})),i.register("dfz3b",(function(e,t){})),i.register("cWagW",(function(n,r){e(n.exports,"createLedgerWireSigner",(function(){return k}),(function(e){return k=e}));var o=i("8tcqI"),s=i("4v43U"),a=i("4xbAj"),c=i("jZpRu"),u=i("iOvk1"),d=i("7mQ3Y"),l=i("hMVEP"),f=i("csW2r"),p=i("RVqnc"),g=i("dG1lS"),h=i("85iHy"),v=i("bwiqA"),y=i("4NgK7"),m=(i("9O68d"),i("e59pI")),A=i("eCWDh"),T=i("4kKEQ"),b=i("1yP1g"),w=i("2XRol"),S=i("2B5FA"),x=i("51YJE"),E=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const C=(e,n,r)=>E(void 0,void 0,void 0,(function*(){let s;try{s="string"==typeof r.message?"transaction"===r.signingType?t(h).decode(r.message):o.Buffer.from(r.message,"utf8"):r.message}catch(e){return(0,a.createVaultSignerError)(a.VaultSignerErrorType.InvalidMessageEncoding)}const c=yield(0,S.getSolanaLedgerApp)(e),u=n.replace("m/","");let d;switch(r.signingType){case"transaction":try{const e=yield c.signTransaction(u,o.Buffer.from(s));d=t(h).encode(e.signature)}catch(n){const r=yield((e,t)=>E(void 0,void 0,void 0,(function*(){try{const n=yield(0,x.getSelectedLedgerApp)(e);if(!n||n.app!==m.LedgerApp.Solana)return null;const r=(0,l.messageStringToTransaction)(t),{gte:o}=yield i("fCyuH");return{isVersionedTx:"version"in r&&"legacy"!==r.version,isVersionedTxSupported:o(n.version,"1.3.1")}}catch(e){return null}})))(e,t(h).encode(s));if(!r)throw n;const{isVersionedTx:o,isVersionedTxSupported:c}=r;if(o&&!c)return(0,a.createVaultSignerError)(a.VaultSignerErrorType.UnsupportedOperation,"Versioned Transactions is not supported on this version of Ledger. Please upgrade your Solana Ledger firmware to version 1.3.1.");throw n}break;case"message":return(0,a.createVaultSignerError)(a.VaultSignerErrorType.UnsupportedOperation,"Signing off chain messages with Ledger is not yet supported.")}return{status:"success",signature:d}})),O=e=>e.startsWith("0x")?e:`0x${e}`,D=(e,t,n)=>E(void 0,void 0,void 0,(function*(){try{if("isJWT"in n)return(0,a.createVaultSignerError)(a.VaultSignerErrorType.InternalError,"Cannot sign JWT with ledger");switch(n.chainType){case d.AddressType.BitcoinTaproot:case d.AddressType.BitcoinNativeSegwit:case d.AddressType.BitcoinNestedSegwit:case d.AddressType.BitcoinLegacy:return yield((e,t,n)=>E(void 0,void 0,void 0,(function*(){var r;const s=g.networks.bitcoin,l=yield(0,S.getBitcoinLedgerApp)(e),f=yield l.getMasterFingerprint(),p=(0,c.parseDerivationPath)(t);if(void 0===p.index||isNaN(p.index)||c.DerivationPathType.BitcoinTaproot!==p.pathType&&c.DerivationPathType.BitcoinNativeSegwit!==p.pathType)return{status:"error",type:a.VaultSignerErrorType.InvalidDerivationPath,message:"Unsupported Derivation Path. Bitcoin derivation paths should have a valid index."};const h=new(0,(yield i("ghA7T")).default)(l);switch(n.signingType){case"message":{const e=o.Buffer.from(n.message).toString("utf8"),r=(0,A.getRelativeDerivationPath)("parent",p.pathType),i=yield l.getExtendedPubkey(r),s=(yield(0,w.createHDNodeFromXpub)(i,"mainnet")).derive(p.index).publicKey,a=(0,d.publicKeyToAddress)({publicKey:new Uint8Array(s),addressType:n.chainType,networkID:u.NetworkIDs.Bitcoin.Mainnet}),c=yield h.signBIP322(e,t,a,s);return{status:"success",signature:o.Buffer.from(c,"base64").toString("hex"),message:n.message}}case"transaction":{let e,t,i=g.Psbt.fromHex(n.message,{network:s});const v=new Set;for(const s of null!==(r=n.inputsToSign)&&void 0!==r?r:[]){const n=(0,u.addressTypeFromAddress)(u.BitcoinNetworkID.Mainnet,s.address),r=d.AddressTypes[n].defaultDerivationPathType,g=(0,c.getDerivationPath)({pathType:r,index:p.index});v.add(n);for(const r of s.signingIndexes)if(n===d.AddressType.BitcoinNativeSegwit){if(!t){const e=(0,A.getRelativeDerivationPath)("parent",c.DerivationPathType.BitcoinNativeSegwit),n=yield l.getExtendedPubkey(e);t=yield(0,w.createHDNodeFromXpub)(n,"mainnet")}i.updateInput(r,{bip32Derivation:[{masterFingerprint:o.Buffer.from(f,"hex"),pubkey:t.derivePath(`${p.index}`).publicKey,path:g}]})}else if(n===d.AddressType.BitcoinTaproot){if(!e){const t=(0,A.getRelativeDerivationPath)("parent",c.DerivationPathType.BitcoinTaproot),n=yield l.getExtendedPubkey(t);e=yield(0,w.createHDNodeFromXpub)(n,"mainnet")}i.updateInput(r,{tapBip32Derivation:[{leafHashes:[],masterFingerprint:o.Buffer.from(f,"hex"),pubkey:(0,a.toXOnly)(e.derivePath(`${p.index}`).publicKey),path:g}]})}}let y=0;for(const e of v){y++;const t=y===v.size,r=(0,c.getDerivationPath)({pathType:d.AddressTypes[e].defaultDerivationPathType,index:p.index});i=yield h.signPSBT(i,r,f,t&&n.finalize,e)}return{status:"success",signature:i.toHex()}}}})))(e,t,n);case d.AddressType.EVM:return yield((e,t,n)=>E(void 0,void 0,void 0,(function*(){const{joinSignature:r}=yield Promise.resolve(i("kIJ9R")),c=yield(0,S.getEthereumLedgerApp)(e),u=t.replace("m/","");switch(n.signingType){case"typedData":switch(n.version){case 1:return(0,a.createVaultSignerError)(a.VaultSignerErrorType.UnsupportedOperation);case 3:case 4:{const e=()=>E(void 0,void 0,void 0,(function*(){const e=(0,b.convertSignTypedDataToEip712Message)(n.data);return c.signEIP712Message(u,e)})),t=()=>E(void 0,void 0,void 0,(function*(){const e=3===n.version?s.SignTypedDataVersion.V3:s.SignTypedDataVersion.V4,t=n.data,r=s.TypedDataUtils.sanitizeData(t),o=s.TypedDataUtils.hashStruct("EIP712Domain",r.domain,r.types,e).toString("hex"),i=s.TypedDataUtils.hashStruct(r.primaryType,r.message,r.types,e).toString("hex");return yield c.signEIP712HashedMessage(u,o,i)})),{r:o,s:i,v:a}=yield e().catch(t);return{status:"success",signature:r({r:O(o),s:O(i),v:a})}}}break;case"message":{const e=o.Buffer.from(n.message,"utf8"),{r:t,s:i,v:s}=yield c.signPersonalMessage(u,e.toString("hex"));return{status:"success",signature:r({r:O(t),s:O(i),v:s})}}case"transaction":{const e=n.message.replace("0x",""),t=yield(0,S.getEthereumLedgerService)(),o=yield t.resolveTransaction(e,{},{}),{r:i,s:s,v:a}=yield c.signTransaction(u,e,o);return{status:"success",signature:r({r:O(i),s:O(s),v:Number.parseInt(a.replace("0x",""),16)})}}}})))(e,t,n);case d.AddressType.Solana:return yield C(e,t,n)}}catch(e){return f.telemetry.captureError(e,f.FeatureTag.Ledger),(0,a.createVaultSignerError)(a.VaultSignerErrorType.InternalError)}})),k=e=>({type:a.VaultSignerPluginType.Ledger,sign:(t,n,r)=>E(void 0,void 0,void 0,(function*(){var t;let o,i=v.LEDGER_NOT_CONNECTED_STATE;try{i=yield(0,p.withRetry)((()=>(0,p.withTimeout)((0,y.fetchLedgerWireTransportState)(e,!1),e.defaultTransportTimeout)),(()=>!0),3,1e3)}catch(e){}switch(i.status){case"needs-permission":return(0,a.createVaultSignerError)(a.VaultSignerErrorType.LedgerNeedPermission,"Need permission to connect to Ledger.");case"not-connected":case"reconnecting":case"waiting-for-approval":return(0,a.createVaultSignerError)(a.VaultSignerErrorType.LedgerNotConnected,"Unable to connect to Ledger. Make sure your Ledger device is plugged in.");case"connected":{if("isJWT"in r)return(0,a.createVaultSignerError)(a.VaultSignerErrorType.InternalError,"Cannot sign JWT with ledger");const e=(0,T.getLedgerAppForAddressType)(r.chainType);if((null===(t=i.selectedApp)||void 0===t?void 0:t.app)!==e)return(0,a.createVaultSignerError)(a.VaultSignerErrorType.LedgerAppNotOpen,`Ledger App not open. Open the ${(0,T.getLedgerAppDisplayName)(e)} app on your Ledger device.`);o=i.transport}}return D(o,n,r)}))})})),i.register("1yP1g",(function(t,n){e(t.exports,"convertSignTypedDataToEip712Message",(function(){return r}));const r=e=>{var t;const n={name:e.domain.name,version:e.domain.version,verifyingContract:e.domain.verifyingContract,chainId:null===(t=e.domain)||void 0===t?void 0:t.chainId},r=[],o={};for(const[t,n]of Object.entries(e.types))for(const e of n)"EIP712Domain"===t?r.push(e):t in o?o[t].push(e):o[t]=[e];return{domain:n,types:Object.assign({EIP712Domain:r},o),primaryType:e.primaryType,message:Object.assign({},e.message)}}})),i.register("fCyuH",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("4nmlj")).then((()=>i("4TDRm")))})),i.register("ghA7T",(function(e,t){e.exports=Promise.all([i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("9l3GE")),i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("jqZb5"))]).then((()=>i("fjdno")))})),i.register("a8PCa",(function(t,n){e(t.exports,"createHealthHooks",(function(){return i("hGGhs").createHealthHooks}));i("hGGhs"),i("gLvos")})),i.register("hGGhs",(function(t,n){e(t.exports,"createHealthHooks",(function(){return o}));var r=i("kaiHT");function o(){return{useNetworkHealth:(e,t)=>(0,r.useNetworkHealth)(e,t)}}})),i.register("kaiHT",(function(t,n){e(t.exports,"useNetworkHealth",(function(){return a}),(function(e){return a=e}));var r=i("5ekp2"),o=i("bbpnu"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function a(e,t=!0){return(0,r.useQuery)({queryKey:["solana","health",{locale:e}],refetchInterval:15e4,enabled:t,queryFn(){return s(this,void 0,void 0,(function*(){return yield(0,o.fetchNetworkHealth)(e)}))}})}})),i.register("bbpnu",(function(t,n){e(t.exports,"fetchNetworkHealth",(function(){return c}),(function(e){return c=e}));var r=i("2onIY"),o=i("beWYh"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=e=>`${(0,r.getAPIEnvironment)()}/solana/health/v1?locale=${e}`;function c(e){return s(this,void 0,void 0,(function*(){const t=new(0,o.RequestClient);t.withDefaultHeaders({Accept:"application/json"});const n=yield t.get(a(e));if(!(0,o.responseIsOkay)(n))throw new Error("Failed to retrieve Solana network health");return n.data}))}})),i.register("gLvos",(function(e,t){var n,r;(r=n||(n={})).ok="ok",r.degraded="degraded",r.majorOutage="majorOutage"})),i.register("g9PKp",(function(t,n){e(t.exports,"createOnboardingHooks",(function(){return i("89Vzt").createOnboardingHooks})),e(t.exports,"BATCH_SIZE_BY_PLATFORM",(function(){return i("1eGkH").BATCH_SIZE_BY_PLATFORM})),e(t.exports,"useSelectMultichainAccountsProps",(function(){return i("1eGkH").useSelectMultichainAccountsProps})),e(t.exports,"ALLOWED_ONBOARDING_STORAGE_KEYS_FOR_EXPORT",(function(){return i("vUpML").ALLOWED_ONBOARDING_STORAGE_KEYS_FOR_EXPORT})),e(t.exports,"OnboardingStorageKeys",(function(){return i("d08rP").OnboardingStorageKeys})),e(t.exports,"OnboardingType",(function(){return i("7cOUp").OnboardingType})),e(t.exports,"discoverAccounts",(function(){return i("hwACv").discoverAccounts}));i("89Vzt"),i("1eGkH"),i("8taMK"),i("jFh3h"),i("vUpML"),i("d08rP"),i("7cOUp"),i("7n0ia"),i("hl6Md"),i("hwACv"),i("fGTlj"),i("cZNQz")})),i.register("89Vzt",(function(t,n){e(t.exports,"createOnboardingHooks",(function(){return f}));var r=i("hl6Md"),o=i("l7a7Z"),s=i("fZg4E"),a=i("1vrFI"),c=i("eiyTy"),u=i("1loje"),d=i("aQ1g3"),l=i("3bN09");function f(e,t,n,i,f){const p=new(0,r.LedgerOnboardingAnalytics)(n);return{useIsFirstTimeOnboarding:()=>(0,a.useIsFirstTimeOnboarding)(e),useSetIsFirstTimeOnboarding:()=>(0,a.useSetIsFirstTimeOnboarding)(e,t),useIsResettingApp:()=>(0,c.useIsResettingApp)(e),useSetIsResettingApp:()=>(0,c.useSetIsResettingApp)(e,t),useSetIsFirstTimeResettingApp:()=>(0,c.useSetIsFirstTimeResettingApp)(e,t),useDeriveLedgerAccounts:e=>(0,o.useDeriveLedgerAccounts)(i,t,p,e),useDiscoverLedgerAccounts:e=>(0,s.useDiscoverLedgerAccounts)(p,e),useTermsAcknowledgement:()=>(0,d.useTermsAcknowledgement)(e,f),useWhatsNewOverlay:()=>(0,l.useWhatsNewOverlay)(e),useSetTermsAcknowledgement:()=>(0,u.useSetTermsAcknowledgement)(e,t),useSetAcknowledgeWhatsNewOverlay:()=>(0,l.useSetAcknowledgeWhatsNewOverlay)(e,t)}}})),i.register("hl6Md",(function(t,n){e(t.exports,"LedgerOnboardingAnalytics",(function(){return d}),(function(e){return d=e}));var r=i("iOvk1");i("eJxop");var o,s=i("e59pI"),a=i("7mQ3Y"),c=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},u=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class d{constructor(e){o.set(this,void 0),this.onOpen=()=>u(this,o,"f").capture("connectHardwareOpen"),this.onSelectedChains=e=>{const t=new Set(e),n=[];for(const e of r.Chains.getAllChainIDs())t.has(e)&&n.push(e);const i={numChains:n.length,selectedChains:n.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(", ")};u(this,o,"f").capture("connectHardwareSelectedChains",{data:i})},this.onDerivedAccounts=e=>{const t={};for(const[n,r]of Object.entries(e.derivedAddresses)){if(!l(n))continue;const e={numberOfDerivedAccounts:r.addresses.length};void 0!==r.duration&&(e.derivationDuration=r.duration),t[n]=e}u(this,o,"f").capture("connectHardwareAccountsDerived",{data:Object.assign({},t)})},this.onDiscoveredAccounts=e=>{var t;const{discoveredAccounts:n}=e,r={};for(const e of n){if("undiscovered"===e.status)continue;const n=e.accounts.reduce(((e,{derivationPathType:t,hasAccountActivity:n})=>(e[a.AddressTypes.getAddressType(t)]={derivationPathType:t,hasAccountActivity:n},e)),{});for(const{hasAccountActivity:e,derivationPathType:o}of Object.values(n)){if(!e)continue;const n=null!==(t=r[o])&&void 0!==t?t:0;r[o]=n+1}}u(this,o,"f").capture("connectHardwareAccountsDiscovered",{data:{numberOfActiveAccounts:r}})},this.onConnectedAccounts=e=>{var t;const n={};for(const r of e.accounts){const e=[...r.addresses,...r.publicKeys].reduce(((e,t)=>(e[a.AddressTypes.getAddressType(t.pathType)]=t.pathType,e)),{});for(const r of Object.values(e)){const e=null!==(t=n[r])&&void 0!==t?t:0;n[r]=e+1}}u(this,o,"f").capture("connectHardwareAccountsConnected",{data:{numberOfAccountsImported:e.accounts.length,numberOfAccountsImportedByDerivationPath:n}})},c(this,o,e,"f")}}function l(e){return"string"==typeof e&&Object.keys(s.LedgerApp).includes(e)}o=new WeakMap})),i.register("l7a7Z",(function(t,n){e(t.exports,"useDeriveLedgerAccounts",(function(){return l}),(function(e){return l=e})),i("eJxop");var r=i("bwiqA"),o=i("5i9Ta"),s=i("5ekp2"),a=i("29o0l"),c=i("aJdXK"),u=i("jFh3h"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const l=(e,t,n,i)=>{var l;const{selectedChains:f,ledgerTransportState:p=r.LEDGER_NOT_CONNECTED_STATE}=i,g=f.length>0&&p.isConnected,h=u.onboardingQueryKeys.deriveLedgerAccounts,v=p.isConnected?null===(l=p.selectedApp)||void 0===l?void 0:l.app:void 0;(0,a.useEffect)((()=>{v&&t.invalidateQueries(h)}),[v,t,h]);return(0,s.useQuery)({enabled:g,queryKey:h,queryFn:()=>d(void 0,void 0,void 0,(function*(){const r=yield t.getQueryData(h);return(0,c.deriveLedgerAccounts)(Object.assign(Object.assign({ledgerDeps:e,queryClient:t,ledgerOnboardingAnalytics:n,queryKey:h},i),{ledgerTransportState:yield(0,o.getLedgerTransportState)(t),previousResponse:r}))})),retry:!1})}})),i.register("aJdXK",(function(t,n){e(t.exports,"deriveLedgerAccounts",(function(){return p}),(function(e){return p=e}));var r=i("jZpRu"),o=i("iOvk1");i("eJxop");var s=i("4kKEQ"),a=i("54Y8k"),c=i("vUpML"),u=i("1wrYO"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const l={ledgerAppsToDerive:[],currentlyDerivingNetworkIDs:[],derivedAddresses:{}},f=(e,t)=>e.map((e=>({ledgerApp:e,status:t[e]?"complete":"incomplete"}))),p=e=>d(void 0,void 0,void 0,(function*(){var t;const{ledgerDeps:n,queryClient:i,ledgerOnboardingAnalytics:d,queryKey:p,selectedChains:g,enableDebugLogs:h=!0,enableLedgerXPubDerivation:v=!0,ledgerTransportState:y,previousResponse:m=l}=e;if(!(({selectedChains:e,ledgerTransportState:t})=>e.length>0&&t.isConnected)(e))return{ledgerAppsToDerive:[],currentlyDerivingNetworkIDs:[],derivedAddresses:{}};const A=m.derivedAddresses,T=new Set(g),b=o.Chains.getAllNetworkIDs({mainnetOnly:!0}).filter((e=>{const t=o.Chains.getChainID(e);return T.has(t)})),w=Array.from(b.map((e=>(0,s.getLedgerAppForNetworkID)(e))).reduce(((e,t)=>(e.add(t),e)),new Set)),S=f(w,A),x=S.find((e=>"incomplete"===e.status));if(!x)return{ledgerAppsToDerive:[],currentlyDerivingNetworkIDs:[],derivedAddresses:A};const{ledgerApp:E}=x,C=S.filter((e=>"incomplete"===e.status)).map((e=>e.ledgerApp)),O=b.filter((e=>(0,s.getLedgerAppForNetworkID)(e)===E));if(i.setQueryData(p,{ledgerAppsToDerive:C,currentlyDerivingNetworkIDs:O,derivedAddresses:A}),!y.isConnected||(null===(t=y.selectedApp)||void 0===t?void 0:t.app)!==E)return{ledgerAppsToDerive:C,currentlyDerivingNetworkIDs:O,derivedAddresses:A};const D=(0,u.createLedgerOnboardingParams)(E,c.LEDGER_ONBOARDING_INDICES_TO_DERIVE);let k;const P=yield(0,a.deriveLedgerAddresses)({transportTimeout:n.defaultTransportTimeout,state:y,derivationPathParams:D,enableDebugLogs:h,enableLedgerXPubDerivation:v,onSuccess:e=>{k=e}}),I=D.map((e=>{const t=(0,r.getDerivationPath)(e),n=P[t];return{paramsUsed:e,address:n.address,publicKey:n.publicKey}})),L=Object.assign(Object.assign({},A),{[E]:{addresses:I,duration:k}}),R=f(w,L).filter((e=>"incomplete"===e.status)).map((e=>e.ledgerApp)),N=0===R.length?[]:b.filter((e=>(0,s.getLedgerAppForNetworkID)(e)===R[0])),j={ledgerAppsToDerive:R,currentlyDerivingNetworkIDs:N,derivedAddresses:L};return 0===R.length&&d.onDerivedAccounts(j),j}))})),i.register("vUpML",(function(t,n){e(t.exports,"LEDGER_ONBOARDING_INDICES_TO_DERIVE",(function(){return o})),e(t.exports,"ALLOWED_ONBOARDING_STORAGE_KEYS_FOR_EXPORT",(function(){return s}));var r=i("d08rP");const o=19,s=[r.OnboardingStorageKeys.FirstTimeOnboarding,r.OnboardingStorageKeys.IsResettingApp]})),i.register("d08rP",(function(t,n){var r,o;e(t.exports,"OnboardingStorageKeys",(function(){return r})),(o=r||(r={})).FirstTimeOnboarding="firstTimeOnboarding",o.IsResettingApp="isResettingApp"})),i.register("1wrYO",(function(t,n){e(t.exports,"createLedgerOnboardingParams",(function(){return s}));var r=i("jZpRu");i("eJxop");var o=i("e59pI");const s=(e,t)=>{const n=[];e===o.LedgerApp.Solana?n.push({pathType:r.DerivationPathType.Bip44RootSolana}):e===o.LedgerApp.EVM&&n.push({pathType:r.DerivationPathType.Bip44RootEthereum});for(let i=0;i<t;++i)switch(e){case o.LedgerApp.Solana:n.push({index:i,pathType:r.DerivationPathType.Bip44ChangeSolana}),n.push({index:i,pathType:r.DerivationPathType.Bip44Solana});break;case o.LedgerApp.EVM:n.push({index:i,pathType:r.DerivationPathType.Bip44Ethereum}),n.push({index:i,pathType:r.DerivationPathType.Bip44EthereumSecondary});break;case o.LedgerApp.Bitcoin:n.push({index:i,pathType:r.DerivationPathType.BitcoinTaproot}),n.push({index:i,pathType:r.DerivationPathType.BitcoinNativeSegwit})}return n}})),i.register("jFh3h",(function(t,n){e(t.exports,"onboardingQueryKeys",(function(){return o}));const r="@phantom/onboarding",o={firstTimeOnboarding:[`${r}:first-time-onboarding`],isResettingApp:[`${r}:is-resetting-app`],deriveLedgerAccounts:[`${r}:derive-ledger-accounts`],discoverLedgerAccounts:[`${r}:discover-ledger-accounts`]}})),i.register("fZg4E",(function(t,n){e(t.exports,"useDiscoverLedgerAccounts",(function(){return c}),(function(e){return c=e}));var r=i("5ekp2"),o=i("57b0z"),s=i("jFh3h"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const c=(e,t)=>{const n=(0,o.isDiscoverLedgerAccountsEnabled)(t),i=s.onboardingQueryKeys.discoverLedgerAccounts;return(0,r.useQuery)({enabled:n,queryKey:i,queryFn:()=>a(void 0,void 0,void 0,(function*(){return(0,o.discoverLedgerAccounts)(Object.assign({ledgerOnboardingAnalytics:e},t))}))})}})),i.register("57b0z",(function(t,n){e(t.exports,"isDiscoverLedgerAccountsEnabled",(function(){return f}),(function(e){return f=e})),e(t.exports,"discoverLedgerAccounts",(function(){return p}),(function(e){return p=e}));var r=i("4xbAj"),o=i("iOvk1");i("eJxop");var s=i("4kKEQ"),a=i("4vX1O"),c=i("creZv"),u=i("hwACv"),d=i("cZNQz"),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const f=({existingAccountsFetched:e,selectedChains:t,deriveLedgerAccountsResponse:n})=>e&&t.length>0&&!!n&&0===n.ledgerAppsToDerive.length,p=e=>l(void 0,void 0,void 0,(function*(){var t,n,i,l,p;const{ledgerOnboardingAnalytics:g,existingAccounts:h,discoveryBatchSize:v,selectedChains:y,deriveLedgerAccountsResponse:m,retryDiscoverAccountsOnFail:A=!0}=e;if(!f(e))throw new Error("Query disabled.");const T={},b=new Set(y);for(const e of o.Chains.getAllNetworkIDs({mainnetOnly:!0})){if(!b.has(o.Chains.getChainID(e)))continue;const c=(0,s.getLedgerAppForNetworkID)(e),u=null!==(i=null===(n=(null!==(t=null==m?void 0:m.derivedAddresses)&&void 0!==t?t:{})[c])||void 0===n?void 0:n.addresses)&&void 0!==i?i:[];for(const{address:t,publicKey:n,paramsUsed:o}of u){const i=(0,r.getDerivationPathGroupKey)(o),s=null!==(l=T[i])&&void 0!==l?l:{accounts:{},derivationIndex:null!==(p=o.index)&&void 0!==p?p:-1};s.accounts[`${e}-${t}`]={chainType:(0,a.getAddressTypeFromDerivationPathType)(o.pathType),chainId:e,address:t,publicKey:n,pathParams:o},T[i]=s}}const w=Object.entries(T).sort((([e,t],[n,o])=>(0,r.compareDerivationPathGroup)(e,n))).map((([e,t])=>t)),S=(0,d.getExistingAddressesSet)(h),x=w.reduce(((e,t)=>{let n=!1;for(const{address:e}of Object.values(t.accounts))n=n||S.has(e);return n||e.push(t),e}),[]),E=[],C=[];for(let e=0;e<x.length;e+=v){const t=x.slice(e,e+v).map((e=>Object.entries(e.accounts).reduce(((e,[t,n])=>(e[t]={account:n},e)),{})));C.push(t)}for(const e of C)E.push((0,u.discoverAccounts)(e,A));const O=(yield Promise.all(E)).flat().map((e=>{switch(e.status){case"discovered":return Object.assign(Object.assign({},e),{accounts:e.accounts.filter((e=>e.hasAccountActivity||(0,r.isRecommendedDerivationPathType)(e.derivationPathType)))});case"undiscovered":return Object.assign(Object.assign({},e),{accounts:e.accounts.filter((e=>(0,r.isRecommendedDerivationPathType)(e.derivationPathType)))})}})).filter((e=>e.accounts.length>0)).map((e=>{const t=(0,c.default)();return Object.assign(Object.assign({},e),{discoveryIdentifier:t})})),D=O.filter((e=>"undiscovered"===e.status||e.isSelectedByDefault)),k=O.filter((e=>!("undiscovered"===e.status||e.isSelectedByDefault))).slice(0,2),P=D.length>0,I=h.filter((e=>e.type===r.AccountType.Ledger)).length,L=(P?[...D,...k]:O.slice(0,3)).map(((e,t)=>Object.assign(Object.assign({},e),{accountIndex:I+t}))),R={};L.forEach(((e,t)=>{("discovered"===e.status&&e.isSelectedByDefault||0===t)&&(R[e.discoveryIdentifier]=!0)}));const N={discoveredAccounts:L,activeAccountsFound:P,defaultSelectedAccounts:R};return g.onDiscoveredAccounts(N),N}))})),i.register("hwACv",(function(t,n){e(t.exports,"discoverAccounts",(function(){return m}),(function(e){return m=e})),e(t.exports,"useDiscoverMultiChainAccounts",(function(){return T}),(function(e){return T=e}));var r=i("4xbAj"),o=i("jZpRu"),s=i("iOvk1"),a=i("7mQ3Y"),c=i("csW2r"),u=i("RVqnc"),d=i("wGjeD"),l=i("fGTlj"),f=i("8tcqI").Buffer,p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const g="fetch-multi-chain-accounts-by-seed",h=(e,t)=>[o.DerivationPathType.BitcoinTaproot,o.DerivationPathType.BitcoinNativeSegwit].map((n=>{const r={pathType:n,index:e},{publicKey:o}=t.derivePathType(n,e),i=a.AddressTypes.getAddressType(n),c=(0,a.publicKeyToAddress)({publicKey:o,addressType:i});return{chainType:i,chainId:s.NetworkIDs.Bitcoin.Mainnet,address:c,publicKey:f.from(o).toString("hex"),pathParams:r}})),v=(e,t)=>[o.DerivationPathType.Bip44Ethereum,o.DerivationPathType.Bip44EthereumSecondary,o.DerivationPathType.Bip44EthereumTertiary].map((n=>{const r={pathType:n,index:e},{publicKey:o}=t.derivePathType(n,e);return{chainType:a.AddressTypes.getAddressType(n),pathType:n,address:(0,a.publicKeyToAddress)({publicKey:o,addressType:a.AddressType.EVM}),publicKey:f.from(o).toString("hex"),pathParams:r}})),y=(e,t)=>[o.DerivationPathType.Bip44ChangeSolana,o.DerivationPathType.Bip44Solana,o.DerivationPathType.DeprecatedSolana].map((n=>{const r={pathType:n,index:e},i=t.derivePathType(n,e);let c;switch(n){case o.DerivationPathType.Bip44RootSolana:case o.DerivationPathType.Bip44Solana:case o.DerivationPathType.Bip44ChangeSolana:c=i.publicKey;break;case o.DerivationPathType.DeprecatedSolana:c=(0,a.getDeprecatedSolanaKeyPairFromPrivateKey)(i.secretKey).publicKey}const u=(0,a.publicKeyToAddress)({publicKey:c,addressType:a.AddressType.Solana});return{chainType:a.AddressType.Solana,chainId:s.NetworkIDs.Solana.Mainnet,address:u,publicKey:f.from(c).toString("hex"),pathParams:r}})),m=(e,t=!0)=>p(void 0,void 0,void 0,(function*(){const n=Object.assign({},...e);try{const e=Object.values(n).map((({account:e})=>({address:e.address,chainId:e.chainId})));let o;o=t?(yield(0,u.withRetry)((()=>p(void 0,void 0,void 0,(function*(){return(0,u.withTimeout)((0,l.fetchDiscoverAccounts)({accounts:e}),1e4)}))),(()=>!0),2)).accounts:(yield(0,l.fetchDiscoverAccounts)({accounts:e})).accounts;const i={};for(const e of o){const{account:t}=n[`${e.chain.id}-${e.address}`],o=t.publicKey,s=t.chainType,a=(0,r.getDerivationPathGroupKey)(t.pathParams),c=Object.assign(Object.assign({},e),{publicKey:o,chainType:s,derivationPathType:t.pathParams.pathType,hasAccountActivity:!!e.lastActivityTimestamp||parseFloat(e.amount)>0});i[a]=[...i[a]||[],c]}Object.keys(i).forEach((e=>{i[e]=i[e].sort(((e,t)=>s.Chains.compareNetworkID(e.chain.id,t.chain.id)))}));const a=Object.values(i),c=a.filter((e=>e.some((e=>e.hasAccountActivity)))),d=!!c.length;return(d?c:a).map((e=>{var t;const r=e[0];return{status:"discovered",seedIndex:null!==(t=n[`${r.chain.id}-${r.address}`].account.pathParams.index)&&void 0!==t?t:-1,isSelectedByDefault:d,accounts:e}}))}catch(e){const t=Object.values(n).map((({account:e})=>e)),o={};for(const e of t){const{account:t}=n[`${e.chainId}-${e.address}`],i=(0,r.getDerivationPathGroupKey)(t.pathParams),c=Object.assign(Object.assign({},e),{chain:{id:e.chainId,name:s.Chains.getNetworkName(e.chainId),symbol:s.Chains.getTokenSymbol(e.chainId)},chainType:a.AddressTypes.getAddressType(t.pathParams.pathType),derivationPathType:t.pathParams.pathType,hasAccountActivity:!1});o[i]=[...o[i]||[],c]}Object.keys(o).forEach((e=>{o[e]=o[e].sort(((e,t)=>s.Chains.compareNetworkID(e.chain.id,t.chain.id)))}));const i=Object.values(o).map((e=>{var t;const r=e[0];return{status:"undiscovered",seedIndex:null!==(t=n[`${r.chain.id}-${r.address}`].account.pathParams.index)&&void 0!==t?t:-1,accounts:e,isSelectedByDefault:!1}}));return i}})),A=({hdWallet:e,startIndex:t,endIndex:n,enabledAddressTypes:r})=>p(void 0,void 0,void 0,(function*(){const o=[];for(let i=t;i<=n;++i){const t={};if(r.includes(a.AddressType.BitcoinNativeSegwit))for(const n of h(i,e))t[`${s.NetworkIDs.Bitcoin.Mainnet}-${n.address}`]={account:n};if(r.includes(a.AddressType.EVM)){const n=v(i,e),r=s.Chains.getChainIDs(a.AddressType.EVM);for(const e of r){const r=s.Chains[e];for(const{address:e,publicKey:o,chainType:i,pathParams:s}of n)t[`${r.mainnetID}-${e}`]={account:{chainType:i,chainId:r.mainnetID,address:e,publicKey:o,pathParams:s}}}}if(r.includes(a.AddressType.Solana))for(const n of y(i,e))t[`${n.chainId}-${n.address}`]={account:n};o.push(t)}return m(o)}));function T({batchSize:e,hdWallet:t,enabledAddressTypes:n}){const r=!!t&&0!=n.length,o=[g,e];return(0,d.useInfiniteQuery)({enabled:r,queryKey:o,queryFn:({pageParam:r=0})=>p(this,void 0,void 0,(function*(){if(e<1)throw new Error(`Need positive batchSize: ${e}`);if(!t)throw new Error("Missing HDWallet");const o=[],i=[],s=0===r;let a=r,c=!0;for(;c;){const r=a,u=a+e-1,d=(yield A({hdWallet:t,startIndex:r,endIndex:u,enabledAddressTypes:n})).flat(1);a+=e,c=!1;for(const e of d)o.push(e),("undiscovered"===e.status||e.isSelectedByDefault)&&i.push(e),s&&"discovered"===e.status&&e.isSelectedByDefault&&(c=!0)}if(s&&0===i.length&&o.length>1){const e=o[0],t=e.accounts.map((e=>Object.assign(Object.assign({},e),{hasAccountActivity:!1}))),n={status:"undiscovered",seedIndex:e.seedIndex,accounts:t,isSelectedByDefault:!1};i.push(n)}return i})),getNextPageParam:(t,n)=>{const r=n.length,o=r?n[0]:[],i=o.length?b(o[o.length-1].seedIndex,e):0;return 1===r?i:i+e*(r-1)},cacheTime:0,staleTime:0,onError:e=>c.telemetry.captureError(e,c.FeatureTag.Account)})}const b=(e,t)=>Math.ceil(e/t)*t+t})),i.register("fGTlj",(function(t,n){e(t.exports,"fetchDiscoverAccounts",(function(){return d}),(function(e){return d=e}));var r=i("iOvk1"),o=i("2onIY"),s=i("beWYh"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const c=`${(0,o.getAPIEnvironment)()}/discover/v1`,u={Accept:"application/json"},d=e=>a(void 0,void 0,void 0,(function*(){if(!e.accounts.length)throw new Error("Must send at least 1 account for discovery");const t=new(0,s.RequestClient);t.withDefaultHeaders(u);const n=yield t.post(c,e),o=n.data;if(!(0,s.responseIsOkay)(n)){if((i=o)&&"string"==typeof i.message)throw new Error(o.message);throw new Error(`Unable to discover accounts with args: ${JSON.stringify(e)}`)}var i;if((e=>{if(!e||!Array.isArray(e.accounts))return!1;for(const t of e.accounts)if("string"!=typeof t.address||"string"!=typeof t.amount||t.lastActivityTimestamp&&"number"!=typeof t.lastActivityTimestamp||!t.chain||"string"!=typeof t.chain.id||!new Set(r.Chains.getAllNetworkIDs()).has(t.chain.id)||"string"!=typeof t.chain.name||"string"!=typeof t.chain.symbol||"string"!=typeof t.chain.imageUrl)return!1;return!0})(o))return o;throw new Error(`Invalid discover accounts response: ${JSON.stringify(o)}`)}))})),i.register("cZNQz",(function(t,n){e(t.exports,"getExistingAddressesSet",(function(){return r}));const r=e=>{const t=new Set;for(const n of e)for(const{address:e}of n.addresses)t.add(e);return t}})),i.register("1vrFI",(function(t,n){e(t.exports,"useIsFirstTimeOnboarding",(function(){return u}),(function(e){return u=e})),e(t.exports,"useSetIsFirstTimeOnboarding",(function(){return d}),(function(e){return d=e}));var r=i("9W7fs"),o=i("5ekp2"),s=i("d08rP"),a=i("jFh3h"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const u=e=>{const{data:t}=(0,o.useQuery)({queryKey:a.onboardingQueryKeys.firstTimeOnboarding,queryFn:()=>c(void 0,void 0,void 0,(function*(){const t=yield e.get(s.OnboardingStorageKeys.FirstTimeOnboarding);return null===t||t.isFirstTimeOnboarding}))});return t},d=(e,t)=>(0,r.useMutation)({mutationFn:n=>c(void 0,void 0,void 0,(function*(){yield e.set(s.OnboardingStorageKeys.FirstTimeOnboarding,{isFirstTimeOnboarding:n}),t.setQueryData(a.onboardingQueryKeys.firstTimeOnboarding,n)}))})})),i.register("eiyTy",(function(t,n){e(t.exports,"useIsResettingApp",(function(){return u}),(function(e){return u=e})),e(t.exports,"useSetIsResettingApp",(function(){return d}),(function(e){return d=e})),e(t.exports,"useSetIsFirstTimeResettingApp",(function(){return l}),(function(e){return l=e}));var r=i("9W7fs"),o=i("5ekp2"),s=i("d08rP"),a=i("jFh3h"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const u=e=>{const{data:t}=(0,o.useQuery)({queryKey:a.onboardingQueryKeys.isResettingApp,queryFn:()=>c(void 0,void 0,void 0,(function*(){const t=yield e.get(s.OnboardingStorageKeys.IsResettingApp);return null===t?{isResettingApp:!1,isFirstTimeResettingApp:!1}:t}))});return t},d=(e,t)=>(0,r.useMutation)({mutationFn:n=>c(void 0,void 0,void 0,(function*(){var r;const o=yield e.get(s.OnboardingStorageKeys.IsResettingApp),i=null!==(r=null==o?void 0:o.isFirstTimeResettingApp)&&void 0!==r&&r;yield e.set(s.OnboardingStorageKeys.IsResettingApp,{isResettingApp:n,isFirstTimeResettingApp:i}),t.setQueryData(a.onboardingQueryKeys.isResettingApp,{isResettingApp:n,isFirstTimeResettingApp:i})}))}),l=(e,t)=>(0,r.useMutation)({mutationFn:n=>c(void 0,void 0,void 0,(function*(){var r;const o=yield e.get(s.OnboardingStorageKeys.IsResettingApp),i=null!==(r=null==o?void 0:o.isResettingApp)&&void 0!==r&&r;yield e.set(s.OnboardingStorageKeys.IsResettingApp,{isResettingApp:i,isFirstTimeResettingApp:n}),t.setQueryData(a.onboardingQueryKeys.isResettingApp,{isResettingApp:i,isFirstTimeResettingApp:n})}))})})),i.register("1loje",(function(t,n){e(t.exports,"useSetTermsAcknowledgement",(function(){return a}),(function(e){return a=e}));var r=i("4xbAj"),o=i("9W7fs"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=(e,t)=>(0,o.useMutation)({mutationFn:n=>s(void 0,void 0,void 0,(function*(){yield e.set(r.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2,n),t.setQueryData([r.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2],n)}))})})),i.register("aQ1g3",(function(t,n){e(t.exports,"useTermsAcknowledgement",(function(){return a}),(function(e){return a=e}));var r=i("4xbAj"),o=i("5ekp2"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=(e,t)=>(0,o.useQuery)({queryKey:[r.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2],queryFn:()=>s(void 0,void 0,void 0,(function*(){const n=yield e.get(r.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2),o=yield((e,t,n)=>s(void 0,void 0,void 0,(function*(){if(e)return e;try{const e=yield n.get(r.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2);return e&&(yield t.set(r.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2,e),yield n.remove(r.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2)),t.get(r.StorageKeyAccounts.TermsHaveBeenAcknowledgedV2)}catch(e){return null}})))(n,e,t);return!!o}))})})),i.register("3bN09",(function(t,n){e(t.exports,"useWhatsNewOverlay",(function(){return c}),(function(e){return c=e})),e(t.exports,"useSetAcknowledgeWhatsNewOverlay",(function(){return u}),(function(e){return u=e}));var r=i("HlEsU"),o=i("9W7fs"),s=i("5ekp2"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const c=e=>(0,s.useQuery)({queryKey:[r.StorageKeys.LastSeenWhatsNewId],queryFn:()=>a(void 0,void 0,void 0,(function*(){var t;return 37>(null!==(t=yield e.get(r.StorageKeys.LastSeenWhatsNewId))&&void 0!==t?t:0)}))}),u=(e,t)=>(0,o.useMutation)({mutationFn:()=>a(void 0,void 0,void 0,(function*(){yield e.set(r.StorageKeys.LastSeenWhatsNewId,37)})),onSuccess:()=>{t.setQueryData([r.StorageKeys.LastSeenWhatsNewId],!1)}})})),i.register("1eGkH",(function(t,n){e(t.exports,"BATCH_SIZE_BY_PLATFORM",(function(){return l}),(function(e){return l=e})),e(t.exports,"useSelectMultichainAccountsProps",(function(){return f}),(function(e){return f=e}));var r=i("43063"),o=i("RVqnc"),s=i("29o0l"),a=i("7z19N"),c=i("hwACv"),u=i("8taMK"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const l={extension:7,ios:7,android:7},f=({platform:e,seed:t,navigationCallback:n,storageCallback:i,enabledAddressTypes:f})=>{var p;const{t:g}=(0,r.useTranslation)(),h=g("onboardingSelectAccountsFindMoreAccounts"),[v,y]=(0,s.useState)({}),[m,A]=(0,s.useState)(!1),[T,b]=(0,s.useState)(!1),[w,S]=(0,s.useState)(h),x=(0,u.useCachedHDWallet)(t),{data:E,status:C,fetchNextPage:O,isFetchingNextPage:D}=(0,c.useDiscoverMultiChainAccounts)({batchSize:l[e],hdWallet:x,enabledAddressTypes:f}),k=(0,s.useMemo)((()=>{var e;return null!==(e=null==E?void 0:E.pages.flat())&&void 0!==e?e:[]}),[E]),P=(I=k,(0,s.useMemo)((()=>I?I.map((e=>"undiscovered"===e.status?e:Object.assign(Object.assign({},e),{accounts:e.accounts.filter((e=>e.hasAccountActivity))}))):[]),[I]));var I;const L=(R=P,(0,s.useMemo)((()=>R.reduce(((e,t,n)=>(e[n]=0===n||t.isSelectedByDefault,e)),{})),[R]));var R;const N=((e,t)=>(0,s.useMemo)((()=>{var n;return null!==(n=null==e?void 0:e.reduce(((e,n,r)=>t[r]?[...e,n]:e),[]))&&void 0!==n?n:[]}),[e,t]))(k,v),j=(({activeAccountsNumber:e,allAccountsNumber:t,hasDiscoveryFailed:n})=>{const{t:o}=(0,r.useTranslation)(),i=e>0&&!n;return(0,s.useMemo)((()=>0===t?o("onboardingImportImportingFindingAccounts"):0===e?o("onboardingImportAccountsEmptyResult"):1===t?i?o("onboardingImportAccountsFoundAccounts_one",{numberOfWallets:e}):o("onboardingImportAccountsFoundAccountsNoActivity_one",{numberOfWallets:t}):t>1?i?o("onboardingImportAccountsFoundAccounts_other",{numberOfWallets:e}):o("onboardingImportAccountsFoundAccountsNoActivity_other",{numberOfWallets:t}):""),[e,t,i,o])})({activeAccountsNumber:P.length,allAccountsNumber:k.length,hasDiscoveryFailed:"undiscovered"===(null===(p=k[0])||void 0===p?void 0:p.status)});((e,t)=>{const{t:n}=(0,r.useTranslation)();(0,s.useEffect)((()=>{let r;if(e){const{pages:o}=e,i=o.length>1,s=0===o[o.length-1].length;i&&s&&(t(n("onboardingSelectAccountsFindMoreNoneFound")),r=setTimeout((()=>{t(n("onboardingSelectAccountsFindMoreAccounts"))}),3e3))}return()=>{r&&clearTimeout(r)}}),[e])})(E,S),((e,t)=>{(0,s.useEffect)((()=>{t((t=>{const{length:n}=Object.keys(e),r={};for(let o=0;o<n;o++)r[o]=void 0===t[o]?e[o]:t[o];return r}))}),[e,t])})(L,y);const B=(0,s.useCallback)((()=>b(!0)),[]),F=(0,s.useCallback)((e=>{if("success"!==C)return;const t=Object.assign({},v);t[e]=!t[e],y(t)}),[C,v,y]),M=(0,s.useCallback)((()=>d(void 0,void 0,void 0,(function*(){m||(A(!0),yield(0,o.delayAsync)(0),yield i(N,(0,a.generateImportedAccountChainAnalytics)(N)),n((0,a.generateImportedAccountChainAnalytics)(N)))}))),[m,N,n,i]),_={expanded:T,findMoreAccountsButtonText:w,isFetchingMoreAccounts:D,isImporting:m,renderedPages:P,selectedAccounts:v,subtitle:j,findMoreAccounts:O,onExpand:B,onImport:M,onSelect:F};return"success"!==C?Object.assign({status:"loading",isImportButtonDisabled:!0},_):Object.assign({status:"success",isImportButtonDisabled:0===N.length},_)}})),i.register("7z19N",(function(t,n){e(t.exports,"generateImportedAccountChainAnalytics",(function(){return r}));const r=e=>e.reduce(((e,t)=>{var n,r,o,i;let s=e;for(const a of t.accounts){const t=a.chain.name.toLowerCase();if((null===(n=e[t])||void 0===n?void 0:n.balance)&&(null===(r=e[t])||void 0===r?void 0:r.history))continue;const c="amount"in a&&parseFloat(a.amount)>0,u=a.hasAccountActivity;e[t]?s=Object.assign(Object.assign({},s),{[t]:Object.assign(Object.assign({},s[t]),{balance:c||(null===(o=s[t])||void 0===o?void 0:o.balance),history:u||(null===(i=s[t])||void 0===i?void 0:i.history)})}):s=Object.assign(Object.assign({},s),{[t]:{balance:c,history:u}})}return s}),{})})),i.register("8taMK",(function(t,n){e(t.exports,"useCachedHDWallet",(function(){return s}));var r=i("jZpRu"),o=i("29o0l");const s=e=>{const[t,n]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(e.length){const t=new(0,r.CachedHDWallet)(e);return n(t),()=>{n(null),t.cleanup()}}}),[e]),t}})),i.register("7cOUp",(function(t,n){e(t.exports,"OnboardingType",(function(){return r}));var r,o,s=i("7XqVB");(o=r||(r={})).Initial="initial",o.Create="create",o.Import="import",o.Restore="restore",o.Append="append",o.SeedVault="seedVault";const a=s.z.object({balance:s.z.boolean(),history:s.z.boolean()});s.z.record(s.z.string(),a)})),i.register("7n0ia",(function(e,t){i("jFh3h")})),i.register("iMnOw",(function(t,n){e(t.exports,"prefetchShortcuts",(function(){return i("hhqwY").prefetchShortcuts})),e(t.exports,"trackLinkOpen",(function(){return i("iGNwb").trackLinkOpen})),e(t.exports,"trackModalOpen",(function(){return i("iGNwb").trackModalOpen})),e(t.exports,"createShortcutHooks",(function(){return i("cxnZW").createShortcutHooks})),e(t.exports,"DEFAULT_ICON",(function(){return i("6xd2z").DEFAULT_ICON})),e(t.exports,"getIcon",(function(){return i("itgZy").getIcon})),e(t.exports,"WALLET_SHORTCUTS_QUERY_KEY",(function(){return i("eSfrU").WALLET_SHORTCUTS_QUERY_KEY}));i("hhqwY"),i("iGNwb"),i("cxnZW"),i("2HIjl"),i("6xd2z"),i("itgZy"),i("eSfrU")})),i.register("hhqwY",(function(t,n){e(t.exports,"prefetchShortcuts",(function(){return a}));var r=i("eSfrU"),o=i("3cTmb");const s=10;function a(e,t,n,i){if(!n)return;const{externalUrl:a,isSpam:c,items:u}=n;if(c||!i)return;const d=(null!=u?u:[]).map((e=>e.externalUrl));Array.from(new Set([a,...d])).reduce(((e,t)=>{const n=(0,o.ensureExternalUrl)(t);return(0,o.isValidUrl)(n)&&e.length<s?[...e,n]:e}),[]).forEach((n=>{const i=(0,o.ensureExternalUrl)(n);(0,o.isValidUrl)(i)&&t.prefetchQuery((0,r.getShortcutsQuery)(new URL(i),e)).catch((e=>{console.error(`Failed to prefetch ${i}`,e)}))}))}})),i.register("eSfrU",(function(t,n){e(t.exports,"WALLET_SHORTCUTS_QUERY_KEY",(function(){return c}),(function(e){return c=e})),e(t.exports,"getShortcutsQuery",(function(){return u}),(function(e){return u=e}));var r=i("beWYh"),o=i("6xd2z"),s=i("3cTmb"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const c="wallet-shortcuts",u=(e,t)=>({queryKey:[c,null==e?void 0:e.toString()],queryFn(){return a(this,void 0,void 0,(function*(){if(!e)throw new Error("URL is null");const n=(0,s.appendShortcut)(e),r=yield l(t,n);if(!1===o.SchemaType.safeParse(r).success)throw new Error(`Invalid shortcut response from URL ${n.toString()}`);return o.SchemaType.parse(r).shortcuts}))}}),d=new Error("Failed to fetch shortcuts for collection"),l=(e,t)=>a(void 0,void 0,void 0,(function*(){const n=`${e}/collectibles/v1/shortcuts`;let o;try{const e=new(0,r.RequestClient);o=yield e.post(n,{uri:t.toString()})}catch(e){throw d}if(!(0,r.responseIsOkay)(o))throw d;return o.data}))})),i.register("6xd2z",(function(t,n){e(t.exports,"DEFAULT_ICON",(function(){return o})),e(t.exports,"SchemaType",(function(){return f}));var r=i("7XqVB");const o="default",s=r.z.union([r.z.literal("vote"),r.z.literal("vote-2"),r.z.literal("stake"),r.z.literal("stake-2"),r.z.literal("view"),r.z.literal("chat"),r.z.literal("tip"),r.z.literal("mint"),r.z.literal("mint-2"),r.z.literal("discord"),r.z.literal("twitter"),r.z.literal("twitter-2"),r.z.literal("x"),r.z.literal("instagram"),r.z.literal("telegram"),r.z.literal("leaderboard"),r.z.literal("gaming"),r.z.literal("gaming-2"),r.z.literal("generic-link"),r.z.literal("generic-add"),r.z.literal(o)]).optional().default(o).catch(o),a=r.z.object({label:r.z.string(),uri:r.z.string().url().refine((e=>e.startsWith("https://")||e.startsWith("solana:")),(e=>({message:`${e} is not a valid protocol`}))),prefersExternalTarget:r.z.boolean().optional().default(!1),preferredPresentation:r.z.union([r.z.literal("default"),r.z.literal("immerse")]).optional().default("immerse"),platform:r.z.union([r.z.literal("mobile"),r.z.literal("desktop"),r.z.literal("all")]).optional().default("all"),icon:s}),c=a.extend({limitToCollections:r.z.string().array().optional().default([]).refine((e=>0===e.length||e.every((e=>e.length))),(e=>({message:`${e} is not a valid array of collection ids`})))}),u=a.extend({type:r.z.literal("fungible"),limitToTokenAddresses:r.z.string().array().optional().default([]).refine((e=>0===e.length||e.every((e=>e.length))),(e=>({message:`${e} is not a valid array of token addresses`})))}),d=c.extend({type:r.z.literal("collectible").optional().default("collectible")}),l=r.z.union([d,u]),f=r.z.union([r.z.object({version:r.z.literal(1),shortcuts:r.z.array(c).optional().default([])}),r.z.object({version:r.z.literal(2),shortcuts:r.z.array(l).optional().default([])})]);r.z.object({collectionId:r.z.string().optional(),tokenId:r.z.string().optional(),ownerAddress:r.z.string().optional()})})),i.register("3cTmb",(function(t,n){e(t.exports,"appendShortcut",(function(){return r})),e(t.exports,"ensureExternalUrl",(function(){return o})),e(t.exports,"isValidUrl",(function(){return i}));const r=e=>{const t=e.pathname.split("/").filter((e=>""!==e)).join("/"),n=new URL(`https://${e.hostname}`);return n.pathname=t+"/shortcuts.json",n.search=e.search,n},o=e=>{if(!e||!e.trim())return"";const t=e.trim();return/^https?:\/\//.test(t)?t:`https://${t}`},i=e=>{if(!e)return!1;try{return new URL(e),!0}catch(e){return!1}}})),i.register("iGNwb",(function(t,n){e(t.exports,"trackLinkOpen",(function(){return o}),(function(e){return o=e})),e(t.exports,"trackModalOpen",(function(){return i}),(function(e){return i=e}));var r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function o(e,t){var{hostname:n,platform:o}=e,i=r(e,["hostname","platform"]);const s=n.includes("//")?new URL(n).hostname:n;return{data:"collectible"===i.type?{platform:o,hostname:s,collectionName:i.collectionName,label:t.label,uri:t.uri}:{hostname:s,platform:o,fungible:i.caip19,label:t.label,uri:t.uri}}}function i(e){var{hostname:t,platform:n}=e,o=r(e,["hostname","platform"]);const i=t.includes("//")?new URL(t).hostname:t;return{data:"collectible"===o.type?{platform:n,hostname:i,collectionName:o.collectionName}:{platform:n,hostname:i,fungible:o.caip19}}}})),i.register("cxnZW",(function(t,n){e(t.exports,"createShortcutHooks",(function(){return s}));var r=i("2HIjl"),o=i("g4RTB");function s(e,t){return{useShortcuts:(t,n,r)=>(0,o.useShortcuts)(e(),t,n,r),usePrefetchShortcuts:(n,o)=>(0,r.usePrefetchShortcuts)(e(),t,n,o)}}})),i.register("2HIjl",(function(t,n){e(t.exports,"usePrefetchShortcuts",(function(){return u})),e(t.exports,"useFetchShortcuts",(function(){return l}));var r=i("RVqnc"),o=i("5ekp2"),s=i("29o0l"),a=i("hhqwY"),c=i("eSfrU");const u=(e,t,n,r)=>{(0,s.useEffect)((()=>{(0,a.prefetchShortcuts)(e,t,n,r)}),[n,r,e,t])},d=(0,r.toMilliseconds)({minutes:5}),l=(e,t,n)=>{const r=null!==t&&n;return(0,o.useQuery)(Object.assign({enabled:r,cacheTime:d,staleTime:d,refetchInterval:!1,refetchOnMount:!1},(0,c.getShortcutsQuery)(t,e)))}})),i.register("g4RTB",(function(t,n){e(t.exports,"useShortcuts",(function(){return u}));var r=i("21aqi"),o=i("3cTmb"),s=i("2HIjl"),a=i("7vlRB");function c(e){return Boolean(e&&"object"==typeof e&&"type"in e&&"fungible"===e.type)}function u(e,t,n,r){var i,u;const l=function(e){return c(e)?(0,o.ensureExternalUrl)(e.externalUrl):(0,o.ensureExternalUrl)(null==e?void 0:e.externalUrl)}(t),f=(0,o.isValidUrl)(l)&&Boolean(l)&&!function(e){var t;return!c(e)&&(null===(t=null==e?void 0:e.collection.isSpam)||void 0===t||t)}(t)&&r,{data:p,isLoading:g}=(0,s.useFetchShortcuts)(e,f&&l?new URL(l):null,r),h=c(t)?"":null!==(i=d(t))&&void 0!==i?i:"",v=c(t)?t.tokenAddress:null!==(u=null==t?void 0:t.id)&&void 0!==u?u:"",y=c(t)?{platform:n,tokenAddress:v,type:"fungible"}:{platform:n,collectionId:h,type:"collectible"},m=(0,a.useMappedShortcuts)(null!=p?p:[],{collectionId:h,tokenId:v,ownerAddress:null==t?void 0:t.owner},y);return{isLoading:!t||g&&f,shortcuts:f?m:[]}}const d=e=>{if(null==e?void 0:e.chainData)return(0,r.isEthereumCollectibleChainData)(e.chainData)?e.chainData.contract:(0,r.isSolanaCollectibleChainData)(e.chainData)?e.collection.id:(0,r.isBitcoinCollectibleChainData)(e.chainData)?e.chainData.firstCreatedInscriptionId:void 0}})),i.register("7vlRB",(function(t,n){e(t.exports,"useMappedShortcuts",(function(){return a}));var r=i("29o0l"),o=i("isMve"),s=i("duQNm");const a=(e,t,n)=>(0,r.useMemo)((()=>{const r=(0,s.parse)({input:t,shortcuts:e});return(0,o.filter)(r,n)}),[e,t,n])})),i.register("isMve",(function(t,n){e(t.exports,"filter",(function(){return r}));const r=(e,t)=>e?e.filter((e=>"fungible"===t.type?function(e,t){const n="type"in e&&"fungible"===e.type?e:null;if(!n)return!1;const r="all"===n.platform||n.platform===t.platform,o=n.limitToTokenAddresses&&n.limitToTokenAddresses.length>0;return!(!r||o)||!(!r||!o)&&n.limitToTokenAddresses.some((e=>e===t.tokenAddress))}(e,t):function(e,t){const n="type"in e&&"collectible"!==e.type?null:e;if(!n)return!1;const r="all"===n.platform||n.platform===t.platform,o=n.limitToCollections&&n.limitToCollections.length>0;return!(!r||o)||!(!r||!o)&&n.limitToCollections.some((e=>e===t.collectionId))}(e,t))).slice(0,20):[]})),i.register("duQNm",(function(t,n){e(t.exports,"parse",(function(){return r}));const r=({input:e,shortcuts:t})=>{if(0===t.length)return[];let n=JSON.stringify(t);return e.collectionId&&(n=n.replaceAll("{{collectionId}}",e.collectionId)),e.tokenId&&(n=n.replaceAll("{{tokenId}}",e.tokenId)),e.ownerAddress&&(n=n.replaceAll("{{ownerAddress}}",e.ownerAddress)),JSON.parse(n)}})),i.register("itgZy",(function(t,n){e(t.exports,"getIcon",(function(){return a}));var r=i("RVqnc"),o=i("6xd2z");const s=[["twitter",[/twitter.com/i]],["x",[/x.com/i]],["discord",[/discord.com/i,/discord.gg/i]],["telegram",[/t.me/i]],["instagram",[/instagram.com/i]]];function a(e,t){const n=(0,r.getHostname)(e.toString());return t===o.DEFAULT_ICON&&n?function(e){for(const[t,n]of s)if(n.some((t=>t.test(e))))return t;return o.DEFAULT_ICON}(n):t}})),i.register("5MNpG",(function(n,r){e(n.exports,"getVaultProxy",(function(){return g}),(function(e){return g=e})),e(n.exports,"importSeedAccount",(function(){return v}),(function(e){return v=e})),e(n.exports,"isExistingSeed",(function(){return y}),(function(e){return y=e})),e(n.exports,"exportPrivateKey",(function(){return b}),(function(e){return b=e})),e(n.exports,"exportEntropy",(function(){return w}),(function(e){return w=e}));var o=i("4xbAj"),s=i("96hm7"),a=i("7mQ3Y"),c=i("k8NWT"),u=i("85iHy"),d=i("hulLf"),l=i("gErWM"),f=i("8tcqI").Buffer,p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const g=()=>({addAccountForSeed:m,addReadonlyAccount:T,importPrivateKeyAccount:h,connectLedgerAccounts:A,fetchAllAccounts:C,fetchAllSeedMetas:O,connectSolanaSeedVaultAccounts:()=>{throw new Error("Solana Seed Vault is not supported on browser extension.")},deriveAddresses:S,removeAccount:e=>p(void 0,void 0,void 0,(function*(){if(!(yield x(e)))throw new Error("Error while removing account")})),reorderAccount:(e,t)=>p(void 0,void 0,void 0,(function*(){if(!(yield E(e,t)))throw new Error("Error while reordering account")})),sign:D}),h=(e,t,n)=>p(void 0,void 0,void 0,(function*(){const r=t.fold((e=>f.from(e.buffer).toString("base64"))),o=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.ImportPrivateKeyAccount,[e,r,n]),i=yield c.sendMessage(d.browser.runtime,o);if("error"in i)throw new Error(i.error.message);if("string"==typeof i.result)return JSON.parse(i.result);throw new Error("Invalid response")})),v=(e,n,r)=>p(void 0,void 0,void 0,(function*(){const o=e.getEntropy(),i=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.ImportSeedAccount,[t(u).encode(o),n,r]);o.fill(0);const s=yield c.sendMessage(d.browser.runtime,i);if("error"in s)throw new Error(s.error.message);if("string"==typeof s.result)return JSON.parse(s.result);throw new Error("Invalid response")})),y=e=>p(void 0,void 0,void 0,(function*(){const n=e.getEntropy(),r=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.IsExistingSeed,t(u).encode(n));n.fill(0);const o=yield c.sendMessage(d.browser.runtime,r);if("error"in o)throw new Error(o.error.message);if("boolean"==typeof o.result||null===o.result)return o.result;throw new Error("Invalid response")})),m=e=>p(void 0,void 0,void 0,(function*(){const t=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.AddAccountForSeed,[e]),n=c.parse(yield d.browser.runtime.sendMessage(c.stringify(t)));if("error"in n)throw new Error(n.error.message);if("string"==typeof n.result)return JSON.parse(n.result);throw new Error("Invalid response")})),A=(e,t)=>p(void 0,void 0,void 0,(function*(){const n=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.AddLedgerAccounts,[e,t]),r=c.parse(yield d.browser.runtime.sendMessage(c.stringify(n)));if("error"in r)throw new Error(r.error.message);if("string"==typeof r.result)return JSON.parse(r.result);throw new Error("Invalid response")})),T=e=>p(void 0,void 0,void 0,(function*(){const t=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.ImportReadOnlyAccount,e),n=c.parse(yield d.browser.runtime.sendMessage(c.stringify(t)));if("error"in n)throw new Error(n.error.message);if("string"==typeof n.result)return JSON.parse(n.result);throw new Error("Invalid response")})),b=(e,t,n)=>p(void 0,void 0,void 0,(function*(){const r=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.ExportPrivateKey,[e,t,n]),o=c.parse(yield d.browser.runtime.sendMessage(c.stringify(r)));if("error"in o)throw new Error(o.error.message);if("string"==typeof o.result)return s.ObfuscatedBytes.from(f.from(o.result,"hex"));throw new Error("Invalid response")})),w=(e,t)=>p(void 0,void 0,void 0,(function*(){const n=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.ExportEntropy,[e,t]),r=c.parse(yield d.browser.runtime.sendMessage(c.stringify(n)));if("error"in r)throw new Error(r.error.message);if("string"==typeof r.result)return s.ObfuscatedBytes.from(f.from(r.result,"hex"));throw new Error("Invalid response")})),S=()=>p(void 0,void 0,void 0,(function*(){const e=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.DeriveAddresses),t=yield c.sendMessage(d.browser.runtime,e);if("error"in t)throw new Error(t.error.message);return t.result})),x=e=>p(void 0,void 0,void 0,(function*(){const t=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.RemoveAccount,e),n=yield c.sendMessage(d.browser.runtime,t);if("error"in n)throw new Error(n.error.message);return n.result})),E=(e,t)=>p(void 0,void 0,void 0,(function*(){const n=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.ReorderAccount,{identifier:e,toIndex:t}),r=yield c.sendMessage(d.browser.runtime,n);if("error"in r)throw new Error(r.error.message);return r.result})),C=()=>p(void 0,void 0,void 0,(function*(){const e=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.GetAllAccounts),t=c.parse(yield d.browser.runtime.sendMessage(c.stringify(e)));if("error"in t)throw new Error(t.error.message);if("string"==typeof t.result){const e=JSON.parse(t.result);return(0,o.deserializeVaultAccount)({accounts:e}).accounts}throw new Error("Invalid response")})),O=()=>p(void 0,void 0,void 0,(function*(){const e=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.GetAllSeeds),t=c.parse(yield d.browser.runtime.sendMessage(c.stringify(e)));if("error"in t)throw new Error(t.error.message);if("string"==typeof t.result)return JSON.parse(t.result);throw new Error("Invalid response")})),D=(e,n)=>p(void 0,void 0,void 0,(function*(){const r=o.VaultSignerParams.parse(n);"chainType"in r&&r.chainType===a.AddressType.Solana&&"transaction"===r.signingType&&"string"!=typeof r.message&&(r.message=t(u).encode(r.message));const i=(0,l.createJsonRpcRequest)(l.WalletToBackgroundRequestMethods.Sign,{accountIdentifier:e,params:r}),s=c.parse(yield d.browser.runtime.sendMessage(c.stringify(i)));if("error"in s)throw new Error(s.error.message);if("string"==typeof s.result)return JSON.parse(s.result);throw new Error("Invalid response")}))})),i.register("cqeOY",(function(t,n){e(t.exports,"getLegacyMnemonicFetcher",(function(){return a}),(function(e){return a=e}));var r=i("96hm7"),o=i("1btQY"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=()=>({fetch:()=>s(void 0,void 0,void 0,(function*(){const e=yield(0,o.getLegacyMnemonic)();if(!e)return null;switch(e.type){case"bip39":{const t=yield e.value.getMnemonic(),n=r.ObfuscatedBytes.from(t);return t.fill(0),n}case"deprecated":{const t=r.ObfuscatedBytes.from(e.value);return e.value.fill(0),t}}}))})})),i.register("1btQY",(function(n,r){e(n.exports,"getLegacyMnemonic",(function(){return l}),(function(e){return l=e}));var o=i("k8NWT"),s=i("85iHy"),a=i("hulLf"),c=i("gErWM"),u=i("fSBRP"),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const l=()=>d(void 0,void 0,void 0,(function*(){const e=(0,c.createJsonRpcRequest)(c.WalletToBackgroundRequestMethods.GetLegacyMnemonic),n=o.parse(yield a.browser.runtime.sendMessage(o.stringify(e)));if("error"in n)throw new Error(n.error.message);if(!n.result)return null;const[r,i]=n.result;switch(r){case 0:{const e=new Uint8Array(t(s).decode(i).buffer),n=(yield(0,u.getBip39)()).fromEntropy(e);return e.fill(0),{type:"bip39",value:n}}case 1:return{type:"deprecated",value:new Uint8Array(t(s).decode(i).buffer)}}}))})),i.register("fSBRP",(function(t,n){e(t.exports,"getBip39",(function(){return s}),(function(e){return s=e})),i("dyTLY");var r=i("28ipF");i("aNyyc");var o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const s=(()=>{let e=null;return()=>o(void 0,void 0,void 0,(function*(){e||(e=yield r.Bip39Factory.webCrypto("english"));return e}))})()})),i.register("dyTLY",(function(t,n){e(t.exports,"Bip39Factory",(function(){return i("28ipF").Bip39Factory}));i("1GBLm"),i("28ipF")})),i.register("1GBLm",(function(t,n){e(t.exports,"ERR_UNKNOWN",(function(){return o}),(function(e){return o=e})),e(t.exports,"ERR_INVALID_CHECKSUM",(function(){return a}),(function(e){return a=e})),e(t.exports,"assertEntropyLengthIsValid",(function(){return f}),(function(e){return f=e})),e(t.exports,"assertWordlistIsValid",(function(){return g}),(function(e){return g=e})),e(t.exports,"generateEntropy",(function(){return h}),(function(e){return h=e})),e(t.exports,"deriveBits",(function(){return v}),(function(e){return v=e})),e(t.exports,"mapBitsToIndexes",(function(){return y}),(function(e){return y=e})),e(t.exports,"indexesToEntropy",(function(){return m}),(function(e){return m=e})),e(t.exports,"entropyToIndexes",(function(){return A}),(function(e){return A=e})),e(t.exports,"mnemonicToIndexes",(function(){return T}),(function(e){return T=e})),e(t.exports,"entropyToMnemonic",(function(){return b}),(function(e){return b=e})),e(t.exports,"entropyToSeed",(function(){return S}),(function(e){return S=e}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const o=new Error("Unknown error"),i=new Error("Invalid entropy length"),s=new Error("Invalid mn*monic sentence length"),a=new Error("Invalid checksum"),c=new RangeError("Invalid mn*monic word"),u=new RangeError("Invalid wordlist"),d=new RangeError("Invalid wordlist index"),l=(e,t)=>{if(!e)throw t};function f(e){l(e>=128,i),l(e<=256,i),l(e%32==0,i)}function p(e){l(e>=12,s),l(e<=24,s),l(e%3==0,s)}function g(e){l(2048===e.length,u),l(e.every((e=>"string"==typeof e)),u)}function h(e,t){return p(e),t(4*e/3)}function v(e,t){return r(this,void 0,void 0,(function*(){const n=8*e.length;f(n);const r=n/32,o=yield t(e),[i]=o,s=8-r,a=i>>>s<<s>>>0,c=new Uint8Array(e.length+1);return c.set(e,0),c[c.length-1]=a,c}))}function y(e){const t=8*(e.length-1);f(t);const n=(t+t/32)/11,r=new ArrayBuffer(4*n),o=new DataView(r);let i=0,a=0,c=0;for(const t of e)if(c+=8,a|=t<<32-c,a>>>=0,c>=11){const e=a>>>21;l(e>=0&&e<=2047,d),o.setUint32(4*i,e,!0),i++,a<<=11,a>>>=0,c-=11}return l(i===n,s),new Uint32Array(r)}function m(e){p(e.length);const t=function(e){p(e.length);const t=11*e.length,n=new ArrayBuffer(Math.ceil(t/8)),r=new DataView(n),o=new DataView(e.buffer),i=e.length;let s=0,a=0,c=0,u=8;for(let e=0;e<i;e++){const t=o.getUint32(4*e,!0);l(t<2048,d);let n=11;for(;n>0;){const e=n>=u?u:n;s|=t>>32-(32-n)-e&(1<<e)-1,a+=e,s<<=u-e,s>>>=0,n-=e,u-=e,u<=0&&(u=8),a%8==0&&(r.setUint8(c,s),c++,s=0)}}return i%8!=0&&r.setUint8(c,s),new Uint8Array(n)}(e),n=t.slice(0,t.length-1);return t.fill(0),n}function A(e,t){return r(this,void 0,void 0,(function*(){f(8*e.length);const n=yield v(e,t),r=y(n);return n.fill(0),r}))}function T(e,t){g(t);const n=new Set(t),r=new Uint32Array(24);let o=0,i="";for(let s=0;s<e.length;s++){const a=e[s],u=32===a,d=s===e.length-1;if(d&&(i+=String.fromCharCode(a)),u||d){l(n.has(i),c);let e=0;for(const n of t){if(i===n)break;e++}r[o++]=e,i=""}else i+=String.fromCharCode(a)}p(o);const s=r.slice(0,o);return r.fill(0),s}function b(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield A(e,n),o=new Uint8Array(r.reduce(((e,n)=>e+t[n].length+1),-1));let i=0;for(const e of r){i>0&&(o[i++]=32);const n=t[e];for(const e of n)o[i++]=e.charCodeAt(0)}return r.fill(0),o}))}const w=Uint8Array.of(109,110,101,109,111,110,105,99);function S(e,t,n,o,i){return r(this,void 0,void 0,(function*(){const r=yield b(e,n,o),s=new Uint8Array(w.length+t.length);s.set(w,0),s.set(t,w.length);const a=yield i(r,s,2048,64,"sha512");return s.fill(0),r.fill(0),a}))}})),i.register("28ipF",(function(t,n){e(t.exports,"Bip39Factory",(function(){return p}),(function(e){return p=e}));var r=i("1GBLm"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},a=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};function c(e){return o(this,void 0,void 0,(function*(){if("english"===e)return(yield i("i99tY")).default}))}function u(e){return t=>new e(t)}function d(e,t){return n=>o(this,void 0,void 0,(function*(){let o=null,i=null,s=null,a=null,c=null;try{i=(0,r.indexesToEntropy)(n),s=yield(0,r.deriveBits)(i,t),a=(0,r.mapBitsToIndexes)(s);const o=n[n.length-1];if(o!==a[a.length-1])throw r.ERR_INVALID_CHECKSUM;c=e.fromEntropy(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=r.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),null==s||s.fill(0),null==a||a.fill(0),o)throw o;return c}}))}function l(e,t){return n=>o(this,void 0,void 0,(function*(){let o=null,i=null,s=null;try{i=(0,r.mnemonicToIndexes)(n,t),s=yield e.fromIndexes(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=r.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),o)throw o;return s}}))}function f(e,t){return n=>{let o=null,i=null,s=null;try{i=(0,r.generateEntropy)(n,t),s=e.fromEntropy(i)}catch(e){e instanceof Error?o=e:(console.error(e),o=r.ERR_UNKNOWN)}finally{if(null==i||i.fill(0),o)throw o;return s}}}class p{static webCrypto(e){var t,n;return o(this,void 0,void 0,(function*(){const i="string"==typeof e?yield c(e):e;(0,r.assertWordlistIsValid)(i);const p=e=>o(this,void 0,void 0,(function*(){return new Uint8Array(yield crypto.subtle.digest("SHA-256",e))})),g=(e,t,n,r,i)=>o(this,void 0,void 0,(function*(){const o="SHA-"+i.substring(3),s=yield crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]),a=yield crypto.subtle.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:o},s,8*r);return new Uint8Array(a)}));return n=class{constructor(e){t.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,r.entropyToSeed)(a(this,t,"f"),e,i,p,g),this.getEntropy=()=>a(this,t,"f").slice(),this.getIndexes=()=>(0,r.entropyToIndexes)(a(this,t,"f"),p),this.getMnemonic=()=>(0,r.entropyToMnemonic)(a(this,t,"f"),i,p),this.getSentenceLength=()=>{const e=8*a(this,t,"f").length;return(e+e/32)/11},(0,r.assertEntropyLengthIsValid)(8*e.length),s(this,t,e.slice(),"f")}},t=new WeakMap,n.fromEntropy=u(n),n.fromIndexes=d(n,p),n.fromMnemonic=l(n,i),n.fromSentenceLength=f(n,(e=>crypto.getRandomValues(new Uint8Array(e)))),n.wordlist=i,n}))}static nodeCrypto(e){var t,n;return o(this,void 0,void 0,(function*(){const o="string"==typeof e?yield c(e):e;(0,r.assertWordlistIsValid)(o);const{randomBytes:p,createHash:g,pbkdf2:h}=yield i("juFnv"),v=e=>new Uint8Array(g("sha256").update(e).digest().buffer),y=(...e)=>new Promise(((t,n)=>{h(...e,((e,r)=>{if(e)return n(e);t(new Uint8Array(r.buffer))}))}));return n=class{constructor(e){t.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,r.entropyToSeed)(a(this,t,"f"),e,o,v,y),this.getEntropy=()=>a(this,t,"f").slice(),this.getIndexes=()=>(0,r.entropyToIndexes)(a(this,t,"f"),v),this.getMnemonic=()=>(0,r.entropyToMnemonic)(a(this,t,"f"),o,v),this.getSentenceLength=()=>{const e=8*a(this,t,"f").length;return(e+e/32)/11},(0,r.assertEntropyLengthIsValid)(8*e.length),s(this,t,e.slice(),"f")}},t=new WeakMap,n.fromEntropy=u(n),n.fromIndexes=d(n,v),n.fromMnemonic=l(n,o),n.fromSentenceLength=f(n,(e=>new Uint8Array(p(e).buffer))),n.wordlist=o,n}))}static customCrypto(e,t){var n,i;return o(this,void 0,void 0,(function*(){const o="string"==typeof e?yield c(e):e;(0,r.assertWordlistIsValid)(o);const{random:p,sha256:g,pbkdf2:h}=t;return i=class{constructor(e){n.set(this,void 0),this.deriveSeed=(e=new Uint8Array)=>(0,r.entropyToSeed)(a(this,n,"f"),e,o,g,h),this.getEntropy=()=>a(this,n,"f").slice(),this.getIndexes=()=>(0,r.entropyToIndexes)(a(this,n,"f"),g),this.getMnemonic=()=>(0,r.entropyToMnemonic)(a(this,n,"f"),o,g),this.getSentenceLength=()=>{const e=8*a(this,n,"f").length;return(e+e/32)/11},(0,r.assertEntropyLengthIsValid)(8*e.length),s(this,n,e.slice(),"f")}},n=new WeakMap,i.fromEntropy=u(i),i.fromIndexes=d(i,g),i.fromMnemonic=l(i,o),i.fromSentenceLength=f(i,p),i.wordlist=o,i}))}}})),i.register("i99tY",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("8ZV50")).then((()=>i("jI6Lx")))})),i.register("juFnv",(function(e,t){e.exports=i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("bSKtD")).then((()=>i("ieXYQ")))})),i.register("dbmto",(function(t,n){e(t.exports,"getLedgerWebHIDDependencies",(function(){return c}),(function(e){return c=e}));var r=i("2jR04"),o=i("c8OXT"),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=()=>s(void 0,void 0,void 0,(function*(){const{default:e}=yield i("ckDob");return e})),c=()=>({defaultTransportTimeout:2e3,isSupported:()=>s(void 0,void 0,void 0,(function*(){if(o.BROWSER_ENV.browser.name===r.BROWSER_MAP.firefox||o.BROWSER_ENV.browser.name===r.BROWSER_MAP.safari)return!1;return(yield a()).isSupported()})),getNumDevices:()=>s(void 0,void 0,void 0,(function*(){const e=yield a();return(yield e.list()).length})),getFirstOpenedTransport:()=>s(void 0,void 0,void 0,(function*(){const e=yield a(),t=(yield e.list()).find((e=>e.opened));return t?new e(t):void 0})),create:()=>s(void 0,void 0,void 0,(function*(){return(yield a()).create()})),openConnected:()=>s(void 0,void 0,void 0,(function*(){const e=yield a();return yield e.openConnected()})),request:()=>s(void 0,void 0,void 0,(function*(){const e=yield a();return yield e.request()})),on:(e,t)=>{"hid"in window.navigator&&window.navigator.hid.addEventListener(e,(()=>{t()}))}})})),i.register("ckDob",(function(e,t){e.exports=Promise.all([i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("4nmlj")),i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("aYF3y")),i("j1yuj")(i("2FqAO").getBundleURL("eITPT")+i("eOkdY").resolve("99t1D"))]).then((()=>i("bnr7p")))})),i.register("634r8",(function(t,n){e(t.exports,"Row",(function(){return r}));const r=i("gkfw3").default.div`
  display: flex;
  flex-direction: row;
  width: ${e=>e.width};
  margin: ${e=>e.margin};
  padding: ${e=>e.padding};
  align-items: ${e=>e.align};
  justify-content: ${e=>e.justify};
`;r.defaultProps={width:"100%",align:"center",justify:"flex-start"}})),i.register("6UMd8",(function(t,n){e(t.exports,"Circle",(function(){return o}));var r=i("RVqnc");const o=i("gkfw3").default.div`
  height: ${e=>e.diameter}px;
  width: ${e=>e.diameter}px;
  margin: ${e=>e.margin};
  background-color: ${e=>e.alpha&&e.color?(0,r.hexToRGB)(e.color,e.alpha):e.color};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  opacity: ${e=>e.opacity};
  overflow: hidden;
  ${e=>e.includeDarkBoxShadow?"box-shadow: inset 0px 0px 4px rgba(0, 0, 0, 0.25);":""}
`;o.defaultProps={color:"#333333",diameter:24,opacity:1}})),i.register("2eJU6",(function(t,n){e(t.exports,"useIsomorphicLayoutEffect",(function(){return o}));var r=i("29o0l"),o=(0,i("7hYQv").canUseDOM)()?r.useLayoutEffect:r.useEffect})),i.register("7hYQv",(function(t,n){function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}e(t.exports,"canUseDOM",(function(){return r}))})),i.register("18uvf",(function(t,n){function r(e){}function o(e,t,n){}e(t.exports,"useCheckStyles",(function(){return r})),e(t.exports,"useControlledSwitchWarning",(function(){return o})),i("29o0l")})),i.register("cXfhD",(function(t,n){e(t.exports,"useComposedRefs",(function(){return u}));var r=i("29o0l"),o=i("aYhYb");function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function c(e,t){if(null!=e)if((0,o.isFunction)(e))e(t);else try{e.current=t}catch(n){throw new Error('Cannot assign value "'+t+'" to ref "'+e+'"')}}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)((function(e){for(var n,r=a(t);!(n=r()).done;){c(n.value,e)}}),t)}})),i.register("aYhYb",(function(t,n){function r(e){return"boolean"==typeof e}function o(e){return!(!e||"[object Function]"!={}.toString.call(e))}function i(e){return"string"==typeof e}e(t.exports,"isBoolean",(function(){return r})),e(t.exports,"isFunction",(function(){return o})),e(t.exports,"isString",(function(){return i}))})),i.register("5mEzL",(function(t,n){function r(e,t){return function(n){if(e&&e(n),!n.defaultPrevented)return t(n)}}e(t.exports,"composeEventHandlers",(function(){return r}))})),i.register("1I4L6",(function(t,n){function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[H]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===V}(e)||Array.isArray(e)||!!e[W]||!!e.constructor[W]||f(e)||p(e))}function s(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:$)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[H];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:p(e)?3:0}function c(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===a(e)?e.get(t):e[t]}function d(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return _&&e instanceof Map}function p(e){return K&&e instanceof Set}function g(e){return e.o||e.t}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=G(e);delete t[H];for(var n=$(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),m(e)||o(e)||!i(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&s(e,(function(e,t){return v(t,!0)}),!0)),e}function y(){r(2)}function m(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function A(e){var t=z[e];return t||r(18,e),t}function T(){return F}function b(e,t){t&&(A("Patches"),e.u=[],e.s=[],e.v=t)}function w(e){S(e),e.p.forEach(E),e.p=null}function S(e){e===F&&(F=e.l)}function x(e){return F={p:[],l:F,h:e,m:!0,_:0}}function E(e){var t=e[H];0===t.i||1===t.i?t.j():t.O=!0}function C(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.g||A("ES5").S(t,e,o),o?(n[H].P&&(w(t),r(4)),i(e)&&(e=O(t,e),t.l||k(t,e)),t.u&&A("Patches").M(n[H].t,e,t.u,t.s)):e=O(t,n,[]),w(t),t.u&&t.v(t.u,t.s),e!==U?e:void 0}function O(e,t,n){if(m(t))return t;var r=t[H];if(!r)return s(t,(function(o,i){return D(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return k(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=h(r.k):r.o;s(3===r.i?new Set(o):o,(function(t,i){return D(e,r,o,t,i,n)})),k(e,o,!1),n&&e.u&&A("Patches").R(r,n,e.u,e.s)}return r.o}function D(e,t,n,r,s,a){if(o(s)){var u=O(e,s,a&&t&&3!==t.i&&!c(t.D,r)?a.concat(r):void 0);if(d(n,r,u),!o(u))return;e.m=!1}if(i(s)&&!m(s)){if(!e.h.F&&e._<1)return;O(e,s),t&&t.A.l||k(e,s)}}function k(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&v(t,n)}function P(e,t){var n=e[H];return(n?g(n):e)[t]}function I(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function L(e){e.P||(e.P=!0,e.l&&L(e.l))}function R(e){e.o||(e.o=h(e.t))}function N(e,t,n){var r=f(t)?A("MapSet").N(t,n):p(t)?A("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:T(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=Q;n&&(o=[r],i=Y);var s=Proxy.revocable(o,i),a=s.revoke,c=s.proxy;return r.k=c,r.j=a,c}(t,n):A("ES5").J(t,n);return(n?n.A:T()).p.push(r),r}function j(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}e(t.exports,"default",(function(){return ee}));var B,F,M="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),_="undefined"!=typeof Map,K="undefined"!=typeof Set,q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,U=M?Symbol.for("immer-nothing"):((B={})["immer-nothing"]=!0,B),W=M?Symbol.for("immer-draftable"):"__$immer_draftable",H=M?Symbol.for("immer-state"):"__$immer_state",V=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),$="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,G=Object.getOwnPropertyDescriptors||function(e){var t={};return $(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},z={},Q={get:function(e,t){if(t===H)return e;var n=g(e);if(!c(n,t))return function(e,t,n){var r,o=I(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!i(r)?r:r===P(e.t,t)?(R(e),e.o[t]=N(e.A.h,r,e)):r},has:function(e,t){return t in g(e)},ownKeys:function(e){return Reflect.ownKeys(g(e))},set:function(e,t,n){var r=I(g(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=P(g(e),t),i=null==o?void 0:o[H];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(l(n,o)&&(void 0!==n||c(e.t,t)))return!0;R(e),L(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==P(e.t,t)||t in e.t?(e.D[t]=!1,R(e),L(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=g(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},Y={};s(Q,(function(e,t){Y[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Y.deleteProperty=function(e,t){return Y.set.call(this,e,t,void 0)},Y.set=function(e,t,n){return Q.set.call(this,e[0],t,n,e[0])};var J=function(){function e(e){var t=this;this.g=q,this.F=!0,this.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var s=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=s);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var c;if("function"!=typeof n&&r(6),void 0!==o&&"function"!=typeof o&&r(7),i(e)){var u=x(t),d=N(t,e,void 0),l=!0;try{c=n(d),l=!1}finally{l?w(u):S(u)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return b(u,o),C(e,u)}),(function(e){throw w(u),e})):(b(u,o),C(c,u))}if(!e||"object"!=typeof e){if(void 0===(c=n(e))&&(c=e),c===U&&(c=void 0),t.F&&v(c,!0),o){var f=[],p=[];A("Patches").M(e,c,f,p),o(f,p)}return c}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||r(8),o(e)&&(e=function(e){return o(e)||r(22,e),function e(t){if(!i(t))return t;var n,r=t[H],o=a(t);if(r){if(!r.P&&(r.i<4||!A("ES5").K(r)))return r.t;r.I=!0,n=j(t,o),r.I=!1}else n=j(t,o);return s(n,(function(t,o){r&&u(r.t,t)===o||d(n,t,e(o))})),3===o?new Set(n):n}(e)}(e));var t=x(this),n=N(this,e,void 0);return n[H].C=!0,S(t),n},t.finishDraft=function(e,t){var n=(e&&e[H]).A;return b(n,t),C(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!q&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=A("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Z=new J,X=Z.produce,ee=(Z.produceWithPatches.bind(Z),Z.setAutoFreeze.bind(Z),Z.setUseProxies.bind(Z),Z.applyPatches.bind(Z),Z.createDraft.bind(Z),Z.finishDraft.bind(Z),X)})),i.register("84vNm",(function(t,n){e(t.exports,"default",(function(){return a}));var r=i("29o0l"),o=i("kn0JG"),s=function(e,t){return e===t};function a(e,t){void 0===t&&(t=s);var n=(0,r.useRef)(),i=(0,r.useRef)(e);return(0,o.useFirstMountState)()||t(i.current,e)||(n.current=i.current,i.current=e),n.current}})),i.register("kn0JG",(function(t,n){e(t.exports,"useFirstMountState",(function(){return o}));var r=i("29o0l");function o(){var e=(0,r.useRef)(!0);return e.current?(e.current=!1,!0):e.current}})),i.register("7CBpB",(function(t,n){e(t.exports,"createNamedContext",(function(){return o}));var r=i("29o0l");function o(e,t){return(0,r.createContext)(t)}})),i.register("7bRVh",(function(n,r){e(n.exports,"TokenNameBadge",(function(){return u})),e(n.exports,"AddressTypeBadge",(function(){return d}));var o=i("5slFC"),s=i("29o0l"),a=i("gX5Te"),c=i("jBmjc");const u=({children:e,networkID:n,walletAddress:r})=>t(s).createElement(c.TitleBadgeWrapper,null,e,r?t(s).createElement(d,{networkID:n,address:r}):null),d=({networkID:e,address:n})=>{const r=a.hooks.useEnabledAddressTypes();if(!(0,o.showAddressTypeBadge)(r,e))return null;const i=(0,o.getAddressBadge)(e,n);return i?t(s).createElement(c.TitleBadge,{text:i}):null}})),i.register("jBmjc",(function(n,r){e(n.exports,"TitleBadge",(function(){return u})),e(n.exports,"TitleBadgeContainer",(function(){return l})),e(n.exports,"TitleBadgeWrapper",(function(){return d}));var o=i("RVqnc"),s=i("29o0l"),a=i("gkfw3"),c=i("27SDj");const u=({text:e})=>t(s).createElement(l,null,t(s).createElement(f,null,e)),d=a.default.div`
  display: flex;
  align-items: center;
`,l=a.default.div`
  background: ${(0,o.hexToRGB)("#FFFFFF",.1)};
  border-radius: 3px;
  padding: 0px 4px;
  color: white;
  display: inline-block;
  margin-left: 5px;
`,f=(0,a.default)(c.StyledText).attrs({size:12,lineHeight:17,weight:600,noWrap:!0})``})),i.register("bOxRX",(function(e,t){e.exports=i("hTL7p")()})),i.register("hTL7p",(function(e,t){"use strict";var n=i("9eJ3d");function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,r,o,i,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return i.PropTypes=i,i}})),i.register("9eJ3d",(function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"})),i.register("brdH9",(function(t,n){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r,o;e(t.exports,"assign",(function(){return a})),e(t.exports,"createMachine",(function(){return f})),e(t.exports,"interpret",(function(){return g})),(o=r||(r={}))[o.NotStarted=0]="NotStarted",o[o.Running=1]="Running",o[o.Stopped=2]="Stopped";var i={type:"xstate.init"};function s(e){return void 0===e?[]:[].concat(e)}function a(e){return{type:"xstate.assign",assignment:e}}function c(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function u(e){return function(t){return e===t}}function d(e){return"string"==typeof e?{type:e}:e}function l(e,t){return{value:e,context:t,actions:[],changed:!1,matches:u(e)}}function f(e,t){void 0===t&&(t={});var n={config:e,_options:t,initialState:{value:e.initial,actions:s(e.states[e.initial].entry).map((function(e){return c(e,t.actions)})),context:e.context,matches:u(e.initial)},transition:function(t,r){var o,i,a="string"==typeof t?{value:t,context:e.context}:t,f=a.value,p=a.context,g=d(r),h=e.states[f];if(h.on){var v=s(h.on[g.type]),y=function(t){if(void 0===t)return{value:l(f,p)};var r="string"==typeof t?{target:t}:t,o=r.target,i=void 0===o?f:o,s=r.actions,a=void 0===s?[]:s,d=r.cond,v=p;if((void 0===d?function(){return!0}:d)(p,g)){var y=e.states[i],m=!1,A=[].concat(h.exit,a,y.entry).filter((function(e){return e})).map((function(e){return c(e,n._options.actions)})).filter((function(e){if("xstate.assign"===e.type){m=!0;var t=Object.assign({},v);return"function"==typeof e.assignment?t=e.assignment(v,g):Object.keys(e.assignment).forEach((function(n){t[n]="function"==typeof e.assignment[n]?e.assignment[n](v,g):e.assignment[n]})),v=t,!1}return!0}));return{value:{value:i,context:v,actions:A,changed:i!==f||A.length>0||m,matches:u(i)}}}};try{for(var m=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(v),A=m.next();!A.done;A=m.next()){var T=y(A.value);if("object"==typeof T)return T.value}}catch(e){o={error:e}}finally{try{A&&!A.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}}return l(f,p)}};return n}var p=function(e,t){return e.actions.forEach((function(n){var r=n.exec;return r&&r(e.context,t)}))};function g(e){var t=e.initialState,n=r.NotStarted,o=new Set,s={_machine:e,send:function(i){n===r.Running&&(t=e.transition(t,i),p(t,d(i)),o.forEach((function(e){return e(t)})))},subscribe:function(e){return o.add(e),e(t),{unsubscribe:function(){return o.delete(e)}}},start:function(){return n=r.Running,p(t,i),s},stop:function(){return n=r.Stopped,o.clear(),s},get state(){return t},get status(){return n}};return s}})),i.register("guOPS",(function(t,n){e(t.exports,"useMachine",(function(){return d})),e(t.exports,"useCreateMachine",(function(){return l}));var r=i("29o0l"),o=i("brdH9"),s=(o=i("brdH9"),i("aYhYb")),a=i("tlhWQ");function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=function(e){var t;return e.subscribe((function(e){t=e})).unsubscribe(),t};function d(e,t,n){var i=(0,r.useRef)(e),d=(0,a.useConstant)((function(){return(0,o.interpret)(i.current).start()})),l=(0,r.useRef)(null),f=(0,r.useState)((function(){return u(d)})),p=f[0],g=f[1],h=(0,r.useCallback)((function(e){var n=(0,s.isString)(e)?{type:e}:e,r=function(e){return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r.current,e}),{})}(t);d.send(c({},n,{lastEventType:l.current,refs:r})),l.current=n.type}),[n]);return(0,r.useEffect)((function(){return d.subscribe((function(e){e.changed&&g(e)})),function(){d.stop()}}),[d]),(0,r.useEffect)((function(){}),[n,p]),[(0,r.useMemo)((function(){return c({},p,{matches:function(e){return e===p.value}})}),[p.changed,p.context,p.value]),h,d]}function l(e,t){return(0,a.useConstant)((function(){return(0,o.createMachine)(e,t)}))}})),i.register("tlhWQ",(function(t,n){e(t.exports,"useConstant",(function(){return o}));var r=i("29o0l");function o(e){var t=(0,r.useRef)();return t.current||(t.current={v:e()}),t.current.v}})),i.register("cGJ3C",(function(n,r){e(n.exports,"ChainLogo",(function(){return u}));var o=i("iOvk1"),s=i("RVqnc"),a=i("29o0l"),c=i("j81qC");const u=t(a).memo((({networkID:e,height:n,width:r,stroke:i,strokeWidth:u,spacing:d="medium"})=>{if(!e)return null;const l={height:n,width:r,stroke:i,strokeWidth:u};return o.Chains.isBitcoinNetworkID(e)?"medium"===d?t(a).createElement(c.IconChainBitcoin,Object.assign({},l)):t(a).createElement(c.IconChainBitcoinLarge,Object.assign({},l)):o.Chains.isSolanaNetworkID(e)?"medium"===d?t(a).createElement(c.IconChainSolana,Object.assign({},l)):t(a).createElement(c.IconChainSolanaLarge,Object.assign({},l)):o.Chains.isEthereumNetworkID(e)?"medium"===d?t(a).createElement(c.IconChainEthereum,Object.assign({},l)):t(a).createElement(c.IconChainEthereumLarge,Object.assign({},l)):o.Chains.isPolygonNetworkID(e)?"medium"===d?t(a).createElement(c.IconChainPolygon,Object.assign({},l)):t(a).createElement(c.IconChainPolygonLarge,Object.assign({},l)):(0,s.assertNever)(e)}))})),i.register("lLNMU",(function(n,r){e(n.exports,"CheckboxGroup",(function(){return f}),(function(e){return f=e})),e(n.exports,"Checkbox",(function(){return p}),(function(e){return p=e}));var o=i("iI3jK"),s=i("29o0l"),a=i("gkfw3"),c=i("j81qC"),u=i("634r8"),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const l=22;const f=(0,a.default)(u.Row)`
  margin: ${e=>{var t;return null!==(t=e.margin)&&void 0!==t?t:0}};
  > * {
    margin-right: 10px;
  }

  label {
    color: #ab9ff2;
    cursor: pointer;

    &:hover {
      color: #e2dffe;
    }
  }
`,p=e=>{const{checked:n,onChange:r,color:i,checkColor:a}=e,u=d(e,["checked","onChange","color","checkColor"]),f=function(e,t="#AB9FF2"){return(0,s.useMemo)((()=>({background:"#282828",border:`1px solid ${e?t:"#4d4d4d"}`,borderRadius:"6px",height:`${l}px`,minHeight:`${l}px`,width:`${l}px`,minWidth:`${l}px`,cursor:"pointer",userSelect:"none",position:"relative",outlineColor:"transparent",outlineStyle:"none",boxShadow:"none"})),[e,t])}(n,i),p=function(e,t="#AB9FF2"){return(0,s.useMemo)((()=>({display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%",height:"100%",userSelect:"none",pointerEvents:"none",borderRadius:"4px",opacity:""+(e?1:0),zIndex:1,background:e?t:"transparent"})),[e,t])}(n,i);return t(s).createElement(o.CustomCheckboxContainer,{checked:n,onChange:r,style:f},t(s).createElement(o.CustomCheckboxInput,Object.assign({},u)),t(s).createElement("span",{"aria-hidden":!0,style:p},t(s).createElement(c.IconCheckmark,{width:"0.9em",fill:a||"#222"})))}})),i.register("iI3jK",(function(t,n){e(t.exports,"CustomCheckboxContainer",(function(){return R})),e(t.exports,"CustomCheckboxInput",(function(){return N}));var r=i("29o0l"),o=i("7CBpB"),s=i("aYhYb"),a=i("18uvf"),c=i("cXfhD"),u=i("5mEzL"),d=i("2eJU6"),l=i("brdH9"),f=i("guOPS");function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var h,v,y,m,A,T=!1;function b(e){return!(!e||e.isControlled||e.disabled)}function w(e){return function(t,n){return t&&t.isControlled&&n.state===e}}(y=v||(v={})).Checked="checked",y.Mixed="mixed",y.Unchecked="unchecked",(A=m||(m={})).GetDerivedData="GET_DERIVED_DATA",A.Mount="MOUNT",A.Set="SET",A.Toggle="TOGGLE",A.Unmount="UNMOUNT";var S=(0,l.assign)((function(e,t){return p({},e,{refs:t.refs})})),x=((h={})[m.Mount]={actions:S},h[m.GetDerivedData]={actions:[S,(0,l.assign)((function(e,t){return p({},e,t.data)}))]},h[m.Set]=[{target:v.Checked,cond:w(v.Checked)},{target:v.Unchecked,cond:w(v.Unchecked)},{target:v.Mixed,cond:w(v.Mixed)}],h),E=function(e,t){var n,r,o,i;return{id:"mixed-checkbox",initial:e,context:{disabled:t.disabled,isControlled:t.isControlled,refs:{input:null}},states:(i={},i[v.Unchecked]={entry:S,on:p((n={},n[m.Toggle]={target:v.Checked,cond:b},n),x)},i[v.Checked]={entry:S,on:p((r={},r[m.Toggle]={target:v.Unchecked,cond:b},r),x)},i[v.Mixed]={entry:S,on:p((o={},o[m.Toggle]={target:v.Checked,cond:b},o),x)},i)}};function C(e,t,n){void 0===n&&(n="useMixedCheckbox");var o,i=t||{},s=i.checked,a=i.defaultChecked,c=i.disabled,l=i.onChange,p=i.onClick,g=null!=s,h=(0,f.useCreateMachine)(E(O(g?s:a),{disabled:!!c,isControlled:g})),y=(0,f.useMachine)(h,{input:e},T),A=y[0],b=y[1],w={"aria-checked":D(A.value),checked:(o=A.value,o===v.Checked),disabled:!!c,onChange:(0,u.composeEventHandlers)(l,(function(){g||b(m.Toggle)})),onClick:(0,u.composeEventHandlers)(p,(function(){x()})),type:"checkbox"},S={checked:D(A.value)};function x(){e.current&&(e.current.indeterminate=A.value===v.Mixed)}return(0,r.useEffect)((function(){g&&b({type:m.Set,state:O(s)})}),[g,s,b]),(0,d.useIsomorphicLayoutEffect)(x),(0,r.useEffect)((function(){b({type:m.GetDerivedData,data:{disabled:c,isControlled:g}})}),[c,g,b]),[w,S]}function O(e){return!0===e?v.Checked:"mixed"===e?v.Mixed:v.Unchecked}function D(e){return e===v.Checked||e===v.Mixed&&"mixed"}function k(e,t,n){var o=null!=e,i=(0,r.useRef)(o).current;(0,r.useEffect)((function(){}),[n,t,o,i])}var P=["as","checked","children","defaultChecked","disabled","onClick","onChange","__componentName"],I=["as","onBlur","onFocus"],L=(0,o.createNamedContext)("CustomCheckboxContext",{});var R=(0,r.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"span":n,i=e.checked,c=e.children,d=e.defaultChecked,l=e.disabled,f=e.onClick,h=e.onChange,v=e.__componentName,y=void 0===v?"CustomCheckboxContainer":v,m=g(e,P),A=(0,r.useRef)(null),T=C(A,{defaultChecked:d,checked:i,disabled:l,onChange:h},y),b=T[0],w=T[1],S=(0,r.useState)(!1),x=S[0],E=S[1];var D={defaultChecked:d,disabled:l,focused:x,inputProps:b,inputRef:A,setFocused:E};return k(i,"checked",y),(0,a.useCheckStyles)("checkbox"),(0,r.createElement)(L.Provider,{value:D},(0,r.createElement)(o,p({},m,{ref:t,"data-reach-custom-checkbox-container":"","data-focused":x?"":void 0,"data-state":O(w.checked),onClick:(0,u.composeEventHandlers)(f,(function(){window.requestAnimationFrame((function(){A.current&&A.current.focus()}))}))}),(0,s.isFunction)(c)?c({checked:b["aria-checked"],inputRef:A,focused:x}):c))})),N=(0,r.forwardRef)((function(e,t){var n=e.as,o=void 0===n?"input":n,i=e.onBlur,s=e.onFocus,a=g(e,I),d=(0,r.useContext)(L),l=d.focused,f=d.inputProps,h=d.inputRef,v=d.setFocused,y=(0,c.useComposedRefs)(t,h),m=(0,r.useRef)(!0);return(0,r.useEffect)((function(){return function(){m.current=!1}}),[]),(0,r.createElement)(o,p({},a,f,{ref:y,type:"checkbox","data-reach-custom-checkbox-input":"","data-focused":l?"":void 0,onBlur:(0,u.composeEventHandlers)(i,(function(){window.requestAnimationFrame((function(){m.current&&v(!1)}))})),onFocus:(0,u.composeEventHandlers)(s,(function(){window.requestAnimationFrame((function(){m.current&&v(!0)}))}))}))}))})),i("86Tdh")}();
//# sourceMappingURL=ConnectHardwareMultichainFlow.0390354b.js.map
define=__define;})(window.define);