LavaPack.loadBundle([[4359,{"../../../../contexts/i18n":4949,"../../../../helpers/constants/design-system":4976,"../../../../hooks/useModalProps":5042,"../../../../selectors":5584,"../../../component-library":4608,"@metamask/etherscan-link":1253,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{hideModal:e,props:{originalTransactionId:t}}=(0,s.useModalProps)(),n=(0,a.useContext)(u.I18nContext),d=(0,r.useDispatch)(),p=(0,r.useSelector)((e=>(0,i.getTransaction)(e,t))),f=(0,r.useSelector)(i.getRpcPrefsForCurrentProvider);return a.default.createElement(l.Modal,{isOpen:!0,onClose:e},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,{onClose:e},n("yourTransactionConfirmed")),a.default.createElement(l.ModalBody,null,a.default.createElement(l.Text,null,n("yourTransactionJustConfirmed"))),a.default.createElement(l.ModalFooter,{onSubmit:e,onCancel:()=>{const t=(0,o.getBlockExplorerLink)(p,f);global.platform.openTab({url:t}),d(e())},submitButtonProps:{children:n("gotIt")},cancelButtonProps:{children:n("viewOnBlockExplorer")},containerProps:{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.stretch}})))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/etherscan-link"),i=e("../../../../selectors"),s=e("../../../../hooks/useModalProps"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../contexts/i18n");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/modals/transaction-already-confirmed/transaction-already-confirmed.tsx"}],[4360,{"./transaction-confirmed.container":4362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-confirmed.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/index.js"}],[4361,{"../../../../helpers/constants/design-system":4976,"../../../component-library":4608,"../../modal":4319,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=l(e("prop-types")),o=l(e("../../modal")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),u(this,"handleSubmit",(()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()}))}render(){const{t:e}=this.context;return a.default.createElement(o.default,{onSubmit:this.handleSubmit,submitText:e("ok")},a.default.createElement("div",{className:"transaction-confirmed__content"},a.default.createElement(i.Icon,{name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Xl}),a.default.createElement("div",{className:"transaction-confirmed__title"},`${e("confirmed")}!`),a.default.createElement("div",{className:"transaction-confirmed__description"},e("initialTransactionConfirmed"))))}}n.default=d,u(d,"contextTypes",{t:r.default.func}),u(d,"propTypes",{onSubmit:r.default.func,hideModal:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.component.js"}],[4362,{"../../../../helpers/higher-order-components/with-modal-props":4996,"./transaction-confirmed.component":4361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("../../../../helpers/higher-order-components/with-modal-props")),r=o(e("./transaction-confirmed.component"));function o(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.default)(r.default)}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.container.js"}],[4363,{"./multiple-notifications.component":4364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multiple-notifications.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/multiple-notifications/index.js"}],[4364,{classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=i(e("classnames")),o=i(e("prop-types"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,o=t.filter(Boolean);return 0===o.length?null:a.default.createElement("div",{className:(0,r.default)(...n,{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e,"home-notification-wrapper--multichain":Boolean("")})},o,a.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},o.length>1?a.default.createElement("i",{className:(0,r.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=c,l(c,"defaultProps",{children:[],classNames:[]}),l(c,"propTypes",{children:o.default.array,classNames:o.default.array})}}},{package:"$root$",file:"ui/components/app/multiple-notifications/multiple-notifications.component.js"}],[4365,{"./name":4368},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./name"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/name/index.ts"}],[4366,{"../../../../../shared/constants/metametrics":4188,"../../../../contexts/metametrics":4950,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePetnamesMetrics=function({initialSources:e,name:t,proposedNameOptions:n,savedName:i,savedSourceId:s,selectedSourceId:l,type:c}){const u=(0,a.useContext)(r.MetaMetricsContext),d=(0,a.useCallback)(((e,t={})=>{const a=[...new Set(n.map((e=>e.sourceId)))],r={petname_category:c,suggested_names_sources:a,...t};u({event:e,category:o.MetaMetricsEventCategory.Petnames,properties:r})}),[u,c,n]),p=(0,a.useCallback)((()=>{const e=l??null,n=(null==i?void 0:i.length)&&!(null!=t&&t.length),a=(null==i?void 0:i.length)&&(null==t?void 0:t.length)&&t!==i,r=!(null!=i&&i.length)&&(null==t?void 0:t.length);let c=null,u={};n&&(c=o.MetaMetricsEventName.PetnameDeleted,u={petname_previous_source:s}),a&&(c=o.MetaMetricsEventName.PetnameUpdated,u={petname_previous_source:s,petname_source:e}),r&&(c=o.MetaMetricsEventName.PetnameCreated,u={petname_source:e}),c&&d(c,u)}),[d,t,l,i,s]);return{trackPetnamesOpenEvent:(0,a.useCallback)((()=>{d(o.MetaMetricsEventName.PetnameModalOpened,{has_petname:Boolean(null==i?void 0:i.length),suggested_names_sources:e})}),[d,i,e]),trackPetnamesSaveEvent:p}};var a=e("react"),r=e("../../../../contexts/metametrics"),o=e("../../../../../shared/constants/metametrics")}}},{package:"$root$",file:"ui/components/app/name/name-details/metrics.ts"}],[4367,{"../../../../helpers/constants/design-system":4976,"../../../../hooks/useCopyToClipboard":5029,"../../../../hooks/useDisplayName":5033,"../../../../hooks/useI18nContext":5039,"../../../../hooks/useName":5043,"../../../../selectors":5584,"../../../../store/actions":5592,"../../../component-library":4608,"../../../ui/form-combo-field/form-combo-field":4849,"../name":4368,"./metrics":4366,"@metamask/name-controller":1411,"ethereumjs-util":2928,lodash:3509,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,type:t,value:n}){const v=(0,o.useSelector)(p.getCurrentChainId),{name:T,sourceId:w}=(0,h.useName)(n,t),{name:x,hasPetname:O}=(0,y.useDisplayName)(n,t),S=(0,o.useSelector)(p.getNameSources,i.isEqual),[C,k]=(0,a.useState)(""),[I,N]=(0,a.useState)(!1),[M,P]=(0,a.useState)(),[A,R]=(0,a.useState)(),j=(0,o.useDispatch)(),D=(0,g.useI18nContext)(),B=!O&&Boolean(x),F=function(e,t){if(t===r.NameType.ETHEREUM_ADDRESS)return(0,s.toChecksumAddress)(e);return e}(n,t),{proposedNames:L,initialSources:$}=function(e,t,n){const r=(0,o.useDispatch)(),{proposedNames:i}=(0,h.useName)(e,t),s=(0,a.useRef)(),[l,c]=(0,a.useState)();return(0,a.useEffect)((()=>{const a=()=>{s.current&&clearInterval(s.current)},o=async()=>{const a=await r((0,f.updateProposedNames)({value:e,type:t,onlyUpdateAfterDelay:!0,variation:n}));l||c(function(e,t){const n=Object.keys(e).filter((t=>{var n;return null===(n=e[t].proposedNames)||void 0===n?void 0:n.length})),a=Object.keys(t).filter((n=>{var a,r;return!(null!==(a=e[n])&&void 0!==a&&a.proposedNames)&&(null===(r=t[n].proposedNames)||void 0===r?void 0:r.length)}));return[...n,...a].sort()}((null==a?void 0:a.results)??{},i))};return a(),o(),s.current=setInterval(o,E),a}),[e,t,n,r,l,c]),{proposedNames:i,initialSources:l}}(n,t,v),[W,U]=(0,m.useCopyToClipboard)();(0,a.useEffect)((()=>{k(T??""),P(w??undefined),R(w?T??undefined:undefined)}),[T,w,k,P]);const V=(0,a.useMemo)((()=>function(e,t,n){const a=Object.keys(e),r=a.filter((t=>{var n;return null===(n=e[t])||void 0===n||null===(n=n.proposedNames)||void 0===n?void 0:n.length})).map((a=>{var r;return((null===(r=e[a])||void 0===r?void 0:r.proposedNames)??[]).map((e=>({value:e,primaryLabel:t("nameModalMaybeProposedName",[e]),secondaryLabel:t("nameProviderProposedBy",[_(a,t,n)]),sourceId:a})))})).flat();return r.sort(((e,t)=>e.secondaryLabel.toLowerCase().localeCompare(t.secondaryLabel.toLowerCase())))}(L,D,S)),[L,S]),{trackPetnamesOpenEvent:H,trackPetnamesSaveEvent:z}=(0,b.usePetnamesMetrics)({initialSources:$,name:C,proposedNameOptions:V,savedName:T,savedSourceId:w,selectedSourceId:M,type:t});(0,a.useEffect)((()=>{$&&!I&&(H(),N(!0))}),[$,I,H]);const q=(0,a.useCallback)((async()=>{z(),await j((0,f.setName)({value:n,type:t,name:null!=C&&C.length?C:null,sourceId:M,variation:v})),e()}),[C,M,e,z,v]),G=(0,a.useCallback)((()=>{e()}),[e]),Y=(0,a.useCallback)((e=>{k(e),e!==A&&(P(undefined),R(undefined))}),[k,M,P,R]),Q=(0,a.useCallback)((e=>{P(e.sourceId),R(e.value)}),[P,R]),K=(0,a.useCallback)((()=>{U(F)}),[U,F]),[J,X]=O?[D("nameModalTitleSaved"),D("nameInstructionsSaved")]:B?[D("nameModalTitleRecognized"),D("nameInstructionsRecognized")]:[D("nameModalTitleNew"),D("nameInstructionsNew")];return a.default.createElement(l.Box,null,a.default.createElement(l.Modal,{isOpen:!0,onClose:G},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,{onClose:G},J),a.default.createElement(l.ModalBody,{className:"name-details__modal-body"},a.default.createElement("div",{style:{textAlign:"center",marginBottom:16,marginTop:8}},a.default.createElement(u.default,{value:n,type:r.NameType.ETHEREUM_ADDRESS,disableEdit:!0,internal:!0})),a.default.createElement(l.Text,{marginBottom:4,justifyContent:c.JustifyContent.spaceBetween},X),a.default.createElement(l.FormTextField,{id:"address",className:"name-details__address",label:D("nameAddressLabel"),value:F,marginBottom:4,disabled:!0,endAccessory:a.default.createElement(l.ButtonIcon,{display:c.Display.Flex,iconName:W?l.IconName.CopySuccess:l.IconName.Copy,size:l.ButtonIconSize.Sm,onClick:K,color:c.IconColor.iconMuted,ariaLabel:D("copyAddress")})}),a.default.createElement(l.Label,{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.flexStart,marginBottom:2,className:"name-details__display-name"},D("nameLabel"),a.default.createElement(d.default,{hideDropdownIfNoOptions:!0,value:C,options:V,placeholder:D("nameSetPlaceholder"),onChange:Y,onOptionClick:Q}))),a.default.createElement(l.ModalFooter,null,a.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,startIconName:l.IconName.Save,width:c.BlockSize.Full,onClick:q,size:l.ButtonSize.Lg},D("save"))))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/name-controller"),o=e("react-redux"),i=e("lodash"),s=e("ethereumjs-util"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=v(e("../name")),d=v(e("../../../ui/form-combo-field/form-combo-field")),p=e("../../../../selectors"),f=e("../../../../store/actions"),m=e("../../../../hooks/useCopyToClipboard"),h=e("../../../../hooks/useName"),y=e("../../../../hooks/useDisplayName"),g=e("../../../../hooks/useI18nContext"),b=e("./metrics");function v(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const E=2e3;const w=["ens","etherscan","lens","token"];function _(e,t,n){var a;if(w.includes(e)){return t(`nameProvider_${e}`)}return(null===(a=n[e])||void 0===a?void 0:a.label)??e}}}},{package:"$root$",file:"ui/components/app/name/name-details/name-details.tsx"}],[4368,{"../../../../shared/constants/metametrics":4188,"../../../contexts/metametrics":4950,"../../../helpers/constants/design-system":4976,"../../../helpers/utils/util":5018,"../../../hooks/useDisplayName":5033,"../../component-library":4608,"../../ui/identicon":4869,"./name-details/name-details":4367,"@metamask/name-controller":1411,classnames:2687,"ethereumjs-util":2928,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({value:e,type:t,disableEdit:n,internal:h,preferContractSymbol:y=!1}){const[g,b]=(0,a.useState)(!1),v=(0,a.useContext)(c.MetaMetricsContext),{name:T,hasPetname:E}=(0,p.useDisplayName)(e,t,y);(0,a.useEffect)((()=>{h||v({event:u.MetaMetricsEventName.PetnameDisplayed,category:u.MetaMetricsEventCategory.Petnames,properties:{petname_category:t,has_petname:Boolean(null==T?void 0:T.length)}})}),[]);const w=(0,a.useCallback)((()=>{b(!0)}),[b]),_=(0,a.useCallback)((()=>{b(!1)}),[b]),x=function(e,t){if(t===r.NameType.ETHEREUM_ADDRESS)return(0,l.shortenAddress)((0,i.toChecksumAddress)(e));return e}(e,t),O=Boolean(T);return a.default.createElement("div",null,!n&&g&&a.default.createElement(m.default,{value:e,type:t,onClose:_}),a.default.createElement("div",{className:(0,o.default)({name:!0,name__saved:E,name__recognized_unsaved:!E&&O,name__missing:!O}),onClick:w},O?a.default.createElement(f.default,{address:e,diameter:16}):a.default.createElement(s.Icon,{name:s.IconName.Question,className:"name__icon",size:s.IconSize.Md}),O?a.default.createElement(s.Text,{className:"name__name",variant:d.TextVariant.bodyMd},T):a.default.createElement(s.Text,{className:"name__value",variant:d.TextVariant.bodyMd},x)))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/name-controller"),o=h(e("classnames")),i=e("ethereumjs-util"),s=e("../../component-library"),l=e("../../../helpers/utils/util"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/constants/design-system"),p=e("../../../hooks/useDisplayName"),f=h(e("../../ui/identicon")),m=h(e("./name-details/name-details"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/name/name.tsx"}],[4369,{"./network-account-balance-header":4370},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-account-balance-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/index.js"}],[4370,{"../../../../shared/constants/network":4190,"../../../contexts/i18n":4949,"../../../helpers/constants/design-system":4976,"../../component-library":4608,"../../ui/box/box":4816,"../../ui/icon-with-fallback":4857,"../../ui/identicon":4869,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=p(e("prop-types")),o=p(e("../../ui/icon-with-fallback")),i=p(e("../../ui/identicon")),s=e("../../../helpers/constants/design-system"),l=p(e("../../ui/box/box")),c=e("../../../contexts/i18n"),u=e("../../../../shared/constants/network"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({networkName:e,accountName:t,accountBalance:n,tokenName:r,accountAddress:p,chainId:f}){const m=(0,a.useContext)(c.I18nContext),h=u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[f],y=h?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,padding:4,className:"network-account-balance-header",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:2},a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center},a.default.createElement(i.default,{address:p,diameter:32}),a.default.createElement(o.default,{name:e,size:16,icon:h,wrapperClassName:y})),a.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,flexDirection:s.FlexDirection.Column},a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},e),a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold},t))),a.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexEnd,flexDirection:s.FlexDirection.Column},a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},m("balance")),a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold,align:s.TextAlign.End},n," ",r)))}m.propTypes={networkName:r.default.string,accountName:r.default.string,accountBalance:r.default.string,tokenName:r.default.string,accountAddress:r.default.string,chainId:r.default.string}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/network-account-balance-header.js"}],[4371,{"./network-display":4372},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/network-display/index.js"}],[4372,{"../../../../shared/constants/network":4190,"../../../ducks/metamask/metamask":4968,"../../../helpers/constants/design-system":4976,"../../../helpers/utils/i18n-helper":5006,"../../../hooks/useI18nContext":5039,"../../../selectors":5584,"../../component-library":4608,"../../ui/chip/chip":4827,"../../ui/color-indicator":4830,"../../ui/loading-indicator":4876,classnames:2687,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=g(e("react")),r=g(e("prop-types")),o=g(e("classnames")),i=e("react-redux"),s=e("../../../../shared/constants/network"),l=g(e("../../ui/loading-indicator")),c=g(e("../../ui/color-indicator")),u=e("../../../helpers/constants/design-system"),d=g(e("../../ui/chip/chip")),p=e("../../../hooks/useI18nContext"),f=e("../../../selectors"),m=e("../../component-library"),h=e("../../../ducks/metamask/metamask"),y=e("../../../helpers/utils/i18n-helper");function g(e){return e&&e.__esModule?e:{default:e}}function b({indicatorSize:e,disabled:t,labelProps:n,targetNetwork:r,onClick:g}){const b=(0,i.useSelector)(f.isNetworkLoading),v=(0,i.useSelector)(h.getProviderConfig),T=(0,p.useI18nContext)(),{nickname:E,type:w}=r??v;return a.default.createElement(d.default,{dataTestId:"network-display",borderColor:g?u.BorderColor.borderDefault:u.BorderColor.borderMuted,onClick:g,leftIcon:a.default.createElement(l.default,{alt:T("attemptingConnect"),title:T("attemptingConnect"),isLoading:b},a.default.createElement(c.default,{color:w===s.NETWORK_TYPES.RPC?u.IconColor.iconMuted:w,size:e,type:c.default.TYPES.FILLED,iconClassName:w===s.NETWORK_TYPES.RPC&&e!==u.Size.XS?"fa fa-question":undefined})),rightIcon:g?a.default.createElement(m.Icon,{name:m.IconName.ArrowDown,size:m.IconSize.Xs}):null,label:w===s.NETWORK_TYPES.RPC?E??T("privateNetwork"):T((0,y.getNetworkLabelKey)(w)),className:(0,o.default)("network-display",{"network-display--disabled":t,"network-display--clickable":"function"==typeof g}),labelProps:{variant:u.TypographyVariant.H7,...n}})}b.propTypes={indicatorSize:r.default.oneOf(Object.values(u.Size)),labelProps:d.default.propTypes.labelProps,targetNetwork:r.default.shape({type:r.default.oneOf([...Object.keys(s.BUILT_IN_NETWORKS),s.NETWORK_TYPES.RPC]),nickname:r.default.string}),disabled:r.default.bool,onClick:r.default.func},b.defaultProps={indicatorSize:u.Size.LG}}}},{package:"$root$",file:"ui/components/app/network-display/network-display.js"}],[4373,{"../../../helpers/constants/design-system":4976,"../../../hooks/useI18nContext":5039,"../../../store/actions":5592,"../../component-library":4608,classnames:2687,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=d(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=e("../../component-library"),u=e("../../../store/actions");function d(e){return e&&e.__esModule?e:{default:e}}function p({className:e,clickable:t}){const n=(0,l.useI18nContext)(),r=(0,i.useDispatch)();return a.default.createElement(c.Box,{tabIndex:0,"data-testid":"nft-default-image",className:(0,o.default)(e,"nft-default",{"nft-default--clickable":t}),display:s.Display.Flex,alignItems:s.AlignItems.Center,justifyContent:s.JustifyContent.Center,borderRadius:s.BorderRadius.LG},t&&a.default.createElement(c.ButtonLink,{block:!0,className:"nft-default__button",onClick:e=>{e.stopPropagation(),r((0,u.showIpfsModal)())}},n("show")))}p.propTypes={clickable:r.default.bool,className:r.default.string}}}},{package:"$root$",file:"ui/components/app/nft-default-image/nft-default-image.js"}],[4374,{"../../../../shared/constants/network":4190,"../../../helpers/constants/design-system":4976,"../../../hooks/useI18nContext":5039,"../../../store/actions":5592,"../../component-library":4608,"../../component-library/modal-content/deprecated":4616,"../../component-library/modal-header/deprecated":4625,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ToggleIpfsModal=void 0;var a=f(e("react")),r=f(e("prop-types")),o=e("react-redux"),i=e("../../component-library"),s=e("../../component-library/modal-content/deprecated"),l=e("../../component-library/modal-header/deprecated"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../../shared/constants/network"),p=e("../../../helpers/constants/design-system");function f(e){return e&&e.__esModule?e:{default:e}}const m=({onClose:e})=>{const t=(0,c.useI18nContext)(),n=(0,o.useDispatch)();return a.default.createElement(i.Modal,{isOpen:!0,onClose:e,className:"toggle-ipfs-modal"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(s.ModalContent,null,a.default.createElement(l.ModalHeader,{onClose:e},t("showNft")),a.default.createElement(i.Box,{className:"toggle-ipfs-modal",marginTop:6},a.default.createElement(i.Text,{variant:p.TextVariant.bodyMd,color:p.TextColor.textAlternative},t("ipfsToggleModalDescriptionOne")),a.default.createElement(i.Text,{variant:p.TextVariant.bodyMd,color:p.TextColor.textAlternative,marginTop:6},t("ipfsToggleModalDescriptionTwo",[a.default.createElement(i.Text,{variant:p.TextVariant.bodyMdBold,color:p.TextColor.textAlternative,as:"span",key:"span"},t("ipfsToggleModalSettings"),",")]))),a.default.createElement(i.ButtonPrimary,{block:!0,marginTop:9,onClick:()=>{n((0,u.setIpfsGateway)(d.IPFS_DEFAULT_GATEWAY_URL)),n((0,u.setIsIpfsGatewayEnabled)(!0)),n((0,u.hideIpfsModal)())},size:p.Size.LG},t("confirm"))))};n.ToggleIpfsModal=m,m.propTypes={onClose:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nft-default-image/toggle-ipfs-modal.js"}],[4375,{"../../../../app/scripts/lib/util":97,"../../../../shared/constants/app":4178,"../../../../shared/constants/metametrics":4188,"../../../../shared/constants/network":4190,"../../../../shared/constants/transaction":4203,"../../../../shared/modules/conversion.utils":4218,"../../../../shared/modules/string-utils":4238,"../../../contexts/metametrics":4950,"../../../ducks/metamask/metamask":4968,"../../../ducks/send":4970,"../../../helpers/constants/design-system":4976,"../../../helpers/constants/routes":4981,"../../../helpers/utils/nfts":5010,"../../../helpers/utils/util":5018,"../../../hooks/useCopyToClipboard":5029,"../../../hooks/useI18nContext":5039,"../../../hooks/usePrevious":5048,"../../../pages/asset/components/asset-navigation":5067,"../../../selectors":5584,"../../../store/actions":5592,"../../component-library":4608,"../../multichain/nft-item":4742,"../../ui/box":4817,"../../ui/button":4821,"../../ui/info-tooltip":4870,"../../ui/tooltip":4936,"../nft-options/nft-options":4376,lodash:3509,"prop-types":3665,react:3878,"react-redux":3843,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=B;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=j(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=j(e("../../ui/box")),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/util"),p=e("../../../helpers/utils/nfts"),f=e("../../../selectors"),m=j(e("../../../pages/asset/components/asset-navigation")),h=e("../../../ducks/metamask/metamask"),y=e("../../../helpers/constants/routes"),g=e("../../../store/actions"),b=e("../../../../shared/constants/network"),v=e("../../../../app/scripts/lib/util"),T=e("../../../../shared/constants/app"),E=j(e("../nft-options/nft-options")),w=j(e("../../ui/button")),_=e("../../../ducks/send"),x=j(e("../../ui/info-tooltip")),O=e("../../../hooks/usePrevious"),S=e("../../../hooks/useCopyToClipboard"),C=e("../../../../shared/modules/string-utils"),k=e("../../../../shared/constants/transaction"),I=e("../../component-library"),N=j(e("../../ui/tooltip")),M=e("../../../../shared/modules/conversion.utils"),P=e("../../multichain/nft-item"),A=e("../../../../shared/constants/metametrics"),R=e("../../../contexts/metametrics");function j(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function B({nft:e}){var t,n;const{image:r,imageOriginal:j,name:D,description:B,address:F,tokenId:L,standard:$,isCurrentlyOwned:W,lastSale:U}=e,V=(0,u.useI18nContext)(),H=(0,i.useHistory)(),z=(0,o.useDispatch)(),q=(0,o.useSelector)(f.getIpfsGateway),G=(0,o.useSelector)(h.getNftContracts),Y=(0,o.useSelector)(f.getCurrentChainId),Q=(0,o.useSelector)(f.getCurrentNetwork),K=(0,a.useContext)(R.MetaMetricsContext),[J,X]=(0,S.useCopyToClipboard)(),Z=null===(t=G.find((({address:e})=>(0,C.isEqualCaseInsensitive)(e,F))))||void 0===t?void 0:t.name,{metadata:{name:ee}}=(0,o.useSelector)(f.getSelectedInternalAccount),te=(0,p.getNftImageAlt)(e),ne=j??r,ae=(0,d.getAssetImageURL)(j??r,q),re=null==ne?void 0:ne.startsWith("ipfs:"),oe=null==r?void 0:r.startsWith("https:"),ie=(0,d.formatDate)(new Date(null==U?void 0:U.event_timestamp).getTime(),"M/d/y"),{chainId:se}=Q;(0,a.useEffect)((()=>{K({event:A.MetaMetricsEventName.NftDetailsOpened,category:A.MetaMetricsEventCategory.Tokens,properties:{chain_id:se}})}),[K,se]);const le=(0,O.usePrevious)(e);(0,a.useEffect)((()=>{(0,s.isEqual)(le,e)||(0,g.checkAndUpdateSingleNftOwnershipStatus)(e)}),[e,le]);const ce=(()=>{switch(Y){case b.CHAIN_IDS.MAINNET:return`https://opensea.io/assets/ethereum/${F}/${L}`;case b.CHAIN_IDS.POLYGON:return`https://opensea.io/assets/matic/${F}/${L}`;case b.CHAIN_IDS.GOERLI:return`https://testnets.opensea.io/assets/goerli/${F}/${L}`;case b.CHAIN_IDS.SEPOLIA:return`https://testnets.opensea.io/assets/sepolia/${F}/${L}`;default:return null}})(),ue=$!==k.TokenStandard.ERC721&&$!==k.TokenStandard.ERC1155,de=(0,v.getEnvironmentType)()===T.ENVIRONMENT_TYPE_POPUP,pe=async()=>{await z((0,_.startNewDraftTransaction)({type:k.AssetType.NFT,details:e})),H.push(y.SEND_ROUTE)},fe=()=>!1===W?a.default.createElement("div",{style:{height:"30px"}}):a.default.createElement(l.default,{display:c.Display.Flex,margin:de?[4,0]:null},a.default.createElement(w.default,{type:"primary",onClick:pe,disabled:ue,className:"nft-details__send-button","data-testid":"nft-send-button"},V("send")),ue?a.default.createElement(x.default,{position:"top",contentText:V("sendingDisabled")}):null);return a.default.createElement(a.default.Fragment,null,a.default.createElement(m.default,{accountName:ee,assetName:Z,onBack:()=>H.push(y.DEFAULT_ROUTE),optionsButton:a.default.createElement(E.default,{onViewOnOpensea:ce?()=>global.platform.openTab({url:ce}):null,onRemove:async()=>{let e=!1;try{await z((0,g.removeAndIgnoreNft)(F,L)),z((0,g.setNewNftAddedMessage)("")),z((0,g.setRemoveNftMessage)("success")),e=!0}catch(e){z((0,g.setNewNftAddedMessage)("")),z((0,g.setRemoveNftMessage)("error"))}finally{K({event:A.MetaMetricsEventName.NFTRemoved,category:"Wallet",sensitiveProperties:{token_contract_address:F,tokenId:L.toString(),asset_type:k.AssetType.NFT,token_standard:$,chain_id:Y,isSuccessful:e}}),H.push(y.DEFAULT_ROUTE)}}})}),a.default.createElement(l.default,{className:"nft-details"},a.default.createElement(l.default,{className:"nft-details__top-section",gap:6,flexDirection:c.FlexDirection.Column},a.default.createElement(l.default,{className:"nft-details__nft-item"},a.default.createElement(P.NftItem,{nftImageURL:ae,src:oe?r:ae,alt:r?te:"",name:D,tokenId:L,networkName:Q.nickname,networkSrc:null===(n=Q.rpcPrefs)||void 0===n?void 0:n.imageUrl,isIpfsURL:re,clickable:!0})),a.default.createElement(l.default,{flexDirection:c.FlexDirection.Column,className:"nft-details__info",marginTop:4,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement("div",null,a.default.createElement(I.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.headingSm,as:"h4",fontWeight:c.FontWeight.Bold,marginBottom:2},D),a.default.createElement(I.Text,{color:c.TextColor.textMuted,variant:c.TextVariant.bodyMd,as:"h5",marginBottom:4,overflowWrap:c.OverflowWrap.BreakWord},"#",L)),B?a.default.createElement("div",null,a.default.createElement(I.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:2,className:"nft-details__description"},V("description")),a.default.createElement(I.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},B)):null,de?null:fe())),a.default.createElement(l.default,{marginBottom:2},U?a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row},a.default.createElement(I.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},V("lastSold")),a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,className:"nft-details__contract-wrapper"},a.default.createElement(I.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},ie))),a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row},a.default.createElement(I.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},V("lastPriceSold")),a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,className:"nft-details__contract-wrapper"},a.default.createElement(I.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},`${Number((0,M.decWEIToDecETH)(U.total_price))} ${U.payment_token.symbol}`)))):null,a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row},a.default.createElement(I.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},V("contractAddress")),a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,className:"nft-details__contract-wrapper"},a.default.createElement(I.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},(0,d.shortenAddress)(F)),a.default.createElement(N.default,{wrapperClassName:"nft-details__tooltip-wrapper",position:"bottom",title:V(J?"copiedExclamation":"copyToClipboard")},a.default.createElement(I.ButtonIcon,{ariaLabel:"copy",color:c.IconColor.iconAlternative,className:"nft-details__contract-copy-button","data-testid":"nft-address-copy",onClick:()=>{X(F)},iconName:J?I.IconName.CopySuccess:I.IconName.Copy})))),de?fe():null,a.default.createElement(I.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6"},V("nftDisclaimer")))))}B.propTypes={nft:r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,isCurrentlyOwned:r.default.bool,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,imageOriginal:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string}),lastSale:r.default.shape({event_timestamp:r.default.string,total_price:r.default.string,payment_token:r.default.shape({symbol:r.default.string})})})}}}},{package:"$root$",file:"ui/components/app/nft-details/nft-details.js"}],[4376,{"../../../contexts/i18n":4949,"../../../helpers/constants/design-system":4976,"../../component-library":4608,"../../ui/menu":4886,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../contexts/i18n"),s=e("../../ui/menu"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=({onRemove:e,onViewOnOpensea:t})=>{const n=(0,r.useContext)(i.I18nContext),[a,o]=(0,r.useState)(!1),u=(0,r.useRef)(!1);return r.default.createElement("div",{ref:u},r.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,className:"nft-options__button","data-testid":"nft-options__button",onClick:()=>o(!0),color:c.Color.textDefault,size:l.ButtonIconSize.Sm,ariaLabel:n("nftOptions")}),a?r.default.createElement(s.Menu,{"data-testid":"close-nft-options-menu",anchorElement:u.current,onHide:()=>o(!1)},t?r.default.createElement(s.MenuItem,{iconName:l.IconName.Export,"data-testid":"nft-options__view-on-opensea",onClick:()=>{o(!1),t()}},n("viewOnOpensea")):null,r.default.createElement(s.MenuItem,{iconName:l.IconName.Trash,"data-testid":"nft-item-remove",onClick:()=>{o(!1),e()}},n("removeNFT"))):null)};d.propTypes={onRemove:o.default.func.isRequired,onViewOnOpensea:o.default.func};n.default=d}}},{package:"$root$",file:"ui/components/app/nft-options/nft-options.js"}],[4377,{"../../../helpers/constants/routes":4981,"../../../hooks/useI18nContext":5039,"../../component-library":4608,"prop-types":3665,react:3878,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=c(e("react")),r=c(e("prop-types")),o=e("react-router-dom"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes");function c(e){return e&&e.__esModule?e:{default:e}}function u({onActionButtonClick:e}){const t=(0,s.useI18nContext)(),n=(0,o.useHistory)();return a.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",actionButtonLabel:t("selectEnableDisplayMediaPrivacyPreference"),actionButtonOnClick:t=>{t.preventDefault(),n.push(`${l.SECURITY_ROUTE}#display-nft-media`),null==e||e()}},t("newNFTDetectedInImportNFTsMsg",[a.default.createElement("b",{key:"new-nft-detected-in-import-nfts-message-strong-text"},t("newNFTDetectedInImportNFTsMessageStrongText"))]))}u.propTypes={onActionButtonClick:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts.js"}],[4378,{"../../../helpers/constants/routes":4981,"../../../hooks/useI18nContext":5039,"../../component-library":4608,react:3878,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useI18nContext)(),t=(0,o.useHistory)();return r.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",title:e("newNFTsAutodetected"),actionButtonLabel:e("selectNFTPrivacyPreference"),actionButtonOnClick:e=>{e.preventDefault(),t.push(`${l.SECURITY_ROUTE}#autodetect-nfts`)}},e("newNFTDetectedInNFTsTabMessage"))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-router-dom"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes")}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab.js"}],[4379,{"./nfts-items":4380},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nfts-items"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nfts-items/index.js"}],[4380,{"../../../../app/scripts/lib/util":97,"../../../../shared/constants/app":4178,"../../../../shared/constants/transaction":4203,"../../../ducks/metamask/metamask":4968,"../../../ducks/send":4970,"../../../helpers/constants/design-system":4976,"../../../helpers/constants/routes":4981,"../../../helpers/utils/nfts":5010,"../../../helpers/utils/util":5018,"../../../hooks/useI18nContext":5039,"../../../hooks/usePrevious":5048,"../../../selectors":5584,"../../../store/actions":5592,"../../component-library":4608,"../../multichain/nft-item":4742,"../../ui/box":4817,"../../ui/typography/typography":4941,lodash:3509,"prop-types":3665,react:3878,"react-redux":3843,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=I;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=O(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=O(e("../../ui/box")),c=O(e("../../ui/typography/typography")),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/app"),p=e("../../../../app/scripts/lib/util"),f=e("../../../selectors"),m=e("../../../helpers/constants/routes"),h=e("../../../helpers/utils/util"),y=e("../../../helpers/utils/nfts"),g=e("../../../store/actions"),b=e("../../../hooks/usePrevious"),v=e("../../../ducks/metamask/metamask"),T=e("../../../hooks/useI18nContext"),E=e("../../component-library"),w=e("../../multichain/nft-item"),_=e("../../../ducks/send"),x=e("../../../../shared/constants/transaction");function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}const C=e=>{const t=(0,p.getEnvironmentType)()===d.ENVIRONMENT_TYPE_POPUP;return e||t===d.ENVIRONMENT_TYPE_POPUP?u.BLOCK_SIZES.ONE_THIRD:u.BLOCK_SIZES.ONE_SIXTH},k="previouslyOwned";function I({collections:e={},previouslyOwnedCollection:t={},isModal:n=!1,onCloseModal:r={},showTokenId:d=!1,displayPreviouslyOwnedCollection:p=!0}){var O;const S=(0,o.useDispatch)(),I=Object.keys(e),N=(0,o.useSelector)(v.getNftsDropdownState),M=(0,b.usePrevious)(I),{address:P}=(0,o.useSelector)(f.getSelectedInternalAccount),A=(0,o.useSelector)(f.getCurrentChainId),R=(0,o.useSelector)(f.getCurrentNetwork),j=(0,T.useI18nContext)(),D=(0,o.useSelector)(f.getIpfsGateway),B=(0,o.useSelector)(f.getOpenSeaEnabled);(0,a.useEffect)((()=>{var e,t;if(A!==undefined&&P!==undefined&&!(0,s.isEqual)(M,I)&&((null==N||null===(e=N[P])||void 0===e?void 0:e[A])===undefined||0===Object.keys(null==N||null===(t=N[P])||void 0===t?void 0:t[A]).length)){const e={};I.forEach((t=>{e[t]=!0}));const t={...N,[P]:{...null==N?void 0:N[P],[A]:e}};S((0,g.updateNftDropDownState)(t))}}),[I,M,N,P,A,S]);const F=(0,i.useHistory)(),L=({nfts:e,collectionName:t,collectionImage:o,key:i})=>{var s;if(!e.length)return null;const p=null===(s=N[P])||void 0===s||null===(s=s[A])||void 0===s?void 0:s[i];return a.default.createElement("div",{className:"nfts-items__collection",key:`collection-${i}`},a.default.createElement("button",{className:"nfts-items__collection-wrapper","data-testid":"collection-expander-button",onClick:()=>{((e,t)=>{const n={...N[P][A],[e]:!t},a={...N,[P]:{[A]:n}};S((0,g.updateNftDropDownState)(a))})(i,p)}},a.default.createElement(l.default,{marginBottom:2,display:u.DISPLAY.FLEX,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.spaceBetween,className:"nfts-items__collection-accordion-title"},a.default.createElement(l.default,{alignItems:u.AlignItems.center,className:"nfts-items__collection-header"},((e,t)=>{var n,r,o;return null!=e&&e.startsWith("ipfs")&&!D?a.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(r=t[0])||void 0===r?void 0:r.toUpperCase())??null):B||null!=e&&e.startsWith("ipfs")?e?a.default.createElement("img",{alt:t,src:(0,h.getAssetImageURL)(e,D),className:"nfts-items__collection-image"}):a.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())??null):a.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(o=t[0])||void 0===o?void 0:o.toUpperCase())??null)})(o,t),a.default.createElement(c.default,{color:u.Color.textDefault,variant:u.TypographyVariant.H5,margin:2},`${t??j("unknownCollection")} (${e.length})`)),a.default.createElement(l.default,{alignItems:u.AlignItems.flexEnd},a.default.createElement(E.Icon,{name:p?E.IconName.ArrowDown:E.IconName.ArrowRight,color:u.Color.iconDefault})))),p?a.default.createElement(l.default,{display:u.DISPLAY.FLEX,flexWrap:u.FLEX_WRAP.WRAP,gap:4},e.map(((e,t)=>{var o,i;const{image:s,address:c,tokenId:u,name:p,imageOriginal:f,tokenURI:g}=e,b=(0,h.getAssetImageURL)(f??s,D),v=(0,y.getNftImageAlt)(e),T=null==s?void 0:s.startsWith("https:"),O=null!=f&&f.startsWith("ipfs")?b:s,k=null===(o=f??s??g)||void 0===o?void 0:o.startsWith("ipfs:");return a.default.createElement(l.default,{"data-testid":"nft-wrapper",width:C(n),key:`nft-${t}`,className:"nfts-items__item-wrapper"},a.default.createElement(w.NftItem,{nftImageURL:O,alt:v,src:T?s:b,name:p,tokenId:u,networkName:R.nickname,networkSrc:null===(i=R.rpcPrefs)||void 0===i?void 0:i.imageUrl,onClick:()=>n?(async e=>{await S((0,_.updateSendAsset)({type:x.AssetType.NFT,details:e,skipComputeEstimatedGasLimit:!0})),F.push(m.SEND_ROUTE),r()})(e):F.push(`${m.ASSET_ROUTE}/${c}/${u}`),isIpfsURL:k,clickable:!0}),d?a.default.createElement(E.Text,null,`${j("id")}: ${u}`):null)}))):null)};return a.default.createElement("div",{className:"nfts-items"},a.default.createElement(l.default,{paddingTop:6,paddingBottom:6,paddingLeft:4,paddingRight:4,flexDirection:u.FLEX_DIRECTION.COLUMN},a.default.createElement(a.default.Fragment,null,I.map((t=>{const{nfts:n,collectionName:a,collectionImage:r}=e[t];return L({nfts:n,collectionName:a,collectionImage:r,key:t,isPreviouslyOwnedCollection:!1})})),p?L({nfts:t.nfts,collectionName:t.collectionName,collectionImage:null===(O=t.nfts[0])||void 0===O?void 0:O.image,isPreviouslyOwnedCollection:!0,key:k}):null)))}I.propTypes={previouslyOwnedCollection:r.default.shape({nfts:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string})})),collectionName:r.default.string,collectionImage:r.default.string}),collections:r.default.shape({nfts:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string})})),collectionImage:r.default.string,collectionName:r.default.string}),isModal:r.default.bool,onCloseModal:r.default.func,showTokenId:r.default.bool,displayPreviouslyOwnedCollection:r.default.bool}}}},{package:"$root$",file:"ui/components/app/nfts-items/nfts-items.js"}],[4381,{"./nfts-tab":4382},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nfts-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nfts-tab/index.js"}],[4382,{"../../../../shared/constants/app":4178,"../../../../shared/constants/metametrics":4188,"../../../contexts/metametrics":4950,"../../../ducks/locale/locale":4967,"../../../helpers/constants/design-system":4976,"../../../helpers/constants/routes":4981,"../../../helpers/constants/zendesk-url":4988,"../../../hooks/useAccountTotalFiatBalance":5026,"../../../hooks/useI18nContext":5039,"../../../hooks/useNftsCollections":5044,"../../../selectors":5584,"../../../store/actions":5592,"../../component-library":4608,"../../multichain/ramps-card/ramps-card":4801,"../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab":4378,"../nfts-items":4379,react:3878,"react-redux":3843,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useSelector)(u.getUseNftDetection),t=(0,r.useSelector)(u.getIsMainnet),n=(0,o.useHistory)(),w=(0,l.useI18nContext)(),_=(0,r.useDispatch)(),x=(0,a.useContext)(y.MetaMetricsContext),{address:O}=(0,r.useSelector)(u.getSelectedAccount),S=(0,r.useSelector)(u.getShouldHideZeroBalanceTokens),{totalFiatBalance:C}=(0,E.useAccountTotalFiatBalance)(O,S),k=0===Number(C),I=(0,r.useSelector)(u.getIsBuyableChain)&&k,{nftsLoading:N,collections:M,previouslyOwnedCollection:P}=(0,c.useNftsCollections)(),A=Object.keys(M).length>0,R=!1===A,{chainId:j,nickname:D}=(0,r.useSelector)(u.getCurrentNetwork),B=(0,r.useSelector)(v.getCurrentLocale);if((0,a.useEffect)((()=>{!N&&R&&x({event:b.MetaMetricsEventName.EmptyNftsBannerDisplayed,category:b.MetaMetricsEventCategory.Navigation,properties:{chain_id:j,locale:B,network:D,referrer:g.ORIGIN_METAMASK}})}),[N,R,x,j,D,B]),N)return a.default.createElement("div",{className:"nfts-tab__loading"},w("loadingNFTs"));return a.default.createElement(a.default.Fragment,null,I?a.default.createElement(T.RampsCard,{variant:T.RAMPS_CARD_VARIANT_TYPES.NFT}):null,a.default.createElement(p.Box,{className:"nfts-tab"},A>0||P.nfts.length>0?a.default.createElement(m.default,{collections:M,previouslyOwnedCollection:P}):a.default.createElement(a.default.Fragment,null,t&&!e?a.default.createElement(p.Box,{paddingTop:4,paddingInlineStart:4,paddingInlineEnd:4},a.default.createElement(f.default,null)):null,a.default.createElement(p.Box,{padding:12,display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},a.default.createElement(p.Box,{justifyContent:i.JustifyContent.center},a.default.createElement("img",{src:"./images/no-nfts.svg"})),a.default.createElement(p.Box,{marginTop:4,marginBottom:12,display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,className:"nfts-tab__link"},a.default.createElement(p.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.headingSm,align:i.TextAlign.Center,as:"h4"},w("noNFTs")),a.default.createElement(p.ButtonLink,{size:i.Size.MD,href:h.default.NFT_TOKENS,externalLink:!0},w("learnMoreUpperCase"))))),a.default.createElement(p.Box,{className:"nfts-tab__buttons",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,margin:4,gap:2,marginBottom:2},a.default.createElement(p.ButtonLink,{size:i.Size.MD,"data-testid":"import-nft-button",startIconName:p.IconName.Add,onClick:()=>{_((0,d.showImportNftsModal)())}},w("importNFT")),!t&&Object.keys(M).length<1?null:a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Box,{className:"nfts-tab__link",justifyContent:i.JustifyContent.flexEnd},t&&!e?a.default.createElement(p.ButtonLink,{size:i.Size.MD,startIconName:p.IconName.Setting,"data-testid":"refresh-list-button",onClick:()=>{n.push(s.SECURITY_ROUTE)}},w("enableAutoDetect")):a.default.createElement(p.ButtonLink,{size:i.Size.MD,startIconName:p.IconName.Refresh,"data-testid":"refresh-list-button",onClick:()=>{t&&_((0,d.detectNfts)()),(0,d.checkAndUpdateAllNftsOwnershipStatus)()}},w("refreshList")))))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/constants/routes"),l=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useNftsCollections"),u=e("../../../selectors"),d=e("../../../store/actions"),p=e("../../component-library"),f=w(e("../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab")),m=w(e("../nfts-items")),h=w(e("../../../helpers/constants/zendesk-url")),y=e("../../../contexts/metametrics"),g=e("../../../../shared/constants/app"),b=e("../../../../shared/constants/metametrics"),v=e("../../../ducks/locale/locale"),T=e("../../multichain/ramps-card/ramps-card"),E=e("../../../hooks/useAccountTotalFiatBalance");function w(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/nfts-tab/nfts-tab.js"}],[4383,{"./permission-cell":4386},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permission-cell"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-cell/index.js"}],[4384,{"../../../../shared/constants/snaps/permissions":4198,"../../../helpers/constants/design-system":4976,"../../../hooks/useI18nContext":5039,"../../../store/actions":5592,"../../component-library":4608,"../../ui/box":4817,"../../ui/menu":4886,"../../ui/popover/popover.component":4905,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellOptions=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=e("react-redux"),i=m(e("../../ui/box")),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),c=e("../../ui/menu"),u=e("../../../helpers/constants/design-system"),d=m(e("../../ui/popover/popover.component")),p=e("../../../../shared/constants/snaps/permissions"),f=e("../../../store/actions");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=({snapId:e,permissionName:t,description:n})=>{const r=(0,s.useI18nContext)(),m=(0,o.useDispatch)(),h=(0,a.useRef)(!1),[y,g]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),T=p.DynamicSnapPermissions.includes(t);return a.default.createElement(i.default,{ref:h},a.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,ariaLabel:r("options"),onClick:()=>{g(!0)},"data-testid":t}),y&&a.default.createElement(c.Menu,{anchorElement:h.current,onHide:()=>{g(!1)}},a.default.createElement(c.MenuItem,{onClick:()=>{g(!1),v(!0)}},a.default.createElement(l.Text,{variant:u.TextVariant.bodySm,style:{whiteSpace:"nowrap"}},r("details"))),T&&a.default.createElement(c.MenuItem,{onClick:()=>{g(!1),m((0,f.revokeDynamicSnapPermissions)(e,[t]))}},a.default.createElement(l.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.errorDefault,style:{whiteSpace:"nowrap"}},r("revokePermission")))),b&&a.default.createElement(d.default,{title:r("details"),onClose:()=>{g(!1),v(!1)}},a.default.createElement(i.default,{marginLeft:4,marginRight:4,marginBottom:4},a.default.createElement(l.Text,null,n))))};n.PermissionCellOptions=y,y.propTypes={snapId:r.default.string.isRequired,permissionName:r.default.string.isRequired,description:r.default.oneOfType([r.default.string,r.default.object])}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-options.js"}],[4385,{"../../../helpers/constants/design-system":4976,"../../../helpers/utils/util":5018,"../../../hooks/useI18nContext":5039,"../../component-library":4608,"../../multichain":4734,"../../multichain/avatar-group/avatar-group.types":4703,"../../ui/tooltip":4936,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellStatus=void 0;var a=p(e("react")),r=p(e("prop-types")),o=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=p(e("../../ui/tooltip")),l=e("../../multichain"),c=e("../../multichain/avatar-group/avatar-group.types"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/util");function p(e){return e&&e.__esModule?e:{default:e}}const f=({revoked:e,dateApproved:t,accounts:n})=>{const r=(0,u.useI18nContext)(),p=()=>a.default.createElement(o.Box,{as:"span",className:"permission-cell__status__accounts-group-box",display:i.Display.InlineFlex},a.default.createElement(s.default,{position:"bottom",html:a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},a.default.createElement(o.Text,{variant:i.TextVariant.headingSm,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},r("accounts")),a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},n.map(((e,t)=>a.default.createElement(o.Box,{key:`${e.avatarValue}_${t}`,display:i.Display.Flex,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,marginTop:2},a.default.createElement(o.AvatarAccount,{address:e.avatarValue,size:o.AvatarAccountSize.Xs,borderColor:i.BorderColor.backgroundDefault}),a.default.createElement(o.Text,{variant:i.TextVariant.bodyMdMedium,marginLeft:2},e.avatarName))))))},a.default.createElement(l.AvatarGroup,{limit:3,members:n,avatarType:c.AvatarType.ACCOUNT,size:o.AvatarTokenSize.Xs,width:i.BlockSize.Min,borderColor:i.BorderColor.backgroundDefault,marginLeft:4,paddingLeft:4}))),f=n&&n.length?r("approvedOnForAccounts",[(0,d.formatDate)(t,"yyyy-MM-dd"),p()]):r("approvedOn",[(0,d.formatDate)(t,"yyyy-MM-dd")]),m=n&&n.length?r("permissionRevokedForAccounts",[p()]):r("permissionRevoked"),h=n&&n.length?r("permissionRequestedForAccounts",[p()]):r("permissionRequested");return a.default.createElement(o.Text,{as:"div",className:"permission-cell__status",variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative,display:i.Display.Flex},!e&&(t?f:h),e?m:"")};n.PermissionCellStatus=f,f.propTypes={revoked:r.default.bool,dateApproved:r.default.number,accounts:r.default.array}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-status.js"}],[4386,{"../../../helpers/constants/design-system":4976,"../../component-library":4608,"../../ui/tooltip":4936,"./permission-cell-options":4384,"./permission-cell-status":4385,classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=d(e("../../ui/tooltip")),c=e("./permission-cell-options"),u=e("./permission-cell-status");function d(e){return e&&e.__esModule?e:{default:e}}const p=({snapId:e,permissionName:t,title:n,description:r,weight:d,avatarIcon:p,dateApproved:f,revoked:m,showOptions:h,hideStatus:y,accounts:g})=>{var b;const v=s.IconName.Info;let T=i.IconColor.iconMuted,E=i.IconColor.primaryDefault,w=i.Color.primaryMuted;!m&&d<=2&&(E=i.IconColor.warningDefault,w=i.Color.warningMuted,T=i.IconColor.warningDefault),f&&(E=i.IconColor.iconMuted,w=i.Color.backgroundAlternative),m&&(E=i.IconColor.iconMuted,w=i.Color.backgroundAlternative);let _=p;return"string"!=typeof p&&null!=p&&null!==(b=p.props)&&void 0!==b&&b.iconName&&(_=p.props.iconName),a.default.createElement(s.Box,{className:"permission-cell",display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.flexStart,paddingTop:2,paddingBottom:2},a.default.createElement(s.Box,{display:i.Display.Flex},"string"==typeof _?a.default.createElement(s.AvatarIcon,{iconName:_,size:s.AvatarIconSize.Md,iconProps:{size:s.IconSize.Sm},color:E,backgroundColor:w}):_),a.default.createElement(s.Box,{display:i.Display.Flex,flexWrap:i.FlexWrap.Wrap,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,marginLeft:4,marginRight:4},a.default.createElement(s.Text,{size:i.Size.MD,variant:i.TextVariant.bodyMd,className:(0,o.default)("permission-cell__title",{"permission-cell__title-revoked":m})},n),!y&&a.default.createElement(u.PermissionCellStatus,{revoked:m,dateApproved:f,accounts:g})),a.default.createElement(s.Box,{display:i.Display.Flex},h&&e?a.default.createElement(c.PermissionCellOptions,{snapId:e,permissionName:t,description:r}):r&&a.default.createElement(l.default,{html:a.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},r),position:"bottom"},a.default.createElement(s.Icon,{color:T,name:v,size:s.IconSize.Sm}))))};p.propTypes={snapId:r.default.string,permissionName:r.default.oneOfType([r.default.string,r.default.element]).isRequired,title:r.default.oneOfType([r.default.string.isRequired,r.default.object.isRequired]),description:r.default.oneOfType([r.default.string,r.default.object]),weight:r.default.number,avatarIcon:r.default.any.isRequired,dateApproved:r.default.number,revoked:r.default.bool,showOptions:r.default.bool,hideStatus:r.default.bool,accounts:r.default.array};n.default=p}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell.js"}],[4387,{"./permission-connect-header":4388},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permission-connect-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-connect-header/index.js"}],[4388,{"../../../helpers/constants/design-system":4976,"../../../helpers/utils/util":5018,"../../component-library":4608,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../helpers/constants/design-system"),i=e("../../component-library"),s=e("../../../helpers/utils/util");function l(e){return e&&e.__esModule?e:{default:e}}const c=({origin:e,iconUrl:t})=>{const n=(e=>{try{const t=new URL(e);return t.hostname.split(".").slice(-2).join(".")}catch(e){return"Unknown Origin"}})(e);return a.default.createElement(i.Box,{backgroundColor:o.BackgroundColor.backgroundDefault,width:o.BlockSize.Full,alignItems:o.AlignItems.center,display:o.Display.Flex,padding:4,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},a.default.createElement(i.Box,null,t?a.default.createElement(i.AvatarFavicon,{backgroundColor:o.BackgroundColor.backgroundAlternative,size:i.IconSize.Lg,src:t,name:n}):a.default.createElement(i.AvatarBase,{size:i.IconSize.Lg,display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center,color:o.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:o.BackgroundColor.backgroundAlternative},(0,s.getAvatarFallbackLetter)(n))),a.default.createElement(i.Box,{marginLeft:4,marginRight:4,display:o.Display.Flex,flexDirection:o.FlexDirection.Column,style:{overflow:"hidden"}},a.default.createElement(i.Text,{ellipsis:!0,fontWeight:o.FontWeight.Medium},n),a.default.createElement(i.Text,{ellipsis:!0,variant:o.TextVariant.bodySm,color:o.TextColor.textAlternative},e)))};c.propTypes={origin:r.default.string,iconUrl:r.default.string};n.default=c}}},{package:"$root$",file:"ui/components/app/permission-connect-header/permission-connect-header.js"}],[4389,{"./permission-page-container-content":4390,"./permission-page-container.container":4393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=o(e("./permission-page-container.container")),r=o(e("./permission-page-container-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/permission-page-container/index.js"}],[4390,{"./permission-page-container-content.component":4391},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permission-page-container-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/index.js"}],[4391,{"../../../../helpers/constants/design-system":4976,"../../../component-library":4608,"../../permissions-connect-permission-list":4398,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=c(e("../../permissions-connect-permission-list")),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.PureComponent{render(){const{t:e}=this.context,{selectedPermissions:t,selectedAccounts:n,subjectMetadata:a}=this.props,l=n.reduce(((e,t)=>(e.push({avatarValue:t.address,avatarName:t.label}),e)),[]);return r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,height:i.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:i.BackgroundColor.backgroundAlternative},r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,paddingTop:4,paddingBottom:4},r.default.createElement(s.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center},e("permissions")),r.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Center},e("nativePermissionRequestDescription",[r.default.createElement(s.Text,{as:"span",key:`description_key_${a.origin}`,fontWeight:i.FontWeight.Medium},a.origin)]))),r.default.createElement(s.Box,{display:i.Display.Flex,backgroundColor:i.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:i.BorderRadius.XL},r.default.createElement(o.default,{permissions:t,subjectName:a.origin,accounts:l})))}}n.default=d,u(d,"propTypes",{subjectMetadata:a.default.shape({name:a.default.string.isRequired,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string}),selectedPermissions:a.default.object.isRequired,selectedAccounts:a.default.array}),u(d,"defaultProps",{selectedAccounts:[]}),u(d,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/permission-page-container-content.component.js"}],[4392,{".":4389,"../../../../shared/constants/metametrics":4188,"../../../../shared/constants/permissions":4194,"../../../helpers/constants/design-system":4976,"../../../helpers/utils/util":5018,"../../component-library":4608,"../../ui/page-container":4897,"../permissions-connect-footer":4394,"../snaps/snap-privacy-warning":4449,"@metamask/permission-controller":1510,"@metamask/snaps-rpc-methods":1887,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/snaps-rpc-methods"),i=e("@metamask/permission-controller"),s=e("../../../../shared/constants/metametrics"),l=e("../../ui/page-container"),c=g(e("../permissions-connect-footer")),u=e("../../../../shared/constants/permissions"),d=g(e("../snaps/snap-privacy-warning")),p=e("../../../helpers/utils/util"),f=e("../../../helpers/constants/design-system"),m=e("../../component-library"),h=e(".");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends r.Component{constructor(...e){super(...e),b(this,"state",{}),b(this,"onCancel",(()=>{const{request:e,rejectPermissionsRequest:t}=this.props;t(e.metadata.id)})),b(this,"onSubmit",(()=>{const{request:e,approvePermissionsRequest:t,rejectPermissionsRequest:n,selectedAccounts:a}=this.props,r={...e,permissions:{...e.permissions},approvedAccounts:a.map((e=>e.address))};Object.keys(r.permissions).length>0?t(r):n(r.metadata.id)}))}getRequestedPermissions(){return Object.entries(this.props.request.permissions??{}).reduce(((e,[t,n])=>t===u.RestrictedMethods.wallet_snap?(e[t]=this.getDedupedSnapPermissions(),e):(e[t]=n,e)),{})}getDedupedSnapPermissions(){var e;const{request:t,currentPermissions:n}=this.props,a=(0,p.getDedupedSnaps)(t,n);return{...(null==t||null===(e=t.permissions)||void 0===e?void 0:e[o.WALLET_SNAP_PERMISSION_KEY])||{},caveats:[{type:o.SnapCaveatType.SnapIds,value:a.reduce(((e,t)=>(e[t]={},e)),{})}]}}showSnapsPrivacyWarning(){this.setState({isShowingSnapsPrivacyWarning:!0})}componentDidMount(){this.context.trackEvent({category:s.MetaMetricsEventCategory.Auth,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}}),this.props.request.permissions[o.WALLET_SNAP_PERMISSION_KEY]&&!1===this.props.snapsInstallPrivacyWarningShown&&this.showSnapsPrivacyWarning()}goBack(){const{history:e,connectPath:t}=this.props;e.push(t)}render(){const{requestMetadata:e,targetSubjectMetadata:t,selectedAccounts:n,allAccountsSelected:a}=this.props,o=this.getRequestedPermissions(),s=e=>{this.setState({isShowingSnapsPrivacyWarning:e})},u=()=>{s(!1),this.props.setSnapsInstallPrivacyWarningShownStatus(!0)};return r.default.createElement(r.default.Fragment,null,r.default.createElement(r.default.Fragment,null,this.state.isShowingSnapsPrivacyWarning&&r.default.createElement(d.default,{onAccepted:()=>u(),onCanceled:()=>this.onCancel()})),r.default.createElement(h.PermissionPageContainerContent,{requestMetadata:e,subjectMetadata:t,selectedPermissions:o,selectedAccounts:n,allAccountsSelected:a}),r.default.createElement(m.Box,{display:f.Display.Flex,backgroundColor:f.BackgroundColor.backgroundAlternative,flexDirection:f.FlexDirection.Column},(null==t?void 0:t.subjectType)!==i.SubjectType.Snap&&r.default.createElement(c.default,null),r.default.createElement(l.PageContainerFooter,{footerClassName:"permission-page-container-footer",cancelButtonType:"default",onCancel:()=>this.goBack(),cancelText:this.context.t("back"),onSubmit:()=>this.onSubmit(),submitText:this.context.t("confirm"),buttonSizeLarge:!1})))}}n.default=v,b(v,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,selectedAccounts:a.default.array,allAccountsSelected:a.default.bool,currentPermissions:a.default.object,snapsInstallPrivacyWarningShown:a.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:a.default.func,request:a.default.object,requestMetadata:a.default.object,targetSubjectMetadata:a.default.shape({name:a.default.string,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string}),history:a.default.object.isRequired,connectPath:a.default.string.isRequired}),b(v,"defaultProps",{request:{},requestMetadata:{},selectedAccounts:[],allAccountsSelected:!1,currentPermissions:{}}),b(v,"contextTypes",{t:a.default.func,trackEvent:a.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.component.js"}],[4393,{"../../../selectors":5584,"./permission-page-container.component":4392,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../selectors"),i=(a=e("./permission-page-container.component"))&&a.__esModule?a:{default:a};n.default=(0,r.connect)(((e,t)=>{var n;const{selectedAccounts:a}=t,r=(0,o.getPermissions)(e,null===(n=t.request.metadata)||void 0===n?void 0:n.origin),i=(0,o.getInternalAccounts)(e);return{allInternalAccountsSelected:Object.keys(a).length===Object.keys(i).length&&a.length>1,currentPermissions:r}}))(i.default)}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.container.js"}],[4394,{"./permissions-connect-footer.component":4395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-footer.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/index.js"}],[4395,{"../../../helpers/constants/design-system":4976,"../../../helpers/constants/zendesk-url":4988,"../../component-library":4608,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,i=p(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),l=p(e("../../../helpers/constants/zendesk-url")),c=e("../../../helpers/constants/design-system"),u=e("../../component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}class f extends s.Component{render(){const{t:e}=this.context;return s.default.createElement(u.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center},s.default.createElement(u.Text,{variant:c.TextVariant.bodyMd},e("onlyConnectTrust",[s.default.createElement(u.ButtonLink,{key:"permission-connect-footer-learn-more-link",size:u.ButtonLinkSize.Inherit,target:"_blank",onClick:()=>{global.platform.openTab({url:l.default.USER_GUIDE_DAPPS})}},e("learnMoreUpperCase"))])))}}n.default=f,a=f,r="contextTypes",o={t:i.default.func},(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/permissions-connect-footer.component.js"}],[4396,{"./permissions-connect-header.component":4397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/index.js"}],[4397,{"../../../helpers/constants/design-system":4976,"../../ui/box":4817,"../../ui/site-origin":4915,"@metamask/permission-controller":1510,classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=d(e("classnames")),i=e("@metamask/permission-controller"),s=d(e("../../ui/site-origin")),l=d(e("../../ui/box")),c=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{renderHeaderIcon(){const{iconUrl:e,iconName:t,siteOrigin:n,leftIcon:a,rightIcon:o,subjectType:l}=this.props;return l===i.SubjectType.Snap?null:r.default.createElement("div",{className:"permissions-connect-header__icon"},r.default.createElement(s.default,{chip:!0,siteOrigin:n,title:n,iconSrc:e,name:t,leftIcon:a,rightIcon:o}))}render(){const{boxProps:e,className:t,headerTitle:n,headerText:a}=this.props;return r.default.createElement(l.default,p({className:(0,o.default)("permissions-connect-header",t),flexDirection:c.FLEX_DIRECTION.COLUMN,justifyContent:c.JustifyContent.center},e),this.renderHeaderIcon(),r.default.createElement("div",{className:"permissions-connect-header__title"},n),r.default.createElement("div",{className:"permissions-connect-header__subtitle"},a))}}n.default=m,f(m,"propTypes",{className:a.default.string,iconUrl:a.default.string,iconName:a.default.string.isRequired,siteOrigin:a.default.string.isRequired,headerTitle:a.default.node,boxProps:a.default.shape({...l.default.propTypes}),headerText:a.default.string,leftIcon:a.default.node,rightIcon:a.default.node,subjectType:a.default.string}),f(m,"defaultProps",{iconUrl:null,headerTitle:"",headerText:"",boxProps:{}})}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/permissions-connect-header.component.js"}],[4398,{"./permissions-connect-permission-list":4399},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-permission-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/index.js"}],[4399,{"../../../helpers/utils/permission":5012,"../../../helpers/utils/util":5018,"../../../hooks/useI18nContext":5039,"../../../selectors":5584,"../../component-library":4608,"../permission-cell":4383,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),i=e("../../../helpers/utils/permission"),s=e("../../../hooks/useI18nContext"),l=e("../../../selectors"),c=e("../../../helpers/utils/util"),u=p(e("../permission-cell")),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f({permissions:e,subjectName:t,accounts:n}){const r=(0,s.useI18nContext)(),p=(0,o.useSelector)(l.getSnapsMetadata);return a.default.createElement(d.Box,{as:"span"},(0,i.getWeightedPermissions)({t:r,permissions:e,getSubjectName:(0,c.getSnapName)(p),subjectName:t}).map(((e,t)=>function(e,t,n){return a.default.createElement(u.default,{permissionName:e.name,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,key:`${e.permissionName}-${t}`,accounts:n})}(e,t,n))))}f.propTypes={permissions:r.default.object.isRequired,subjectName:r.default.string.isRequired,accounts:r.default.arrayOf(r.default.object)}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/permissions-connect-permission-list.js"}],[4400,{"../../../../app/scripts/lib/util":97,"../../../../shared/constants/app":4178,"../../../../shared/constants/time":4201,"../../../helpers/utils/webcam-utils":5019,"../../../hooks/useI18nContext":5039,"../../ui/page-container/page-container-footer/page-container-footer.component":4900,"./enhanced-reader":4401,"@ngraveio/bc-ur":2015,loglevel:3515,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("loglevel")),o=e("@ngraveio/bc-ur"),i=m(e("prop-types")),s=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),c=m(e("../../../helpers/utils/webcam-utils")),u=m(e("../../ui/page-container/page-container-footer/page-container-footer.component")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),f=m(e("./enhanced-reader"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y="ACCESSING_CAMERA",g="NEED_TO_ALLOW_ACCESS",b="READY",v=({isReadingWallet:e,handleCancel:t,handleSuccess:n,setErrorTitle:i})=>{const m=(0,d.useI18nContext)(),[h,v]=(0,a.useState)(y),[T,E]=(0,a.useState)(null),[w,_]=(0,a.useState)(new o.URDecoder),[x,O]=(0,a.useState)(0);let S=null;const C=(0,a.useRef)(!1),k=async()=>{try{const{environmentReady:e}=await c.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=new URL(window.location.href).hash,t=e?e.substring(1):null;global.platform.openExtensionInBrowser(t)}}catch(e){C.current&&E(e)}return M()},I=async()=>{try{const{permissions:e}=await c.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*p.SECOND))),!C.current)return;v(b)}else C.current&&(S=setTimeout(I,p.SECOND),v(g))}catch(e){C.current&&E(e)}},N=t=>{try{if(!t)return;if(w.receivePart(t),O(w.estimatedPercentComplete()),w.isComplete()){const e=w.resultUR();n(e).catch(E)}}catch(t){i(m(e?"QRHardwareUnknownQRCodeTitle":"QRHardwareInvalidTransactionTitle")),E(new Error(m("unknownQrCode")))}},M=()=>{try{I()}catch(e){if(!C.current)return;"NotAllowedError"===e.name?(r.default.info(`Permission denied: '${e}'`),v(g)):E(e)}};(0,a.useEffect)((()=>(C.current=!0,k(),()=>{C.current=!1,clearTimeout(S)})),[]),(0,a.useEffect)((()=>{h===b?M():h===g&&I()}),[h]);const P=()=>{clearTimeout(S),v(y),E(null),_(new o.URDecoder),O(0),k()};return a.default.createElement("div",{className:"qr-scanner"},T?(()=>{let n,r;return"NO_WEBCAM_FOUND"===T.type?(n=m("noWebcamFoundTitle"),r=m("noWebcamFound")):T.message===m("unknownQrCode")?r=m(e?"QRHardwareUnknownWalletQRCode":"unknownQrCode"):T.message===m("QRHardwareMismatchedSignId")?r=m("QRHardwareMismatchedSignId"):(n=m("generalCameraErrorTitle"),r=m("generalCameraError")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__image"},a.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?a.default.createElement("div",{className:"qr-scanner__title"},n):null,a.default.createElement("div",{className:"qr-scanner__error","data-testid":"qr-scanner__error"},r),a.default.createElement(u.default,{onCancel:()=>{i(""),t()},onSubmit:()=>{i(""),P()},cancelText:m("cancel"),submitText:m("tryAgain"),submitButtonType:"confirm"}))})():(()=>{let e;return h===y?e=m("accessingYourCamera"):h===b?e=m("QRHardwareScanInstructions"):h===g&&(e=m("youNeedToAllowCameraAccess")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__content"},a.default.createElement(f.default,{handleScan:N})),x>0&&a.default.createElement("div",{className:"qr-scanner__progress","data-testid":"qr-reader-progress-bar",style:{"--progress":`${Math.floor(100*x)}%`}}),e&&a.default.createElement("div",{className:"qr-scanner__status"},e))})())};v.propTypes={isReadingWallet:i.default.bool.isRequired,handleCancel:i.default.func.isRequired,handleSuccess:i.default.func.isRequired,setErrorTitle:i.default.func.isRequired};n.default=v}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/base-reader.js"}],[4401,{"../../../../shared/constants/time":4201,"../../ui/spinner":4917,"@zxing/browser":2292,"@zxing/library":2511,loglevel:3515,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@zxing/library"),o=e("@zxing/browser"),i=u(e("loglevel")),s=u(e("prop-types")),l=e("../../../../shared/constants/time"),c=u(e("../../ui/spinner"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({handleScan:e})=>{const[t,n]=(0,a.useState)(!1),s=(0,a.useMemo)((()=>{const e=new Map;return e.set(r.DecodeHintType.POSSIBLE_FORMATS,[r.BarcodeFormat.QR_CODE]),new o.BrowserQRCodeReader(e,{delayBetweenScanAttempts:100*l.MILLISECOND,delayBetweenScanSuccess:100*l.MILLISECOND})}),[]);return(0,a.useEffect)((()=>{const t=document.getElementById("video"),a=()=>{n(!0)};t.addEventListener("canplay",a);const r=s.decodeFromVideoDevice(undefined,"video",(t=>{t&&e(t.getText())}));return()=>{t.removeEventListener("canplay",a),r.then((e=>{e&&e.stop()})).catch(i.default.info)}}),[]),a.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},a.default.createElement("video",{id:"video",style:{display:t?"block":"none",width:"100%",filter:"blur(4px)"}}),t?null:a.default.createElement(c.default,{color:"var(--color-warning-default)"}))};p.propTypes={handleScan:s.default.func.isRequired};n.default=p}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/enhanced-reader.js"}],[4402,{"./qr-hardware-popover":4403},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("./qr-hardware-popover"))&&a.__esModule?a:{default:a};n.default=r.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/index.js"}],[4403,{"../../../hooks/useI18nContext":5039,"../../../selectors":5584,"../../../store/actions":5592,"../../ui/popover":4904,"./qr-hardware-sign-request":4404,"./qr-hardware-wallet-importer":4408,"eth-rpc-errors":2897,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("eth-rpc-errors"),i=e("../../../selectors"),s=p(e("../../ui/popover")),l=e("../../../hooks/useI18nContext"),c=e("../../../store/actions"),u=p(e("./qr-hardware-wallet-importer")),d=p(e("./qr-hardware-sign-request"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,l.useI18nContext)(),n=(0,r.useSelector)(i.getCurrentQRHardwareState),{sync:p,sign:f}=n,m=null==p?void 0:p.reading,h=null==f?void 0:f.request,y=m||h,[g,b]=(0,a.useState)(""),{txData:v}=(0,r.useSelector)((e=>e.confirmTransaction)),T=(0,a.useMemo)((()=>v),[null==f||null===(e=f.request)||void 0===e?void 0:e.requestId]),E=(0,r.useDispatch)(),w=(0,a.useCallback)((()=>E((0,c.cancelSyncQRHardware)())),[E]),_=(0,a.useCallback)((()=>{E((0,c.rejectPendingApproval)(T.id,(0,o.serializeError)(o.ethErrors.provider.userRejectedRequest()))),E((0,c.cancelTx)(T)),E((0,c.cancelQRHardwareSignRequest)())}),[E,T]),x=(0,a.useMemo)((()=>{let e="";return h?e=t("QRHardwareSignRequestTitle"):m&&(e=t("QRHardwareWalletImporterTitle")),""!==g&&(e=g),e}),[h,m,t,g]);return y?a.default.createElement(s.default,{title:x,onClose:m?w:_},m&&a.default.createElement(u.default,{handleCancel:w,setErrorTitle:b}),h&&a.default.createElement(d.default,{setErrorTitle:b,handleCancel:_,request:f.request})):null}}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-popover.js"}],[4404,{"./qr-hardware-sign-request.component":4406},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("./qr-hardware-sign-request.component"))&&a.__esModule?a:{default:a};n.default=r.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/index.js"}],[4405,{"../../../../helpers/constants/design-system":4976,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,"../../../ui/page-container":4897,"@ngraveio/bc-ur":2015,buffer:2666,"prop-types":3665,"qrcode.react":3705,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("qrcode.react")),o=e("@ngraveio/bc-ur"),i=d(e("prop-types")),s=e("../../../../hooks/useI18nContext"),l=e("../../../../helpers/constants/design-system"),c=e("../../../ui/page-container"),u=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({type:e,cbor:n,cancelQRHardwareSignRequest:i,toRead:d})=>{const p=(0,s.useI18nContext)(),f=(0,a.useMemo)((()=>new o.UREncoder(new o.UR(t.from(n,"hex"),e),200)),[n,e]),[m,h]=(0,a.useState)(f.nextPart());return(0,a.useEffect)((()=>{const e=setInterval((()=>{h(f.nextPart())}),100);return()=>{clearInterval(e)}}),[f]),a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Box,null,a.default.createElement(u.Text,{align:l.TextAlign.Center},p("QRHardwareSignRequestSubtitle"))),a.default.createElement(u.Box,{paddingTop:4,paddingBottom:4,display:l.Display.Flex,alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column},a.default.createElement("div",{style:{padding:20,backgroundColor:"var(--qr-code-white-background)"}},a.default.createElement(r.default,{value:m.toUpperCase(),size:250}))),a.default.createElement(u.Box,{paddingBottom:4,paddingLeft:4,paddingRight:4},a.default.createElement(u.Text,{align:l.TextAlign.Center},p("QRHardwareSignRequestDescription"))),a.default.createElement(c.PageContainerFooter,{onCancel:i,onSubmit:d,cancelText:p("QRHardwareSignRequestCancel"),submitText:p("QRHardwareSignRequestGetSignature"),submitButtonType:"confirm"}))};f.propTypes={type:i.default.string.isRequired,cbor:i.default.string.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,toRead:i.default.func.isRequired};n.default=f}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/player.js"}],[4406,{"../../../../store/actions":5592,"./player":4405,"./reader":4407,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=l(e("prop-types")),o=e("../../../../store/actions"),i=l(e("./player")),s=l(e("./reader"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({request:e,handleCancel:t,setErrorTitle:n})=>{const[r,l]=(0,a.useState)("play"),c=(0,a.useCallback)((()=>l("read")),[]);return"play"===r?(()=>{const{payload:n}=e;return a.default.createElement(i.default,{type:n.type,cbor:n.cbor,cancelQRHardwareSignRequest:t,toRead:c})})():a.default.createElement(s.default,{cancelQRHardwareSignRequest:t,submitQRHardwareSignature:o.submitQRHardwareSignature,requestId:e.requestId,setErrorTitle:n})};u.propTypes={request:r.default.object.isRequired,handleCancel:r.default.func.isRequired,setErrorTitle:r.default.func.isRequired};n.default=u}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/qr-hardware-sign-request.component.js"}],[4407,{"../../../../hooks/useI18nContext":5039,"../base-reader":4400,"@keystonehq/bc-ur-registry-eth":534,"prop-types":3665,react:3878,uuid:4099},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=e("@keystonehq/bc-ur-registry-eth"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("uuid")),i=u(e("prop-types")),s=u(e("../base-reader")),l=e("../../../../hooks/useI18nContext");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}const d=({submitQRHardwareSignature:e,cancelQRHardwareSignRequest:t,requestId:n,setErrorTitle:i})=>{const c=(0,l.useI18nContext)();return a.default.createElement(s.default,{isReadingWallet:!1,handleCancel:()=>{t()},handleSuccess:async t=>{if("eth-signature"===t.type){const a=r.ETHSignature.fromCBOR(t.cbor).getRequestId(),s=o.stringify(a);if(s===n)return await e(s,t.cbor.toString("hex"));throw i(c("QRHardwareInvalidTransactionTitle")),new Error(c("QRHardwareMismatchedSignId"))}throw i(c("QRHardwareInvalidTransactionTitle")),new Error(c("unknownQrCode"))},setErrorTitle:i})};d.propTypes={submitQRHardwareSignature:i.default.func.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,requestId:i.default.string.isRequired,setErrorTitle:i.default.func.isRequired};n.default=d}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/reader.js"}],[4408,{"./qr-hardware-wallet-importer.component":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("./qr-hardware-wallet-importer.component"))&&a.__esModule?a:{default:a};n.default=r.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/index.js"}],[4409,{"../../../../hooks/useI18nContext":5039,"../../../../store/actions":5592,"../base-reader":4400,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../../store/actions"),i=l(e("../base-reader")),s=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const c=({handleCancel:e,setErrorTitle:t})=>{const n=(0,s.useI18nContext)();return a.default.createElement(i.default,{isReadingWallet:!0,handleCancel:e,handleSuccess:async e=>{if("crypto-hdkey"===e.type)return await(0,o.submitQRHardwareCryptoHDKey)(e.cbor.toString("hex"));if("crypto-account"===e.type)return await(0,o.submitQRHardwareCryptoAccount)(e.cbor.toString("hex"));throw t(n("QRHardwareUnknownQRCodeTitle")),new Error(n("unknownQrCode"))},setErrorTitle:t})};c.propTypes={handleCancel:r.default.func.isRequired,setErrorTitle:r.default.func.isRequired};n.default=c}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/qr-hardware-wallet-importer.component.js"}],[4410,{"./recovery-phrase-reminder":4411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./recovery-phrase-reminder"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/index.js"}],[4411,{"../../../helpers/constants/design-system":4976,"../../../helpers/constants/routes":4981,"../../../hooks/useI18nContext":5039,"../../component-library":4608,"../../ui/box":4817,"../../ui/button":4821,"../../ui/popover":4904,"prop-types":3665,react:3878,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),r=f(e("prop-types")),o=e("react-router-dom"),i=e("../../../hooks/useI18nContext"),s=f(e("../../ui/box")),l=f(e("../../ui/button")),c=f(e("../../ui/popover")),u=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),p=e("../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onConfirm:e,hasBackedUp:t}){const n=(0,i.useI18nContext)(),r=(0,o.useHistory)();return a.default.createElement(c.default,{centerTitle:!0,title:n("recoveryPhraseReminderTitle")},a.default.createElement(s.default,{paddingRight:4,paddingBottom:6,paddingLeft:4,className:"recovery-phrase-reminder"},a.default.createElement(p.Text,{color:u.TextColor.textDefault,align:u.TextAlign.Center,variant:u.TextVariant.bodyMd,marginBottom:4},n("recoveryPhraseReminderSubText")),a.default.createElement(s.default,{marginTop:4,marginBottom:8},a.default.createElement("ul",{className:"recovery-phrase-reminder__list"},a.default.createElement(p.Text,{as:"li",color:u.TextColor.textDefault,fontWeight:u.FontWeight.Bold},n("recoveryPhraseReminderItemOne")),a.default.createElement(p.Text,{as:"li"},n("recoveryPhraseReminderItemTwo")),a.default.createElement(p.Text,{as:"li"},t?n("recoveryPhraseReminderHasBackedUp"):a.default.createElement(a.default.Fragment,null,n("recoveryPhraseReminderHasNotBackedUp"),a.default.createElement(s.default,{display:u.DISPLAY.INLINE_BLOCK,marginLeft:1},a.default.createElement(l.default,{type:"link",onClick:()=>{r.push(d.ONBOARDING_UNLOCK_ROUTE)},style:{fontSize:"inherit",padding:0}},n("recoveryPhraseReminderBackupStart"))))))),a.default.createElement(s.default,{justifyContent:u.JustifyContent.center},a.default.createElement(s.default,{width:u.BLOCK_SIZES.TWO_FIFTHS},a.default.createElement(l.default,{type:"primary",onClick:e},n("recoveryPhraseReminderConfirm"))))))}m.propTypes={hasBackedUp:r.default.bool.isRequired,onConfirm:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/recovery-phrase-reminder.js"}],[4412,{"./reveal-SRP-modal":4413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./reveal-SRP-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/reveal-SRP-modal/index.js"}],[4413,{"../../../helpers/constants/design-system":4976,"../../../hooks/useI18nContext":5039,"../../../store/actions":5592,"../../component-library":4608,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a,r=(a=e("prop-types"))&&a.__esModule?a:{default:a},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),c=e("../../component-library");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({setSecretRecoveryPhrase:e,onClose:t,isOpen:n}){const a=(0,s.useI18nContext)(),[r,u]=(0,o.useState)(""),d=(0,o.useCallback)((async t=>{const n=await(0,l.getSeedPhrase)(t);e(n)}),[e]);return o.default.createElement(c.Modal,{isOpen:n,onClose:t,"data-testid":"reveal-srp-modal"},o.default.createElement(c.ModalOverlay,null),o.default.createElement(c.ModalContent,null,o.default.createElement(c.ModalHeader,{onClose:t},a("revealSeedWords")),o.default.createElement(c.Box,{paddingLeft:4,paddingRight:4},o.default.createElement("form",{onSubmit:e=>{e.preventDefault(),d(r)}},o.default.createElement(c.FormTextField,{marginTop:6,id:"account-details-authenticate",label:a("enterYourPassword"),placeholder:a("password"),onChange:e=>u(e.target.value),value:r,variant:i.TextVariant.bodySm,type:"password",labelProps:{fontWeight:i.FontWeight.Medium},autoFocus:!0})),o.default.createElement(c.Box,{display:i.Display.Flex,marginTop:6,gap:2},o.default.createElement(c.ButtonSecondary,{onClick:t,block:!0},a("cancel")),o.default.createElement(c.ButtonPrimary,{onClick:()=>d(r),disabled:""===r,block:!0},a("confirm"))))))}d.propTypes={setSecretRecoveryPhrase:r.default.func.isRequired,onClose:r.default.func.isRequired,isOpen:r.default.bool.isRequired}}}},{package:"$root$",file:"ui/components/app/reveal-SRP-modal/reveal-SRP-modal.js"}],[4414,{"../../../../shared/constants/smartTransactions":4197,"../../../helpers/constants/design-system":4976,"../../../helpers/constants/routes":4981,"../../../hooks/useI18nContext":5039,"../../../store/actions":5592,"../../component-library":4608,react:3878,"react-redux":3843,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,hideWhatsNewPopup:t}){const n=(0,i.useI18nContext)(),u=(0,o.useDispatch)(),p=(0,r.useHistory)(),f=(0,a.useCallback)((()=>{u((0,c.setSmartTransactionsOptInStatus)(!0))}),[u]),g=(0,a.useCallback)((()=>{u((0,c.setSmartTransactionsOptInStatus)(!1)),p.push(`${d.ADVANCED_ROUTE}#smart-transactions`)}),[u]);return(0,a.useEffect)((()=>{e&&t()}),[e,t]),a.default.createElement(l.Modal,{isOpen:e,onClose:f,isClosedOnOutsideClick:!1,isClosedOnEscapeKey:!1,className:"mm-modal__custom-scrollbar mm-smart-transactions-opt-in-modal",autoFocus:!1},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,{alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},n("smartTransactionsOptItModalTitle")),a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,paddingLeft:4,paddingRight:4},a.default.createElement(b,null),a.default.createElement(y,null),a.default.createElement(m,{handleEnableButtonClick:f}),a.default.createElement(h,{handleManageInSettingsLinkClick:g}))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),o=e("react-redux"),i=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),c=e("../../../store/actions"),u=e("../../../../shared/constants/smartTransactions"),d=e("../../../helpers/constants/routes");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=()=>{const e=(0,i.useI18nContext)();return a.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:s.TextVariant.bodyMd,alignItems:s.AlignItems.flexStart},as:"a",href:u.SMART_TRANSACTIONS_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCaseWithDot"))},m=({handleEnableButtonClick:e})=>{const t=(0,i.useI18nContext)();return a.default.createElement(l.Button,{marginTop:8,variant:l.ButtonVariant.Primary,onClick:e,width:s.BlockSize.Full},t("enable"))},h=({handleManageInSettingsLinkClick:e})=>{const t=(0,i.useI18nContext)();return a.default.createElement(l.Button,{marginTop:2,type:"link",variant:l.ButtonVariant.Link,color:s.TextColor.textAlternative,onClick:e,width:s.BlockSize.Full,className:"mm-smart-transactions-opt-in-modal__no-thanks-link"},t("manageInSettings"))},y=()=>{const e=(0,i.useI18nContext)();return a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,marginTop:4},e("smartTransactionsDescription")),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,marginTop:4},e("smartTransactionsDescription2",[a.default.createElement(f,null)])))},g=({text:e,iconName:t})=>a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,className:"mm-smart-transactions-opt-in-modal__benefit",textAlign:s.TextAlign.Center,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.flexStart},a.default.createElement(l.Icon,{name:t,color:s.IconColor.primaryDefault,className:"mm-smart-transactions-opt-in-modal__icon"}),a.default.createElement(l.Text,{variant:s.TextVariant.bodySm,fontWeight:s.FontWeight.Medium,marginTop:1},e)),b=()=>{const e=(0,i.useI18nContext)();return a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.center,marginTop:4,paddingLeft:5,paddingRight:5},a.default.createElement(g,{text:e("smartTransactionsBenefit1"),iconName:l.IconName.Confirmation}),a.default.createElement(g,{text:e("smartTransactionsBenefit2"),iconName:l.IconName.Coin}),a.default.createElement(g,{text:e("smartTransactionsBenefit3"),iconName:l.IconName.Clock}))}}}},{package:"$root$",file:"ui/components/app/smart-transactions/smart-transactions-opt-in-modal.tsx"}],[4415,{"../../../../../shared/constants/time":4201,"../../../../helpers/constants/design-system":4976,"../../../../hooks/useCopyToClipboard":5029,"../../../../hooks/useI18nContext":5039,"../../../../hooks/useTimeout":5055,"../../../component-library":4608,"../../../ui/tooltip":4936,"../show-more":4423,classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Copyable=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=m(e("classnames")),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useCopyToClipboard"),l=e("../../../component-library"),c=e("../../../../hooks/useI18nContext"),u=m(e("../../../ui/tooltip")),d=e("../show-more"),p=e("../../../../../shared/constants/time"),f=e("../../../../hooks/useTimeout");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=({text:e,sensitive:t=!1,marginTop:n,marginBottom:r})=>{const m=(0,c.useI18nContext)(),[,h]=(0,s.useCopyToClipboard)(),[y,g]=(0,a.useState)(!t),[b,v]=(0,a.useState)(!1),T=(0,f.useTimeout)((()=>v(!1)),3*p.SECOND,!1),E=e=>{e.stopPropagation(),g((e=>!e))};return a.default.createElement(l.Box,{display:i.Display.Flex,onClick:t&&!y?E:t=>{t.stopPropagation(),h(e),v(!0),T()},className:(0,o.default)("copyable",{sensitive:t,clicked:b,visible:y}),backgroundColor:y&&t?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundAlternative,borderRadius:i.BorderRadius.LG,padding:2,marginTop:n,marginBottom:r},t&&a.default.createElement(l.Box,{marginRight:2,className:"copyable__icon"},a.default.createElement(u.default,{wrapperClassName:"copyable__tooltip",html:a.default.createElement(l.Text,null,m(y?"hideSentitiveInfo":"doNotShare")),position:"bottom"},a.default.createElement(l.Icon,{name:y?l.IconName.EyeSlash:l.IconName.Eye,onClick:E,color:y&&t?i.Color.errorAlternative:i.IconColor.iconAlternative,"data-testid":"reveal-icon"}))),t&&!y&&a.default.createElement(l.Text,{color:i.Color.textAlternative,marginRight:2,marginBottom:0,overflowWrap:i.OverflowWrap.Anywhere},m("revealSensitiveContent")),y&&a.default.createElement(d.ShowMore,{marginRight:2,buttonBackground:y&&t?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundAlternative},a.default.createElement(l.Text,{color:y&&t?i.Color.errorAlternative:i.TextColor.textAlternative,marginBottom:0,overflowWrap:i.OverflowWrap.Anywhere},e)),y&&a.default.createElement(l.Icon,{className:"copyable__icon",name:b?l.IconName.CopySuccess:l.IconName.Copy,color:y&&t?i.Color.errorAlternative:i.IconColor.iconAlternative,marginLeft:"auto","data-testid":"copy-icon"}))};n.Copyable=y,y.propTypes={text:r.default.string,sensitive:r.default.bool,marginTop:r.default.number,marginBottom:r.default.number}}}},{package:"$root$",file:"ui/components/app/snaps/copyable/copyable.js"}],[4416,{"./copyable":4415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Copyable",{enumerable:!0,get:function(){return a.Copyable}});var a=e("./copyable")}}},{package:"$root$",file:"ui/components/app/snaps/copyable/index.js"}],[4417,{"./insight-warnings":4418},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./insight-warnings"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/insight-warnings/index.js"}],[4418,{"../../../../helpers/constants/design-system":4976,"../../../../helpers/constants/snaps":4984,"../../../../helpers/utils/util":5018,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,"../snap-ui-renderer":4476,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=e("../snap-ui-renderer"),u=e("../../../../helpers/constants/snaps"),d=e("../../../../helpers/utils/util");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({warnings:e,action:t="confirming",origin:n,onCancel:a,onSubmit:o}){const p=(0,l.useI18nContext)(),f=e.reduce(((e,t,n)=>(e[t.snapId]=0!==n,e)),{}),[m,h]=(0,r.useState)(f),[y,g]=(0,r.useState)(!1),b=()=>{const t=e.length-1;return r.default.createElement(i.Box,{className:"insights-warnings-modal__content"},e.map(((n,a)=>{const{snapId:o,id:i}=n;return r.default.createElement(c.SnapUIRenderer,{key:`${o}-${a}`,snapId:o,interfaceId:i,delineatorType:u.DelineatorType.Warning,onClick:()=>(t=>{let n={...m};const a=!m[t],r=a;n[t]=a,r||(n={...f},n[t]=!1,n[e[0].snapId]=t!==e[0].snapId),h(n)})(o),isCollapsable:!0,isCollapsed:m[o],boxProps:{marginBottom:a===t?0:4}})})))};return r.default.createElement(i.Modal,{isOpen:!0,isClosedOnEscapeKey:!1,isClosedOnOutsideClick:!1,className:"insights-warnings-modal"},r.default.createElement(i.ModalOverlay,null),r.default.createElement(i.ModalContent,null,r.default.createElement(i.ModalHeader,{justifyContent:s.JustifyContent.center,childrenWrapperProps:{alignItems:s.AlignItems.center,display:s.Display.Flex,flexDirection:s.FlexDirection.Column}},r.default.createElement(i.AvatarIcon,{iconName:i.IconName.Warning,size:i.AvatarIconSize.Lg,color:s.IconColor.errorDefault,backgroundColor:s.BackgroundColor.errorMuted}),r.default.createElement(i.Text,{variant:s.TextVariant.headingMd,paddingTop:4,paddingBottom:4},p("insightWarningHeader"))),r.default.createElement(i.ModalBody,null,r.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,paddingBottom:4},1===e.length?p("insightWarningContentSingular",[r.default.createElement(i.Text,{variant:s.TextVariant.inherit,key:e.id,fontWeight:s.FontWeight.Medium},`${e.length} ${p("insightWarning")}`),t,u.InsightWarningLanguage[t].noun]):p("insightWarningContentPlural",[r.default.createElement(i.Text,{variant:s.TextVariant.inherit,key:e.id,fontWeight:s.FontWeight.Medium},`${e.length} ${p("insightWarnings")}`),e.length,t,u.InsightWarningLanguage[t].noun])),r.default.createElement(b,null),r.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.flexStart,alignItems:s.AlignItems.center,marginTop:4,marginBottom:4,padding:4,borderRadius:s.BorderRadius.SM,style:{backgroundColor:y?"var(--color-info-muted)":"var(--color-background-default-hover)"}},r.default.createElement(i.Checkbox,{variant:s.TextVariant.bodyMd,isChecked:y,onChange:()=>g((e=>!e)),label:p("insightWarningCheckboxMessage",[p(u.InsightWarningLanguage[t].imperative),r.default.createElement(i.Text,{variant:s.TextVariant.inherit,key:t,fontWeight:s.FontWeight.Medium},(0,d.stripHttpSchemes)(n))])})),r.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween},r.default.createElement(i.Button,{size:i.ButtonSecondarySize.Lg,width:s.BlockSize.Half,variant:i.ButtonVariant.Secondary,onClick:a,marginRight:4},p("cancel")),r.default.createElement(i.Button,{size:i.ButtonPrimarySize.Lg,width:s.BlockSize.Half,"data-testid":"snapInsightsButtonConfirm",danger:!0,onClick:o,disabled:!y},p(u.InsightWarningLanguage[t].imperative))))))}f.propTypes={warnings:o.default.arrayOf(o.default.object),action:o.default.oneOf(Object.keys(u.InsightWarningLanguage)),origin:o.default.string.isRequired,onCancel:o.default.func.isRequired,onSubmit:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/insight-warnings/insight-warnings.js"}],[4419,{"../../../../helpers/constants/design-system":4976,"../../../component-library":4608,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}const l=({title:e,error:t,description:n,iconName:r})=>a.default.createElement(i.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center,height:o.BlockSize.Full,padding:2},r&&a.default.createElement(i.AvatarIcon,{iconName:r,size:i.AvatarIconSize.Xl,color:o.IconColor.errorDefault,backgroundColor:o.BackgroundColor.errorMuted,marginBottom:4}),a.default.createElement(i.Text,{variant:o.TextVariant.headingLg},e),n&&a.default.createElement(i.Text,{textAlign:o.TextAlign.Center},n),t&&a.default.createElement(i.BannerAlert,{marginTop:4,startAccessory:null,severity:o.Severity.Danger},a.default.createElement(i.Text,{variant:o.TextVariant.bodySm},t)));l.propTypes={title:r.default.node.isRequired,error:r.default.string,description:r.default.string,iconName:r.default.string};n.default=l}}},{package:"$root$",file:"ui/components/app/snaps/install-error/install-error.js"}],[4420,{"./keyring-snap-removal-warning":4422},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./keyring-snap-removal-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/index.ts"}],[4421,{"../../../../../shared/modules/hexstring-utils":4225,"../../../../helpers/constants/design-system":4976,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountListItem=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../../shared/modules/hexstring-utils"),l=e("../../../../hooks/useI18nContext");n.KeyringAccountListItem=({account:e,snapUrl:t})=>{const n=(0,l.useI18nContext)();return r.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,borderRadius:i.BorderRadius.MD,borderColor:i.BorderColor.borderDefault,padding:3,width:i.BlockSize.Full,"data-testid":"keyring-account-list-item"},r.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.TenTwelfths},r.default.createElement(o.Box,{flexDirection:i.FlexDirection.Column,marginBottom:2},r.default.createElement(o.Text,{color:i.TextColor.textMuted},n("keyringAccountName")),r.default.createElement(o.Text,null,e.name)),r.default.createElement(o.Box,{flexDirection:i.FlexDirection.Column},r.default.createElement(o.Text,{color:i.TextColor.textMuted},n("keyringAccountPublicAddress")),r.default.createElement(o.Text,{overflowWrap:i.OverflowWrap.Anywhere},(0,s.toChecksumHexAddress)(e.address)))),r.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center},r.default.createElement(o.ButtonIcon,{ariaLabel:"snap-url-export","data-testid":"keyring-account-link",iconName:o.IconName.Export,color:i.IconColor.primaryDefault,onClick:()=>{global.platform.openTab({url:t})}})))}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-account-list-item.tsx"}],[4422,{"../../../../ducks/metamask/metamask":4968,"../../../../helpers/constants/design-system":4976,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,"../../../component-library/modal-content/deprecated":4616,"../../../component-library/modal-header/deprecated":4625,"../../../ui/info-tooltip":4870,"./keyring-account-list-item":4421,"@metamask/etherscan-link":1253,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({snap:e,keyringAccounts:t,onCancel:n,onClose:a,onSubmit:h,onBack:y,isOpen:g}){const b=(0,d.useI18nContext)(),[v,T]=(0,r.useState)(!1),[E,w]=(0,r.useState)(!1),[_,x]=(0,r.useState)(""),[O,S]=(0,r.useState)(!1),{chainId:C}=(0,i.useSelector)(f.getProviderConfig);(0,r.useEffect)((()=>{T(0===t.length)}),[t]);return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Modal,{isOpen:g,onClose:a},r.default.createElement(s.ModalOverlay,null),r.default.createElement(l.ModalContent,{modalDialogProps:{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:4}},r.default.createElement(c.ModalHeader,{onBack:()=>{v?T(!1):y()},onClose:()=>{T(!1),a()}},b("removeSnap")),!1===v?r.default.createElement(r.default.Fragment,null,r.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Warning,className:""},b("backupKeyringSnapReminder")),r.default.createElement(s.Box,{display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween},r.default.createElement(s.Text,null,b("removeKeyringSnap")),r.default.createElement(p.default,{contentText:b("removeKeyringSnapToolTip"),position:"top"})),t.map(((e,t)=>r.default.createElement(m.KeyringAccountListItem,{key:t,account:e,snapUrl:(0,o.getAccountLink)(e.address,C)})))):r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,marginTop:6},r.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Warning,className:"",marginBottom:4},b("backupKeyringSnapReminder")),r.default.createElement(s.Text,{marginBottom:4},b("keyringSnapRemoveConfirmation",[r.default.createElement(s.Text,{key:"keyringSnapRemoveConfirmation2",fontWeight:u.FontWeight.Bold,as:"span"},e.manifest.proposedName)])),r.default.createElement(s.TextField,{marginBottom:4,value:_,onChange:t=>{var n;x(t.target.value),w((n=t.target.value,S(!1),n===e.manifest.proposedName||(S(!0),!1)))},onPaste:e=>{e.preventDefault()},error:O,inputProps:{"data-testid":"remove-snap-confirmation-input"}}))),r.default.createElement(s.Box,{width:u.BlockSize.Full,display:u.Display.Flex,gap:4},r.default.createElement(s.Button,{block:!0,variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,onClick:n},b("cancel")),r.default.createElement(s.Button,{block:!0,size:s.ButtonSize.Lg,id:"popoverRemoveSnapButton",danger:v,disabled:v&&!E,onClick:async()=>{v?E&&h():T(!0)}},b(v?"removeSnap":"continue"))))))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/etherscan-link"),i=e("react-redux"),s=e("../../../component-library"),l=e("../../../component-library/modal-content/deprecated"),c=e("../../../component-library/modal-header/deprecated"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../hooks/useI18nContext"),p=(a=e("../../../ui/info-tooltip"))&&a.__esModule?a:{default:a},f=e("../../../../ducks/metamask/metamask"),m=e("./keyring-account-list-item");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-snap-removal-warning.tsx"}],[4423,{"./show-more":4424},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ShowMore",{enumerable:!0,get:function(){return a.ShowMore}});var a=e("./show-more")}}},{package:"$root$",file:"ui/components/app/snaps/show-more/index.js"}],[4424,{"../../../../helpers/constants/design-system":4976,"../../../../hooks/snaps/useIsOverflowing":5022,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ShowMore=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=c(e("prop-types")),o=c(e("../../../../hooks/snaps/useIsOverflowing")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}const p=({children:e,...t})=>{const n=(0,l.useI18nContext)(),{contentRef:r,isOverflowing:c}=(0,o.default)(),[u,p]=(0,a.useState)(!1),f=c&&!u;return a.default.createElement(i.Box,d({className:"show-more",style:{position:"relative",overflow:"hidden",maxHeight:u?"none":undefined},ref:r},t),e,f&&a.default.createElement(i.Box,{style:{position:"absolute",bottom:0,right:0,background:`linear-gradient(90deg, transparent 0%, var(--color-${s.BackgroundColor.backgroundDefault}) 33%)`}},a.default.createElement(i.Button,{className:"show-more__button",padding:0,paddingLeft:8,variant:i.ButtonVariant.Link,onClick:e=>{e.stopPropagation(),p(!0)}},a.default.createElement(i.Text,{color:s.TextColor.infoDefault},n("more")))))};n.ShowMore=p,p.propTypes={children:r.default.node,buttonBackground:r.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/show-more/show-more.js"}],[4425,{"./snap-authorship-expanded":4426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-authorship-expanded"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/index.js"}],[4426,{"../../../../helpers/constants/design-system":4976,"../../../../helpers/utils/util":5018,"../../../../hooks/snaps/useSafeWebsite":5023,"../../../../hooks/useI18nContext":5039,"../../../../hooks/useOriginMetadata":5045,"../../../../selectors":5584,"../../../../store/actions":5592,"../../../component-library":4608,"../../../ui/toggle-button":4929,"../../../ui/tooltip/tooltip":4937,"../snap-avatar":4429,"../snap-version/snap-external-pill":4481,"@metamask/snaps-utils":1924,classnames:2687,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/snaps-utils"),r=T(e("classnames")),o=T(e("prop-types")),i=T(e("react")),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/util"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../hooks/useOriginMetadata"),p=e("../../../../selectors"),f=e("../../../../store/actions"),m=e("../../../component-library"),h=T(e("../../../ui/toggle-button")),y=T(e("../../../ui/tooltip/tooltip")),g=T(e("../snap-avatar")),b=T(e("../snap-version/snap-external-pill")),v=e("../../../../hooks/snaps/useSafeWebsite");function T(e){return e&&e.__esModule?e:{default:e}}const E=({snapId:e,className:t,snap:n})=>{const o=(0,u.useI18nContext)(),T=(0,s.useDispatch)(),E=e&&(0,a.getSnapPrefix)(e),w=e&&(0,a.stripSnapPrefix)(e),_="npm:"===E,x=null!=n&&n.version?`/v/${null==n?void 0:n.version}`:"",O=_?`https://www.npmjs.com/package/${w}${x}`:w,S=(0,s.useSelector)((t=>(0,p.getSnapRegistryData)(t,e))),{name:C}=(0,s.useSelector)((t=>(0,p.getSnapMetadata)(t,e))),{website:k=undefined}=(null==S?void 0:S.metadata)??{},I=(0,v.useSafeWebsite)(k),N=(null==n?void 0:n.versionHistory)??[],M=N.length?N[N.length-1]:undefined,P=(0,d.useOriginMetadata)(null==M?void 0:M.origin);return i.default.createElement(m.Box,{className:(0,r.default)("snaps-authorship-expanded",t),backgroundColor:l.BackgroundColor.backgroundDefault,borderColor:l.BorderColor.borderDefault,borderWidth:1,width:l.BlockSize.Full,borderRadius:l.BorderRadius.LG},i.default.createElement(m.Box,{alignItems:l.AlignItems.center,display:l.Display.Flex,width:l.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingTop:3,paddingBottom:3},i.default.createElement(m.Box,null,i.default.createElement(g.default,{snapId:e})),i.default.createElement(m.Box,{marginLeft:4,marginRight:0,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{overflow:"hidden"}},i.default.createElement(m.Text,{ellipsis:!0,fontWeight:l.FontWeight.Medium},C),i.default.createElement(m.Text,{ellipsis:!0,variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},w))),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,paddingLeft:4,paddingTop:4,paddingBottom:4,borderColor:l.BorderColor.borderDefault,width:l.BlockSize.Full,style:{borderLeft:l.BorderStyle.none,borderRight:l.BorderStyle.none}},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("enabled")),i.default.createElement(m.Box,{style:{maxWidth:"52px"}},i.default.createElement(y.default,{interactive:!0,position:"left",html:o("snapsToggle")},i.default.createElement(h.default,{value:null==n?void 0:n.enabled,onToggle:()=>{null!=n&&n.enabled?T((0,f.disableSnap)(null==n?void 0:n.id)):T((0,f.enableSnap)(null==n?void 0:n.id))}})))),i.default.createElement(m.Box,{padding:4,width:l.BlockSize.Full},I&&i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full,marginBottom:4},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("snapDetailWebsite")),i.default.createElement(m.Box,{paddingLeft:8,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexEnd},i.default.createElement(m.ButtonLink,{href:I.toString(),target:"_blank",overflowWrap:l.OverflowWrap.Anywhere},I.host))),P&&M&&i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("installOrigin")),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexEnd},i.default.createElement(m.Text,null,P.host),i.default.createElement(m.Text,{color:l.Color.textMuted},o("installedOn",[(0,c.formatDate)(M.date,"dd MMM yyyy")])))),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,marginTop:4},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},o("version")),i.default.createElement(b.default,{value:null==n?void 0:n.version,url:O}))))};E.propTypes={snapId:o.default.string,className:o.default.string,snap:o.default.object};n.default=E}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/snap-authorship-expanded.js"}],[4427,{"./snap-authorship-header":4428},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-authorship-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/index.js"}],[4428,{"../../../../helpers/constants/design-system":4976,"../../../../selectors":5584,"../../../component-library":4608,"../snap-avatar":4429,"../snap-metadata-modal":4445,"@metamask/snaps-utils":1924,classnames:2687,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=f(e("prop-types")),o=f(e("classnames")),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../selectors"),u=e("../../../component-library"),d=f(e("../snap-avatar")),p=e("../snap-metadata-modal");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=({snapId:e,className:t,boxShadow:n="var(--shadow-size-lg) var(--color-shadow-default)"})=>{const[r,f]=(0,a.useState)(!1),m=e&&(0,i.stripSnapPrefix)(e),{name:h}=(0,s.useSelector)((t=>(0,c.getSnapMetadata)(t,e)));return a.default.createElement(u.Box,{className:(0,o.default)("snaps-authorship-header",t),backgroundColor:l.BackgroundColor.backgroundDefault,width:l.BlockSize.Full,alignItems:l.AlignItems.center,display:l.Display.Flex,padding:4,style:{boxShadow:n}},e&&a.default.createElement(p.SnapMetadataModal,{snapId:e,isOpen:r,onClose:()=>f(!1)}),a.default.createElement(u.Box,null,a.default.createElement(d.default,{snapId:e})),a.default.createElement(u.Box,{marginLeft:4,marginRight:4,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{overflow:"hidden"}},a.default.createElement(u.Text,{ellipsis:!0,fontWeight:l.FontWeight.Medium},h),a.default.createElement(u.Text,{ellipsis:!0,variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},m)),a.default.createElement(u.Box,{marginLeft:"auto"},a.default.createElement(u.AvatarIcon,{className:"snaps-authorship-header__button",iconName:u.IconName.Info,onClick:()=>f(!0),color:l.IconColor.iconMuted,backgroundColor:l.BackgroundColor.backgroundAlternative})))};h.propTypes={snapId:r.default.string,className:r.default.string,boxShadow:r.default.string};n.default=h}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/snap-authorship-header.js"}],[4429,{"./snap-avatar":4430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-avatar"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-avatar/index.js"}],[4430,{"../../../../helpers/constants/design-system":4976,"../../../../helpers/utils/util":5018,"../../../../selectors":5584,"../../../component-library":4608,classnames:2687,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library"),c=e("../../../../selectors"),u=e("../../../../helpers/utils/util");function d(e){return e&&e.__esModule?e:{default:e}}const p=({snapId:e,badgeSize:t=l.IconSize.Sm,avatarSize:n=l.IconSize.Lg,borderWidth:r=2,className:d})=>{const p=(0,i.useSelector)((t=>(0,c.getTargetSubjectMetadata)(t,e))),{name:f}=(0,i.useSelector)((t=>(0,c.getSnapMetadata)(t,e))),m=null==p?void 0:p.iconUrl,h=(0,u.getAvatarFallbackLetter)(f);return a.default.createElement(l.BadgeWrapper,{className:(0,o.default)("snap-avatar",d),badge:a.default.createElement(l.AvatarIcon,{iconName:l.IconName.Snaps,size:t,backgroundColor:s.IconColor.infoDefault,borderColor:s.BackgroundColor.backgroundDefault,borderWidth:r,iconProps:{color:s.IconColor.infoInverse}}),position:l.BadgeWrapperPosition.bottomRight},m?a.default.createElement(l.AvatarFavicon,{backgroundColor:s.BackgroundColor.backgroundAlternative,size:n,src:m,name:f}):a.default.createElement(l.AvatarBase,{size:n,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,color:s.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:s.BackgroundColor.backgroundAlternative},h))};p.propTypes={snapId:r.default.string,badgeSize:r.default.string,avatarSize:r.default.string,borderWidth:r.default.number,className:r.default.string};n.default=p}}},{package:"$root$",file:"ui/components/app/snaps/snap-avatar/snap-avatar.js"}],[4431,{"../../../../helpers/constants/design-system":4976,"../../../../hooks/useI18nContext":5039,"../../../../selectors":5584,"../../../component-library":4608,"../../../ui/tooltip/tooltip":4937,"../snap-avatar/snap-avatar":4430,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=p(e("../../../ui/tooltip/tooltip")),c=e("../../../../hooks/useI18nContext"),u=p(e("../snap-avatar/snap-avatar")),d=e("../../../../selectors");function p(e){return e&&e.__esModule?e:{default:e}}function f({origin:e,snapId:t}){const n=(0,c.useI18nContext)(),{name:r}=(0,o.useSelector)((e=>(0,d.getSnapMetadata)(e,t)));return a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingTop:2,paddingBottom:2},a.default.createElement(u.default,{snapId:t}),a.default.createElement(s.Box,{width:"full",paddingLeft:4,paddingRight:4},a.default.createElement(s.Text,null,n("connectSnap",[a.default.createElement(s.Text,{variant:i.TextVariant.inherit,key:"1",fontWeight:i.FontWeight.Bold},r)]))),a.default.createElement(s.Box,null,a.default.createElement(l.default,{html:a.default.createElement("div",null,n("snapConnectionWarning",[a.default.createElement("b",{key:"0"},e),a.default.createElement("b",{key:"1"},r)])),position:"bottom"},a.default.createElement(s.Icon,{color:i.IconColor.iconMuted,name:s.IconName.Info,size:s.IconSize.Sm}))))}f.propTypes={origin:r.default.string.isRequired,snapId:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-connect-cell/snap-connect-cell.js"}],[4432,{"./snap-delineator":4433},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapDelineator",{enumerable:!0,get:function(){return a.SnapDelineator}});var a=e("./snap-delineator")}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/index.js"}],[4433,{"../../../../helpers/constants/design-system":4976,"../../../../helpers/constants/snaps":4984,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,"../../../ui/pulse-loader/pulse-loader":4907,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapDelineator=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../../helpers/constants/snaps"),c=u(e("../../../ui/pulse-loader/pulse-loader"));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}const p=({snapName:e,type:t=l.DelineatorType.default,isLoading:n=!1,isCollapsable:r=!1,isCollapsed:u=!1,children:p,onClick:f,boxProps:m})=>{const h=(0,o.useI18nContext)(),y=t===l.DelineatorType.Error||t===l.DelineatorType.Warning;return a.default.createElement(s.Box,d({className:"snap-delineator__wrapper",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,borderStyle:i.BorderStyle.solid,borderColor:i.BorderColor.borderDefault,borderRadius:i.BorderRadius.LG,backgroundColor:y?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundDefault},m,{style:{minHeight:n&&"180px",...null==m?void 0:m.style}}),a.default.createElement(s.Box,{className:"snap-delineator__header",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,padding:1,style:{borderBottomWidth:u?0:1}},a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,className:"snap-delineator__header__container"},a.default.createElement(s.AvatarIcon,{iconName:s.IconName.Snaps,className:"snap-delineator__header__icon",size:s.AvatarIconSize.Xs,backgroundColor:y?i.IconColor.errorDefault:i.IconColor.infoDefault,iconProps:{color:i.IconColor.infoInverse}}),a.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textDefault,className:"snap-delineator__header__text",marginLeft:1,marginTop:0,marginBottom:0,marginRight:1,display:"block"},h((0,l.getDelineatorTitle)(t),[e]))),r&&a.default.createElement(s.Icon,{name:u?s.IconName.ArrowDown:s.IconName.ArrowUp,size:s.IconSize.Sm,color:i.IconColor.iconMuted,className:"snap-delineator__expansion-icon",onClick:f})),a.default.createElement(s.Box,{className:"snap-delineator__content",padding:4,display:r&&u?i.Display.None:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:n&&i.AlignItems.center,justifyContent:n&&i.JustifyContent.center,style:{flexGrow:n&&"1"}},n?a.default.createElement(c.default,null):p))};n.SnapDelineator=p,p.propTypes={snapName:r.default.string,type:r.default.string,isCollapsable:r.default.bool,isCollapsed:r.default.bool,isLoading:r.default.bool,onClick:r.default.func,boxProps:r.default.object,children:r.default.node}}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/snap-delineator.js"}],[4434,{"../../../../helpers/constants/design-system":4976,"../../../../helpers/constants/routes":4981,"../../../../helpers/constants/snaps":4984,"../../../../hooks/useI18nContext":5039,"../../../../selectors":5584,"../../../../store/actions":5592,"../../../component-library":4608,"../copyable":4416,"../snap-delineator":4432,"../snap-ui-renderer":4476,"./useSnapHome":4435,"prop-types":3665,react:3878,"react-redux":3843,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapHomeRenderer=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("react-router-dom"),s=e("react-redux"),l=e("../../../component-library"),c=e("../snap-ui-renderer"),u=e("../../../../selectors"),d=e("../snap-delineator"),p=e("../../../../helpers/constants/snaps"),f=e("../../../../helpers/constants/design-system"),m=e("../copyable"),h=e("../../../../hooks/useI18nContext"),y=e("../../../../store/actions"),g=e("../../../../helpers/constants/routes"),b=e("./useSnapHome");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const T=({snapId:e})=>{const t=(0,s.useDispatch)(),n=(0,h.useI18nContext)(),{name:a}=(0,s.useSelector)((t=>(0,u.getSnapMetadata)(t,e))),o=(0,s.useSelector)(u.getMemoizedUnapprovedTemplatedConfirmations),v=(0,s.useSelector)(u.getMemoizedUnapprovedConfirmations),T=(0,i.useHistory)(),{data:E,error:w,loading:_}=(0,b.useSnapHome)({snapId:e}),x=_||w?undefined:null==E?void 0:E.id;return(0,r.useEffect)((()=>()=>x&&t((0,y.deleteInterface)(x))),[x]),(0,r.useEffect)((()=>{const t=o.find((t=>t.origin===e)),n=v.find((t=>t.origin===e));t?T.push(`${g.CONFIRMATION_V_NEXT_ROUTE}/${t.id}`):n&&T.push(`${g.CONFIRM_TRANSACTION_ROUTE}/${n.id}`)}),[o,v,T]),r.default.createElement(l.Box,null,w&&r.default.createElement(d.SnapDelineator,{snapName:a,type:p.DelineatorType.Error},r.default.createElement(l.Text,{variant:f.TextVariant.bodySm,marginBottom:4},n("snapsUIError",[r.default.createElement("b",{key:"0"},a)])),r.default.createElement(m.Copyable,{text:w.message})),(x||_)&&r.default.createElement(c.SnapUIRenderer,{snapId:e,interfaceId:x,isLoading:_}))};n.SnapHomeRenderer=T,T.propTypes={snapId:o.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-home-page/snap-home-renderer.js"}],[4435,{"../../../../store/actions":5592,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapHome=function({snapId:e}){const[t,n]=(0,a.useState)(!0),[o,i]=(0,a.useState)(undefined),[s,l]=(0,a.useState)(undefined);return(0,a.useEffect)((()=>{let t=!1;return async function(){try{l(undefined),n(!0);const a=await(0,r.handleSnapRequest)({snapId:e,origin:"",handler:"onHomePage",request:{jsonrpc:"2.0",method:" "}});t||i(a)}catch(e){t||l(e)}finally{t||n(!1)}}(),()=>t=!0}),[e]),{data:o,error:s,loading:t}};var a=e("react"),r=e("../../../../store/actions")}}},{package:"$root$",file:"ui/components/app/snaps/snap-home-page/useSnapHome.js"}],[4436,{"../../../../helpers/constants/design-system":4976,"../../../../helpers/constants/snaps":4984,"../../../../hooks/useI18nContext":5039,"../../../../selectors":5584,"../../../../store/actions":5592,"../../../component-library":4608,"../../../ui/box/box":4816,"../copyable":4416,"../snap-delineator":4432,"../snap-ui-renderer":4476,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapInsight=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=y(e("prop-types")),o=e("react-redux"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=y(e("../../../ui/box/box")),u=e("../snap-ui-renderer"),d=e("../snap-delineator"),p=e("../../../../helpers/constants/snaps"),f=e("../copyable"),m=e("../../../../selectors"),h=e("../../../../store/actions");function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const b=({snapId:e,data:t,loading:n})=>{var r;const y=(0,o.useDispatch)(),g=(0,l.useI18nContext)(),b=n,v=null==t?void 0:t.error,T=null==t||null===(r=t.response)||void 0===r?void 0:r.id;(0,a.useEffect)((()=>{(async()=>{try{await y((0,h.trackInsightSnapUsage)(e))}catch{}})()}),[e,y]);const{name:E}=(0,o.useSelector)((t=>(0,m.getSnapMetadata)(t,e))),w=!v&&!b&&!T;return a.default.createElement(c.default,{flexDirection:s.FLEX_DIRECTION.COLUMN,height:"full",marginTop:w&&12,marginBottom:w&&12,alignItems:w&&s.AlignItems.center,justifyContent:w&&s.JustifyContent.center,textAlign:w&&s.TextAlign.Center,className:"snap-insight"},!v&&a.default.createElement(c.default,{height:"full",width:"full",flexDirection:s.FLEX_DIRECTION.COLUMN,className:"snap-insight__container"},b||T?a.default.createElement(u.SnapUIRenderer,{snapId:e,interfaceId:T,delineatorType:p.DelineatorType.Insights,isLoading:b}):a.default.createElement(i.Text,{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySm,as:"h6"},g("snapsNoInsight"))),!b&&v&&a.default.createElement(c.default,{padding:4,className:"snap-insight__container__error"},a.default.createElement(d.SnapDelineator,{snapName:E,type:p.DelineatorType.Error},a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,marginBottom:4},g("snapsUIError",[a.default.createElement("b",{key:"0"},E)])),a.default.createElement(f.Copyable,{text:v.message}))))};n.SnapInsight=b,b.propTypes={snapId:r.default.string,data:r.default.object,loading:r.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-insight/snap-insight.js"}],[4437,{"./snap-install-warning":4438},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-install-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/index.js"}],[4438,{"../../../../helpers/constants/design-system":4976,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,"../../permission-cell":4383,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=c(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=c(e("../../permission-cell"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({onCancel:e,onSubmit:t,warnings:n,snapName:r}){const c=(0,o.useI18nContext)(),[u,d]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!0);function m(e,t){const n=function(e){if(1===e.length)return[a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,as:"span",key:"warningMessageSubject"},e[0].warningMessageSubject)];if(2===e.length){const t=e[0].warningMessageSubject,n=e[1].warningMessageSubject;return[a.default.createElement(s.Text,{fontWeight:i.FontWeight.Normal,as:"span",key:"warningMessageSubject"},c("andForTwoItems",[a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t}_and_first`},t),a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${n}_and_second`},n)]))]}return e.map(((t,n)=>e.length-1===n?[]:e.length-2===n?[a.default.createElement(s.Text,{fontWeight:i.FontWeight.Normal,as:"span",key:`${t.permissionName}_and_${n}`},c("andForListItems",[a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t.permissionName}_and_first_${n}`},t.warningMessageSubject),a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t.permissionName}_and_second_first_${n}`},e[e.length-1].warningMessageSubject)]))]:[a.default.createElement("span",{key:`${t.permissionName}_${n}`},a.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,as:"span"},t.warningMessageSubject,", "))]))}(e);return a.default.createElement(s.Box,{as:"span",marginBottom:4},a.default.createElement(l.default,{permissionName:a.default.createElement(s.Text,null,c(t.name,[n])),title:a.default.createElement(s.Text,null,c(t.title,[n])),description:c(t.description,[a.default.createElement(s.Text,{color:i.TextColor.inherit,variant:i.TextVariant.inherit,fontWeight:i.FontWeight.Medium,key:"1"},r)]),weight:1,avatarIcon:s.IconName.Key,key:`snapInstallWarningPermissionCellKeyEntropy_${t.permissionName}`,hideStatus:!0,margin:0}))}const h={name:"snapInstallWarningPermissionNameForViewPublicKey",title:"snapInstallWarningPermissionNameForViewPublicKey",description:"snapInstallWarningPermissionDescriptionForBip32View"},y={name:"snapInstallWarningPermissionNameForEntropy",title:"snapInstallWarningPermissionNameForEntropy",description:"snapInstallWarningPermissionDescriptionForEntropy"},g=n.filter((e=>"snap_getBip32PublicKey"===e.permissionName)),b=n.filter((e=>"snap_getBip32Entropy"===e.permissionName||"snap_getBip44Entropy"===e.permissionName));return a.default.createElement(s.Modal,{onClose:e,isOpen:p,className:"snap-install-warning"},a.default.createElement(s.ModalContent,null,a.default.createElement(s.ModalHeader,{onClose:e},a.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.center,marginBottom:4},a.default.createElement(s.AvatarIcon,{iconName:s.IconName.Danger,backgroundColor:i.BackgroundColor.warningMuted,color:i.IconColor.warningDefault,size:s.AvatarIconSize.Xl}))),a.default.createElement(s.ModalBody,null,a.default.createElement(s.Text,{paddingBottom:4,textAlign:i.TextAlign.Center,variant:i.TextVariant.headingMd,as:"h2"},c("snapInstallWarningHeading")),a.default.createElement(s.Text,{paddingBottom:4,textAlign:i.TextAlign.Left},c("snapInstallWarningCheck",[a.default.createElement(s.Text,{key:"snapNameInWarningDescription",fontWeight:i.FontWeight.Medium,as:"span"},r)])),b.length>0&&m(b,y),g.length>0&&m(g,h),a.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,marginTop:4,padding:4,borderRadius:i.BorderRadius.SM,backgroundColor:u?i.BackgroundColor.infoMuted:i.BackgroundColor.backgroundAlternative},a.default.createElement(s.Checkbox,{isRequired:!0,onChange:()=>d((e=>!e)),isChecked:u,label:a.default.createElement(s.Text,{as:"span"},"Install"," ",a.default.createElement(s.Text,{as:"span",fontWeight:i.FontWeight.Medium},r))}))),a.default.createElement(s.ModalFooter,{onSubmit:function(){f(!1),t()},submitButtonProps:{children:c("confirm"),disabled:!u,"data-testid":"snap-install-warning-modal-confirm"}})))}d.propTypes={onCancel:r.default.func,onSubmit:r.default.func,warnings:r.default.arrayOf({id:r.default.string,permissionName:r.default.string,warningMessageSubject:r.default.oneOfType([r.default.string,r.default.element])}),snapName:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/snap-install-warning.js"}],[4439,{"./snap-legacy-authorship-header":4440},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-legacy-authorship-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-legacy-authorship-header/index.js"}],[4440,{"../../../../helpers/constants/design-system":4976,"../../../../selectors":5584,"../../../component-library":4608,"../snap-avatar":4429,"@metamask/snaps-utils":1924,classnames:2687,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=p(e("classnames")),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),c=e("../../../component-library"),u=e("../../../../selectors"),d=p(e("../snap-avatar"));function p(e){return e&&e.__esModule?e:{default:e}}const f=({snapId:e,className:t,marginLeft:n,marginRight:r})=>{const p=e&&(0,i.stripSnapPrefix)(e),{name:f}=(0,s.useSelector)((t=>(0,u.getSnapMetadata)(t,e)));return a.default.createElement(c.Box,{className:(0,o.default)("snap-legacy-authorship-header",t),backgroundColor:l.BackgroundColor.backgroundDefault,width:l.BlockSize.Full,alignItems:l.AlignItems.center,display:l.Display.Flex,padding:2,borderColor:l.BorderColor.borderDefault,borderRadius:l.BorderRadius.pill,marginLeft:n,marginRight:r},a.default.createElement(c.Box,null,a.default.createElement(d.default,{snapId:e})),a.default.createElement(c.Box,{marginLeft:4,marginRight:4,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{overflow:"hidden"}},a.default.createElement(c.Text,{ellipsis:!0,fontWeight:l.FontWeight.Medium},f),a.default.createElement(c.Text,{ellipsis:!0,variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},p)))};f.propTypes={snapId:r.default.string,className:r.default.string,marginLeft:r.default.number,marginRight:r.default.number};n.default=f}}},{package:"$root$",file:"ui/components/app/snaps/snap-legacy-authorship-header/snap-legacy-authorship-header.js"}],[4441,{"./snap-link-warning":4442},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-link-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-link-warning/index.js"}],[4442,{"../../../../helpers/constants/design-system":4976,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,"../../../component-library/modal-content/deprecated":4616,"../../../component-library/modal-header/deprecated":4625,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../component-library"),i=e("../../../component-library/modal-content/deprecated"),s=e("../../../component-library/modal-header/deprecated"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext");function u(e){return e&&e.__esModule?e:{default:e}}function d({isOpen:e,onClose:t,url:n}){const r=(0,c.useI18nContext)(),u=n&&new URL(n),d=u&&n.split(u.host);return a.default.createElement(o.Modal,{isOpen:e,onClose:t},a.default.createElement(o.ModalOverlay,null),a.default.createElement(i.ModalContent,{modalDialogProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4}},a.default.createElement(s.ModalHeader,{onClose:t,childrenWrapperProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,gap:2}},a.default.createElement(o.Icon,{name:o.IconName.Danger,color:l.IconColor.warningDefault,size:o.AvatarIconSize.Xl}),a.default.createElement(o.Text,{variant:l.TextVariant.headingMd},r("leaveMetaMask")),a.default.createElement(o.Text,{textAlign:l.TextAlign.Center},r("leaveMetaMaskDesc"))),a.default.createElement(o.ButtonLink,{externalLink:!0,href:n,width:l.BlockSize.Full,textProps:{width:l.BlockSize.Full}},a.default.createElement(o.Box,{display:l.Display.Flex,FlexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundAlternative,borderColor:l.BorderColor.borderDefault,borderStyle:l.BorderStyle.solid,borderRadius:l.BorderRadius.MD,paddingTop:3,paddingBottom:3,paddingRight:4,paddingLeft:4,width:l.BlockSize.Full},u&&a.default.createElement(o.Text,{ellipsis:!0,style:{overflow:"hidden"},color:l.TextColor.primaryDefault},d[0],a.default.createElement("b",null,u.host),d[1]),a.default.createElement(o.Icon,{name:o.IconName.Export,color:l.IconColor.iconAlternative,marginLeft:2}))),a.default.createElement(o.Box,{width:l.BlockSize.Full,display:l.Display.Flex,gap:4},a.default.createElement(o.Button,{block:!0,variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Lg,onClick:t},r("back")),a.default.createElement(o.Button,{block:!0,size:o.ButtonSize.Lg,"data-testid":"modalSnapLinkButton",href:n,externalLink:!0,onClick:t},r("visitSite")))))}d.propTypes={isOpen:r.default.bool,onClose:r.default.func,url:r.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-link-warning/snap-link-warning.js"}],[4443,{"./snap-list-item":4444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-list-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-list-item/index.js"}],[4444,{"../../../../helpers/constants/design-system":4976,"../../../component-library":4608,"../snap-avatar":4429,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=l(e("../snap-avatar"));function l(e){return e&&e.__esModule?e:{default:e}}const c=({name:e,packageName:t,onClick:n,snapId:r,showUpdateDot:l})=>a.default.createElement(i.Box,{className:"snap-list-item","data-testid":r,display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.spaceBetween,width:o.BlockSize.Full,padding:4,onClick:n},a.default.createElement(i.Box,{className:"snap-list-item__inner-wrapper",display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.flexStart,width:o.BlockSize.Full},a.default.createElement(i.Box,null,a.default.createElement(s.default,{snapId:r})),a.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,width:o.BlockSize.Full,style:{overflow:"hidden"}},a.default.createElement(i.Text,{className:"snap-list-item__title",color:o.Color.textDefault,variant:o.TextVariant.bodyMd,ellipsis:!0},e),a.default.createElement(i.Text,{className:"snap-list-item__url",color:o.Color.textAlternative,variant:o.TextVariant.bodySm,ellipsis:!0},t))),l&&a.default.createElement(i.Box,{display:o.Display.Flex},a.default.createElement(i.Icon,{name:i.IconName.FullCircle,size:i.IconSize.Xs,color:o.IconColor.primaryDefault})));c.propTypes={name:r.default.string,packageName:r.default.string,onClick:r.default.func,snapId:r.default.string.isRequired,showUpdateDot:r.default.bool};n.default=c}}},{package:"$root$",file:"ui/components/app/snaps/snap-list-item/snap-list-item.js"}],[4445,{"./snap-metadata-modal":4446},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapMetadataModal",{enumerable:!0,get:function(){return a.SnapMetadataModal}});var a=e("./snap-metadata-modal")}}},{package:"$root$",file:"ui/components/app/snaps/snap-metadata-modal/index.js"}],[4446,{"../../../../helpers/constants/design-system":4976,"../../../../helpers/constants/snaps":4984,"../../../../helpers/utils/util":5018,"../../../../hooks/snaps/useSafeWebsite":5023,"../../../../hooks/useI18nContext":5039,"../../../../hooks/useOriginMetadata":5045,"../../../../selectors":5584,"../../../component-library":4608,"../../../ui/tooltip":4936,"../show-more":4423,"../snap-avatar":4429,"../snap-delineator":4432,"../snap-version/snap-external-pill":4481,"@metamask/snaps-utils":1924,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapMetadataModal=void 0;var a=T(e("react")),r=T(e("prop-types")),o=e("react-redux"),i=e("@metamask/snaps-utils"),s=e("../../../../selectors"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=T(e("../snap-avatar")),d=e("../../../../helpers/utils/util"),p=e("../../../../hooks/useI18nContext"),f=e("../../../../hooks/useOriginMetadata"),m=e("../snap-delineator"),h=e("../../../../helpers/constants/snaps"),y=e("../show-more"),g=T(e("../snap-version/snap-external-pill")),b=e("../../../../hooks/snaps/useSafeWebsite"),v=T(e("../../../ui/tooltip"));function T(e){return e&&e.__esModule?e:{default:e}}const E=({snapId:e,isOpen:t,onClose:n})=>{const r=(0,p.useI18nContext)(),T=(0,o.useSelector)((t=>(0,s.getTargetSubjectMetadata)(t,e))),{name:E,description:w}=(0,o.useSelector)((t=>(0,s.getSnapMetadata)(t,e))),_=(0,o.useSelector)((t=>(0,s.getSnap)(t,e))),x=(null==_?void 0:_.versionHistory)??[],O=x.length?x[x.length-1]:undefined,S=(0,f.useOriginMetadata)(null==O?void 0:O.origin),C=(0,i.getSnapPrefix)(e),k=(0,i.stripSnapPrefix)(e),I="npm:"===C,N=null!=T&&T.version?`/v/${null==T?void 0:T.version}`:"",M=I?`https://www.npmjs.com/package/${k}${N}`:k,P=(0,o.useSelector)((t=>(0,s.getSnapRegistryData)(t,e))),{website:A=undefined}=(null==P?void 0:P.metadata)??{},R=(0,b.useSafeWebsite)(A);return a.default.createElement(l.Modal,{isOpen:t,onClose:n,className:"snap-metadata-modal"},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,{modalDialogProps:{display:c.Display.Flex,flexDirection:c.FlexDirection.Column}},a.default.createElement(l.ModalHeader,{onClose:n,childrenWrapperProps:{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,gap:2,marginBottom:6}},a.default.createElement(l.Box,null,a.default.createElement(u.default,{snapId:e})),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,textAlign:c.TextAlign.Center},E)),a.default.createElement(l.Box,{marginLeft:4,marginRight:4},R&&a.default.createElement(l.Box,{display:c.Display.Flex,FlexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:4},r("snapDetailWebsite")),a.default.createElement(l.ButtonLink,{overflowWrap:c.OverflowWrap.Anywhere,href:R.toString(),target:"_blank",externalLink:!0,textAlign:c.TextAlign.End,ellipsis:!0},R.host)),S&&a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap,marginTop:4},a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,marginRight:4},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:1},r("installOrigin")),O&&a.default.createElement(v.default,{html:r("installedOn",[(0,d.formatDate)(O.date,"dd MMM yyyy")]),position:"bottom"},a.default.createElement(l.Icon,{color:c.IconColor.iconMuted,name:l.IconName.Info,size:l.IconSize.Sm}))),a.default.createElement(l.Text,{ellipsis:!0},S.host)),a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap,marginTop:4},a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,marginRight:4},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:1},r("source")),a.default.createElement(v.default,{html:r("metadataModalSourceTooltip",[a.default.createElement(l.Text,{key:"snap-name",fontWeight:c.FontWeight.Medium,variant:c.TextVariant.inherit},E),a.default.createElement(l.Text,{key:"snap-id",fontWeight:c.FontWeight.Medium,variant:c.TextVariant.inherit},k)]),position:"bottom"},a.default.createElement(l.Icon,{color:c.IconColor.iconMuted,name:l.IconName.Info,size:l.IconSize.Sm}))),a.default.createElement(g.default,{value:k,url:M})),a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap,marginTop:4},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:4},r("version")),a.default.createElement(l.Text,{ellipsis:!0},null==T?void 0:T.version)),a.default.createElement(m.SnapDelineator,{type:h.DelineatorType.Description,snapName:E,boxProps:{marginTop:4}},a.default.createElement(y.ShowMore,null,a.default.createElement(l.Text,null,w))))))};n.SnapMetadataModal=E,E.propTypes={snapId:r.default.string,isOpen:r.default.bool,onClose:r.default.func}}}},{package:"$root$",file:"ui/components/app/snaps/snap-metadata-modal/snap-metadata-modal.js"}],[4447,{"./snap-permissions-list":4448},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-permissions-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/index.js"}],[4448,{"../../../../helpers/utils/permission":5012,"../../../../helpers/utils/util":5018,"../../../../hooks/useI18nContext":5039,"../../../../selectors":5584,"../../../component-library":4608,"../../permission-cell":4383,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),i=e("../../../../helpers/utils/permission"),s=e("../../../../hooks/useI18nContext"),l=p(e("../../permission-cell")),c=e("../../../component-library"),u=e("../../../../selectors"),d=e("../../../../helpers/utils/util");function p(e){return e&&e.__esModule?e:{default:e}}function f({snapId:e,snapName:t,permissions:n,showOptions:r}){const p=(0,s.useI18nContext)(),f=(0,o.useSelector)(u.getSnapsMetadata);return a.default.createElement(c.Box,{className:"snap-permissions-list"},(0,i.getWeightedPermissions)({t:p,permissions:n,subjectName:t,getSubjectName:(0,d.getSnapName)(f)}).map(((t,n)=>{var o;return a.default.createElement(l.default,{snapId:e,permissionName:t.permissionName,title:t.label,description:t.description,weight:t.weight,avatarIcon:t.leftIcon,dateApproved:null==t||null===(o=t.permissionValue)||void 0===o?void 0:o.date,key:`${t.permissionName}-${n}`,showOptions:r})})))}f.propTypes={snapId:r.default.string.isRequired,snapName:r.default.string.isRequired,permissions:r.default.object.isRequired,showOptions:r.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/snap-permissions-list.js"}],[4449,{"./snap-privacy-warning":4450},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-privacy-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/index.js"}],[4450,{"../../../../../shared/constants/terms":4200,"../../../../helpers/constants/design-system":4976,"../../../../hooks/useI18nContext":5039,"../../../../hooks/useScrollRequired":5049,"../../../component-library":4608,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useScrollRequired"),c=e("../../../../../shared/constants/terms");function u(e){return e&&e.__esModule?e:{default:e}}function d({onAccepted:e,onCanceled:t}){const n=(0,o.useI18nContext)(),{isScrollable:r,isScrolledToBottom:u,scrollToBottom:d,ref:p,onScroll:f}=(0,l.useScrollRequired)();return a.default.createElement(i.Modal,{onClose:()=>null,isOpen:!0,className:"snap-install-warning"},a.default.createElement(i.ModalContent,null,a.default.createElement(i.ModalBody,{className:"snap-privacy-warning"},a.default.createElement(i.Box,null,a.default.createElement(i.Box,{className:"snap-privacy-warning__header"},a.default.createElement(i.Box,{marginTop:4,className:"snap-privacy-warning__header__info-icon",display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},a.default.createElement(i.AvatarIcon,{iconName:i.IconName.Info,color:s.IconColor.infoDefault,backgroundColor:s.BackgroundColor.primaryMuted,size:i.AvatarIconSize.Md})),a.default.createElement(i.Box,{className:"snap-privacy-warning__header__title",marginTop:4,marginBottom:4,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},a.default.createElement(i.Text,{variant:s.TextVariant.headingMd,fontWeight:s.FontWeight.Bold},n("thirdPartySoftware")))),a.default.createElement(i.Box,{className:"snap-privacy-warning__content",ref:p,onScroll:f},a.default.createElement(i.Box,{className:"snap-privacy-warning__message"},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},n("snapsPrivacyWarningFirstMessage",[a.default.createElement(i.ButtonLink,{className:"snap-privacy-warning__content__terms-link",key:"privacyNoticeTermsOfUseLink",size:i.ButtonLinkSize.Inherit,href:c.TERMS_OF_USE_LINK,target:"_blank"},"",n("snapsTermsOfUse"),"")])),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,paddingTop:6},n("snapsPrivacyWarningSecondMessage")),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Bold,paddingTop:6},n("snapsPrivacyWarningThirdMessage"))),r&&!u?a.default.createElement(i.AvatarIcon,{className:"snap-privacy-warning__content__scroll-button","data-testid":"snap-privacy-warning-scroll",iconName:i.IconName.Arrow2Down,backgroundColor:s.BackgroundColor.infoDefault,color:s.IconColor.primaryInverse,onClick:d,style:{cursor:"pointer"}}):null))),a.default.createElement(i.ModalFooter,{onSubmit:e,onCancel:t,submitButtonProps:{children:n("accept"),disabled:!u},cancelButtonProps:{children:n("cancel")}})))}d.propTypes={onAccepted:r.default.func.isRequired,onCanceled:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js"}],[4451,{"./snap-remove-warning":4452},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-remove-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/index.js"}],[4452,{"../../../../helpers/constants/design-system":4976,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,"../../../component-library/modal-content/deprecated":4616,"../../../component-library/modal-header/deprecated":4625,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../component-library/modal-content/deprecated"),l=e("../../../component-library/modal-header/deprecated"),c=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d({isOpen:e,onCancel:t,onSubmit:n,snapName:r}){const u=(0,o.useI18nContext)();return a.default.createElement(i.Modal,{isOpen:e,onClose:t},a.default.createElement(i.ModalOverlay,null),a.default.createElement(s.ModalContent,{modalDialogProps:{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4}},a.default.createElement(l.ModalHeader,{onClose:t},u("pleaseConfirm")),a.default.createElement(i.Text,null,u("removeSnapConfirmation",[r])),a.default.createElement(i.Box,{width:c.BlockSize.Full,display:c.Display.Flex,gap:4},a.default.createElement(i.Button,{block:!0,variant:i.BUTTON_VARIANT.SECONDARY,size:i.BUTTON_SIZES.LG,onClick:t},u("cancel")),a.default.createElement(i.Button,{block:!0,size:i.BUTTON_SIZES.LG,id:"popoverRemoveSnapButton",danger:!0,onClick:n},u("removeSnap")))))}d.propTypes={onCancel:r.default.func,onSubmit:r.default.func,snapName:r.default.string,isOpen:r.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/snap-remove-warning.js"}],[4453,{"./snap-ui-button":4454},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-button");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-button/index.ts"}],[4454,{"../../../../contexts/snaps":4951,"../../../component-library":4608,"@metamask/snaps-sdk":1888,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIButton=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("@metamask/snaps-sdk"),i=e("../../../component-library"),s=e("../../../../contexts/snaps");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}n.SnapUIButton=({name:e,children:t,type:n,...a})=>{const{handleEvent:c}=(0,s.useSnapInterfaceContext)();return r.default.createElement(i.Button,l({className:"snap-ui-renderer__button",id:e,type:n,onClick:t=>{n===o.ButtonType.Button&&t.preventDefault(),c({event:o.UserInputEventType.ButtonClickEvent,name:e})},block:!0},a),t)}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-button/snap-ui-button.tsx"}],[4455,{"./snap-ui-form":4456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-form");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-form/index.ts"}],[4456,{"../../../../contexts/snaps":4951,"../../../../helpers/constants/design-system":4976,"../../../component-library":4608,"@metamask/snaps-sdk":1888,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIForm=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("@metamask/snaps-sdk"),i=e("../../../../contexts/snaps"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system");n.SnapUIForm=({children:e,name:t})=>{const{handleEvent:n}=(0,i.useSnapInterfaceContext)();return r.default.createElement(s.Box,{as:"form",className:"snap-ui-renderer__form",onSubmit:e=>{e.preventDefault(),n({event:o.UserInputEventType.FormSubmitEvent,name:t})},id:t,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2},e)}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-form/snap-ui-form.tsx"}],[4457,{"./snap-ui-image":4458},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-image");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-image/index.ts"}],[4458,{react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIImage=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a};n.SnapUIImage=({value:e})=>{const t=`data:image/svg+xml;utf8,${encodeURIComponent(e)}`;return r.default.createElement("img",{src:t})}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-image/snap-ui-image.tsx"}],[4459,{"./snap-ui-input":4460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-ui-input");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-input/index.ts"}],[4460,{"../../../../contexts/snaps":4951,"../../../component-library":4608,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIInput=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../contexts/snaps"),o=e("../../../component-library");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}n.SnapUIInput=({name:e,form:t,...n})=>{const{handleInputChange:i,getValue:l}=(0,r.useSnapInterfaceContext)(),c=l(e,t),[u,d]=(0,a.useState)(c??"");(0,a.useEffect)((()=>{c&&d(c)}),[c]);return a.default.createElement(o.FormTextField,s({className:"snap-ui-renderer__input",id:e,value:u,onChange:n=>{d(n.target.value),i(e,n.target.value??null,t)}},n))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-input/snap-ui-input.tsx"}],[4461,{"./snap-ui-markdown":4462},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapUIMarkdown",{enumerable:!0,get:function(){return a.SnapUIMarkdown}});var a=e("./snap-ui-markdown")}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-markdown/index.js"}],[4462,{"../../../../helpers/constants/design-system":4976,"../../../component-library":4608,"../snap-link-warning":4441,"prop-types":3665,react:3878,"react-markdown":3820},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIMarkdown=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=c(e("prop-types")),o=c(e("react-markdown")),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=c(e("../snap-link-warning"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}const p=e=>a.default.createElement(s.Text,d({},e,{variant:i.TextVariant.bodyMd,className:"snap-ui-markdown__text",overflowWrap:i.OverflowWrap.Anywhere,color:i.TextColor.inherit})),f=({onClick:e,children:t,...n})=>a.default.createElement(s.ButtonLink,d({},n,{as:"a",onClick:e,externalLink:!0,size:s.ButtonLinkSize.Inherit,display:i.Display.Inline,className:"snap-ui-markdown__link"}),t,a.default.createElement(s.Icon,{name:s.IconName.Export,size:s.IconSize.Inherit,marginLeft:1})),m=({children:e,markdown:t})=>{const[n,r]=(0,a.useState)(undefined);if(!1===t)return a.default.createElement(p,null,e);return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{isOpen:Boolean(n),onClose:()=>{r(undefined)},url:n}),a.default.createElement(o.default,{allowedElements:["p","strong","em","a"],components:{p:p,a:({children:e,href:t})=>a.default.createElement(f,{onClick:()=>{r(t)}},e??t)}},e))};n.SnapUIMarkdown=m,m.propTypes={children:r.default.string,markdown:r.default.bool},f.propTypes={onClick:r.default.func,children:r.default.node}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-markdown/snap-ui-markdown.js"}],[4463,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.address=void 0;n.address=({element:e})=>({element:"ConfirmInfoRowAddress",props:{address:e.value,isSnapUsingThis:!0}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/address.ts"}],[4464,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.button=void 0;n.button=({element:e})=>({element:"SnapUIButton",props:{type:e.buttonType,variant:e.variant,name:e.name},children:e.value})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/button.ts"}],[4465,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.copyable=void 0;n.copyable=({element:e})=>({element:"Copyable",props:{text:e.value,sensitive:e.sensitive}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/copyable.ts"}],[4466,{"../../../../../helpers/constants/design-system":4976},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.divider=void 0;var a=e("../../../../../helpers/constants/design-system");n.divider=()=>({element:"Box",props:{className:"snap-ui-renderer__divider",backgroundColor:a.BorderColor.borderDefault}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/divider.ts"}],[4467,{"../utils":4478},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.form=void 0;var a=e("../utils");n.form=({element:e,...t})=>({element:"SnapUIForm",children:e.children.map((n=>(0,a.mapToTemplate)({element:n,form:e.name,...t}))),props:{name:e.name}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/form.ts"}],[4468,{"../../../../../helpers/constants/design-system":4976},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.heading=void 0;var a=e("../../../../../helpers/constants/design-system");n.heading=({element:e})=>({element:"Text",children:e.value,props:{variant:a.TextVariant.headingSm,overflowWrap:a.OverflowWrap.Anywhere}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/heading.ts"}],[4469,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.image=void 0;n.image=({element:e})=>({element:"SnapUIImage",props:{value:e.value}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/image.ts"}],[4470,{"./address":4463,"./button":4464,"./copyable":4465,"./divider":4466,"./form":4467,"./heading":4468,"./image":4469,"./input":4471,"./panel":4472,"./row":4473,"./spinner":4474,"./text":4475},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.COMPONENT_MAPPING=void 0;var a=e("./panel"),r=e("./heading"),o=e("./text"),i=e("./divider"),s=e("./spinner"),l=e("./image"),c=e("./row"),u=e("./address"),d=e("./copyable"),p=e("./button"),f=e("./form"),m=e("./input");n.COMPONENT_MAPPING={panel:a.panel,heading:r.heading,text:o.text,divider:i.divider,spinner:s.spinner,image:l.image,copyable:d.copyable,row:c.row,address:u.address,button:p.button,form:f.form,input:m.input}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/index.ts"}],[4471,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.input=void 0;n.input=({element:e,form:t})=>({element:"SnapUIInput",props:{id:e.name,placeholder:e.placeholder,label:e.label,textFieldProps:{type:e.inputType},name:e.name,form:t,error:e.error!==undefined,helpText:e.error}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/input.ts"}],[4472,{"../../../../../helpers/constants/design-system":4976,"../utils":4478},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.panel=void 0;var a=e("../../../../../helpers/constants/design-system"),r=e("../utils");n.panel=({element:e,...t})=>({element:"Box",children:e.children.map((e=>(0,r.mapToTemplate)({...t,element:e}))),props:{display:a.Display.Flex,flexDirection:a.FlexDirection.Column,className:"snap-ui-renderer__panel",color:a.TextColor.textDefault}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/panel.ts"}],[4473,{"../utils":4478},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.row=void 0;var a=e("../utils");n.row=({element:e,...t})=>({element:"ConfirmInfoRow",children:[(0,a.mapToTemplate)({element:e.value,...t})],props:{label:e.label,variant:e.variant,style:{marginLeft:"-8px",marginRight:"-8px",marginTop:"0px",marginBottom:"0px"}}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/row.ts"}],[4474,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.spinner=void 0;n.spinner=()=>({element:"Spinner",props:{className:"snap-ui-renderer__spinner"}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/spinner.ts"}],[4475,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.text=void 0;n.text=({element:e})=>({element:"SnapUIMarkdown",children:e.value,props:{markdown:e.markdown}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/text.ts"}],[4476,{"./snap-ui-renderer":4477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapUIRenderer",{enumerable:!0,get:function(){return a.SnapUIRenderer}});var a=e("./snap-ui-renderer")}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/index.js"}],[4477,{"../../../../contexts/snaps":4951,"../../../../helpers/constants/design-system":4976,"../../../../helpers/constants/snaps":4984,"../../../../hooks/useI18nContext":5039,"../../../../selectors":5584,"../../../component-library":4608,"../../metamask-template-renderer/metamask-template-renderer":4314,"../copyable":4416,"../snap-delineator":4432,"./utils":4478,"@metamask/snaps-sdk":1888,lodash:3509,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIRenderer=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=b(e("prop-types")),o=e("@metamask/snaps-sdk"),i=e("react-redux"),s=e("lodash"),l=b(e("../../metamask-template-renderer/metamask-template-renderer")),c=e("../../../../helpers/constants/design-system"),u=e("../snap-delineator"),d=e("../../../../hooks/useI18nContext"),p=e("../../../../selectors"),f=e("../../../component-library"),m=e("../copyable"),h=e("../../../../helpers/constants/snaps"),y=e("../../../../contexts/snaps"),g=e("./utils");function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const T=({snapId:e,delineatorType:t=h.DelineatorType.Content,isCollapsable:n=!1,isCollapsed:r=!1,isLoading:s=!1,isPrompt:b=!1,inputValue:v,onInputChange:T,placeholder:E,onClick:w,boxProps:_,interfaceId:x})=>{const O=(0,d.useI18nContext)(),{name:S}=(0,i.useSelector)((t=>(0,p.getSnapMetadata)(t,e))),C=(0,i.useSelector)((e=>(0,p.getMemoizedInterfaceContent)(e,x))),k=C&&(0,o.isComponent)(C),I=(0,a.useMemo)((()=>k&&(0,g.mapToTemplate)({map:{},element:C})),[C,k]);return s||!C?a.default.createElement(u.SnapDelineator,{snapName:S,type:t,isCollapsable:n,isCollapsed:r,onClick:w,boxProps:_,isLoading:!0}):k?a.default.createElement(u.SnapDelineator,{snapName:S,type:t,isCollapsable:n,isCollapsed:r,onClick:w,boxProps:_},a.default.createElement(f.Box,{className:"snap-ui-renderer__content"},a.default.createElement(y.SnapInterfaceContextProvider,{snapId:e,interfaceId:x},a.default.createElement(l.default,{sections:I})),b&&a.default.createElement(f.FormTextField,{marginTop:4,className:"snap-prompt-input",maxLength:300,value:v,onChange:T,placeholder:E}))):a.default.createElement(u.SnapDelineator,{isCollapsable:n,isCollapsed:r,snapName:S,type:h.DelineatorType.Error,onClick:w,boxProps:_},a.default.createElement(f.Text,{variant:c.TextVariant.bodySm,marginBottom:4},O("snapsUIError",[a.default.createElement("b",{key:"0"},S)])),a.default.createElement(m.Copyable,{text:O("snapsInvalidUIError")}))};n.SnapUIRenderer=(0,a.memo)(T,((e,t)=>(0,s.isEqual)(e,t)));T.propTypes={snapId:r.default.string,delineatorType:r.default.string,isCollapsable:r.default.bool,isCollapsed:r.default.bool,isLoading:r.default.bool,isPrompt:r.default.bool,inputValue:r.default.string,onInputChange:r.default.func,placeholder:r.default.string,onClick:r.default.func,boxProps:r.default.object,interfaceId:r.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/snap-ui-renderer.js"}],[4478,{"./components":4470,"@metamask/utils":2007,"@noble/hashes/sha256":2043,lodash:3509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapToTemplate=void 0;var a=e("lodash"),r=e("@noble/hashes/sha256"),o=e("@metamask/utils"),i=e("./components");const s=(0,a.memoize)((e=>{const{type:t,name:n}=e,a="string"==typeof e.value?e.value.slice(0,5e3):e.value;return(0,o.remove0x)((0,o.bytesToHex)((0,r.sha256)(JSON.stringify({type:t,name:n??null,value:a}))))}));n.mapToTemplate=e=>{const{type:t}=e.element,n=function(e,t){const n=s(t),a=(e[n]??0)+1;return e[n]=a,`${n}_${a}`}(e.map,e.element);return{...i.COMPONENT_MAPPING[t](e),key:n}}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/utils.ts"}],[4479,{"./snap-update-alert":4480},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./snap-update-alert"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/snap-update-alert/index.js"}],[4480,{"../../../../helpers/constants/design-system":4976,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}const u=({snapName:e,onUpdateClick:t,bannerAlertProps:n})=>{const r=(0,s.useI18nContext)();return a.default.createElement(o.BannerAlert,c({title:r("snapUpdateAvailable"),actionButtonLabel:r("update"),actionButtonOnClick:t,actionButtonProps:{endIconName:o.IconName.Download,color:i.TextColor.primaryDefault}},n),a.default.createElement(o.Text,null,r("snapUpdateAlertDescription",[e])))};u.propTypes={snapName:r.default.string.isRequired,onUpdateClick:r.default.func.isRequired,bannerAlertProps:r.default.object};n.default=u}}},{package:"$root$",file:"ui/components/app/snaps/snap-update-alert/snap-update-alert.js"}],[4481,{"../../../../helpers/constants/design-system":4976,"../../../component-library":4608,"../../../ui/icon/preloader/preloader-icon.component":4862,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=l(e("../../../ui/icon/preloader/preloader-icon.component"));function l(e){return e&&e.__esModule?e:{default:e}}const c=({value:e,url:t})=>a.default.createElement(i.ButtonLink,{href:t,target:"_blank",className:"snap-external-pill",ellipsis:!0},a.default.createElement(i.Box,{className:"snap-external-pill__wrapper",display:o.Display.Flex,flexDirection:o.FlexDirection.Row,alignItems:o.AlignItems.center,backgroundColor:o.BackgroundColor.backgroundAlternative,borderRadius:o.BorderRadius.pill,paddingTop:1,paddingBottom:1,paddingLeft:2,paddingRight:2},e?a.default.createElement(i.Text,{color:o.Color.textAlternative,variant:o.TextVariant.bodyMd,ellipsis:!0},e):a.default.createElement(s.default,{size:18}),a.default.createElement(i.Icon,{name:i.IconName.Export,color:o.Color.textAlternative,size:i.IconSize.Sm,marginLeft:1})));c.propTypes={value:r.default.string,url:r.default.string};n.default=c}}},{package:"$root$",file:"ui/components/app/snaps/snap-version/snap-external-pill.js"}],[4482,{"./update-snap-permission-list":4483},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./update-snap-permission-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/snaps/update-snap-permission-list/index.js"}],[4483,{"../../../../helpers/utils/permission":5012,"../../../../helpers/utils/util":5018,"../../../../hooks/useI18nContext":5039,"../../../../selectors":5584,"../../../component-library":4608,"../../permission-cell":4383,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=p(e("react")),r=e("react-redux"),o=p(e("prop-types")),i=e("../../../../helpers/utils/permission"),s=e("../../../../hooks/useI18nContext"),l=p(e("../../permission-cell")),c=e("../../../component-library"),u=e("../../../../selectors"),d=e("../../../../helpers/utils/util");function p(e){return e&&e.__esModule?e:{default:e}}function f({approvedPermissions:e,revokedPermissions:t,newPermissions:n,targetSubjectMetadata:o}){const p=(0,s.useI18nContext)(),{name:f}=(0,r.useSelector)((e=>(0,u.getSnapMetadata)(e,o.origin))),m=(0,r.useSelector)(u.getSnapsMetadata),h=(0,d.getSnapName)(m);return a.default.createElement(c.Box,null,(0,i.getWeightedPermissions)({t:p,permissions:n,subjectName:f,getSubjectName:h}).map(((e,t)=>{var n;return a.default.createElement(l.default,{permissionName:e.permissionName,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,dateApproved:null==e||null===(n=e.permissionValue)||void 0===n?void 0:n.date,key:`${e.permissionName}-${t}`})})),(0,i.getWeightedPermissions)({t:p,permissions:t,subjectName:f,getSubjectName:h}).map(((e,t)=>{var n;return a.default.createElement(l.default,{permissionName:e.permissionName,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,dateApproved:null==e||null===(n=e.permissionValue)||void 0===n?void 0:n.date,key:`${e.permissionName}-${t}`,revoked:!0})})),(0,i.getWeightedPermissions)({t:p,permissions:e,subjectName:f,getSubjectName:h}).map(((e,t)=>{var n;return a.default.createElement(l.default,{permissionName:e.permissionName,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,dateApproved:null==e||null===(n=e.permissionValue)||void 0===n?void 0:n.date,key:`${e.permissionName}-${t}`})})))}f.propTypes={approvedPermissions:o.default.object.isRequired,revokedPermissions:o.default.object.isRequired,newPermissions:o.default.object.isRequired,targetSubjectMetadata:o.default.object.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/update-snap-permission-list/update-snap-permission-list.js"}],[4484,{"./srp-input":4486},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./srp-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/srp-input/index.js"}],[4485,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseSecretRecoveryPhrase=void 0;n.parseSecretRecoveryPhrase=e=>{var t;return(null===(t=(e||"").trim().toLowerCase().match(/\w+/gu))||void 0===t?void 0:t.join(" "))||""}}}},{package:"$root$",file:"ui/components/app/srp-input/parse-secret-recovery-phrase.js"}],[4486,{"../../../helpers/constants/design-system":4976,"../../../helpers/utils/util":5018,"../../../hooks/useI18nContext":5039,"../../component-library":4608,"../../ui/dropdown":4843,"../../ui/show-hide-toggle":4913,"../../ui/text-field":4925,"./parse-secret-recovery-phrase":4485,"@ethersproject/hdnode":463,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=e("@ethersproject/hdnode"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=m(e("prop-types")),i=e("../../../hooks/useI18nContext"),s=m(e("../../ui/text-field")),l=e("../../../helpers/utils/util"),c=e("../../component-library"),u=m(e("../../ui/dropdown")),d=m(e("../../ui/show-hide-toggle")),p=e("../../../helpers/constants/design-system"),f=e("./parse-secret-recovery-phrase");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=12,g=e=>e!==e.toLowerCase();function b({onChange:e,srpText:t}){const[n,o]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[b,v]=(0,r.useState)(new Array(y).fill("")),[T,E]=(0,r.useState)(new Array(y).fill(!1)),[w,_]=(0,r.useState)(y),x=(0,i.useI18nContext)(),O=(0,r.useCallback)((t=>{let n="";const r=t.join(" ").trim();t.some((e=>""!==e))&&(t.some((e=>""===e))?n=x("seedPhraseReq"):g(r)?n=x("invalidSeedPhraseCaseSensitive"):(0,a.isValidMnemonic)(r)||(n=x("invalidSeedPhrase"))),v(t),o(n),e(n?"":r)}),[v,o,x,e]),S=(0,r.useCallback)((e=>{E((t=>{const n=t.slice();return n[e]?n[e]=!1:(n.fill(!1),n[e]=!0),n}))}),[]),C=(0,r.useCallback)(((e,t)=>{m&&h(!1);const n=b.slice();n[e]=t.trim(),O(n)}),[b,O,m]),k=(0,r.useCallback)((e=>{let t=(0,f.parseSecretRecoveryPhrase)(e).split(" ");if(t.length>24)return void h(!0);m&&h(!1);let n=w;t.length!==w&&(n=t.length<12?12:t.length%3==0?t.length:t.length+(3-t.length%3),_(n)),t.length<n&&(t=t.concat(new Array(n-t.length).fill(""))),E(new Array(n).fill(!1)),O(t),(0,l.clearClipboard)()}),[w,O,m,h]),I=[];for(let e=12;e<=24;e+=3)I.push({name:x("srpInputNumberOfWords",[`${e}`]),value:`${e}`});return r.default.createElement("div",{className:"import-srp__container"},r.default.createElement("label",{className:"import-srp__srp-label"},r.default.createElement(c.Text,{align:p.TextAlign.Left,variant:p.TextVariant.headingSm,as:"h4"},t)),r.default.createElement(c.BannerAlert,{className:"import-srp__paste-tip",severity:p.Severity.Info,description:x("srpPasteTip"),descriptionProps:{className:"import-srp__banner-alert-text"}}),r.default.createElement(u.default,{className:"import-srp__number-of-words-dropdown",onChange:e=>{const t=parseInt(e,10);if(Number.isNaN(t))throw new Error("Unable to parse option as integer");let n=b.slice(0,t);n.length<t&&(n=n.concat(new Array(t-n.length).fill(""))),_(t),E(new Array(t).fill(!1)),O(n)},options:I,selectedOption:`${w}`}),r.default.createElement("div",{className:"import-srp__srp"},[...Array(w).keys()].map((e=>{const t=`import-srp__srp-word-${e}`;return r.default.createElement("div",{key:e,className:"import-srp__srp-word"},r.default.createElement("label",{htmlFor:t,className:"import-srp__srp-word-label"},r.default.createElement(c.Text,null,`${e+1}.`)),r.default.createElement(s.default,{id:t,"data-testid":t,type:T[e]?"text":"password",onChange:t=>{t.preventDefault(),C(e,t.target.value)},value:b[e],autoComplete:"off",onPaste:e=>{const t=e.clipboardData.getData("text");t.trim().match(/\s/u)&&(e.preventDefault(),k(t))}}),r.default.createElement(d.default,{id:`${t}-checkbox`,ariaLabelHidden:x("srpWordHidden"),ariaLabelShown:x("srpWordShown"),shown:T[e],"data-testid":`${t}-checkbox`,onChange:()=>S(e),title:x("srpToggleShow")}))}))),n?r.default.createElement(c.BannerAlert,{className:"import-srp__srp-error",severity:p.Severity.Danger,description:n,descriptionProps:{className:"import-srp__banner-alert-text"}}):null,m?r.default.createElement(c.BannerAlert,{className:"import-srp__srp-too-many-words-error",severity:p.Severity.Danger,actionButtonLabel:x("dismiss"),actionButtonOnClick:()=>h(!1),description:x("srpPasteFailedTooManyWords"),descriptionProps:{className:"import-srp__banner-alert-text"}}):null)}b.propTypes={onChange:o.default.func.isRequired,srpText:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/srp-input/srp-input.js"}],[4487,{"../../../../helpers/constants/design-system":4976,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({icon:e,image:t,content:n,moreContent:a,buttons:l}){const c=(0,i.useI18nContext)();return r.default.createElement(r.default.Fragment,null,e&&r.default.createElement(s.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Row,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center},e),t&&r.default.createElement(s.Box,{display:o.Display.Flex,margin:"auto",textAlign:o.TextAlign.Center},r.default.createElement("img",{src:t,alt:c("srpSecurityQuizImgAlt"),width:"300",style:{maxWidth:"100%"}})),r.default.createElement(s.Text,{variant:o.TextVariant.bodyLgMedium,textAlign:o.TextAlign.Center,color:null==e?void 0:e.props.color},n),a&&r.default.createElement(s.Text,{variant:o.TextVariant.bodyMd,textAlign:o.TextAlign.Center},a),l.map(((e,t)=>r.default.createElement(s.Button,{key:t,size:e.size,onClick:e.onClick,variant:e.variant,width:o.BlockSize.Full,"data-testid":e["data-testid"]},e.label))))};var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library")}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/QuizContent/QuizContent.tsx"}],[4488,{"./QuizContent":4487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./QuizContent"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/QuizContent/index.ts"}],[4489,{"../../../../../shared/constants/metametrics":4188,"../../../../contexts/metametrics":4950,"../../../../helpers/constants/design-system":4976,"../../../../helpers/constants/routes":4981,"../../../../helpers/constants/zendesk-url":4988,"../../../../hooks/useI18nContext":5039,"../../../component-library":4608,"../../../component-library/modal-content/deprecated":4616,"../../../component-library/modal-header/deprecated":4625,"../QuizContent":4488,"../types":4491,react:3878,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const[t,n]=(0,a.useState)(h.QuizStage.introduction),c=(0,a.useContext)(i.MetaMetricsContext),y=(0,r.useHistory)(),g=(0,u.useI18nContext)();let E="";const w={};w[h.QuizStage.introduction]=()=>(E=g("srpSecurityQuizTitle"),a.default.createElement(m.default,{image:"images/reveal-srp.png",content:g("srpSecurityQuizIntroduction"),buttons:[{label:g("srpSecurityQuizGetStarted"),onClick:()=>n(h.QuizStage.questionOne),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-get-started"},{label:g("learnMoreUpperCase"),onClick:T,variant:d.ButtonVariant.Link,"data-testid":"srp-quiz-learn-more"}]})),w[h.QuizStage.questionOne]=()=>(E=`1 ${g("ofTextNofM")} 2`,a.default.createElement(m.default,{content:g("srpSecurityQuizQuestionOneQuestion"),buttons:[{label:g("srpSecurityQuizQuestionOneWrongAnswer"),onClick:()=>n(h.QuizStage.wrongAnswerQuestionOne),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-wrong-answer"},{label:g("srpSecurityQuizQuestionOneRightAnswer"),onClick:()=>n(h.QuizStage.rightAnswerQuestionOne),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-right-answer"},{label:g("learnMoreUpperCase"),onClick:T,variant:d.ButtonVariant.Link}]})),w[h.QuizStage.rightAnswerQuestionOne]=()=>(E=`1 ${g("ofTextNofM")} 2`,a.default.createElement(m.default,{icon:v,content:g("srpSecurityQuizQuestionOneRightAnswerTitle"),moreContent:g("srpSecurityQuizQuestionOneRightAnswerDescription"),buttons:[{label:g("continue"),onClick:()=>n(h.QuizStage.questionTwo),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-continue"},{label:g("learnMoreUpperCase"),onClick:T,variant:d.ButtonVariant.Link}]})),w[h.QuizStage.wrongAnswerQuestionOne]=()=>(E=`1 ${g("ofTextNofM")} 2`,a.default.createElement(m.default,{icon:b,content:g("srpSecurityQuizQuestionOneWrongAnswerTitle"),moreContent:g("srpSecurityQuizQuestionOneWrongAnswerDescription"),buttons:[{label:g("tryAgain"),onClick:()=>n(h.QuizStage.questionOne),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-try-again"},{label:g("learnMoreUpperCase"),onClick:T,variant:d.ButtonVariant.Link}]})),w[h.QuizStage.questionTwo]=()=>(E=`2 ${g("ofTextNofM")} 2`,a.default.createElement(m.default,{content:g("srpSecurityQuizQuestionTwoQuestion"),buttons:[{label:g("srpSecurityQuizQuestionTwoRightAnswer"),onClick:()=>n(h.QuizStage.rightAnswerQuestionTwo),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-right-answer"},{label:g("srpSecurityQuizQuestionTwoWrongAnswer"),onClick:()=>n(h.QuizStage.wrongAnswerQuestionTwo),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-wrong-answer"},{label:g("learnMoreUpperCase"),onClick:T,variant:d.ButtonVariant.Link}]})),w[h.QuizStage.rightAnswerQuestionTwo]=()=>(E=`2 ${g("ofTextNofM")} 2`,a.default.createElement(m.default,{icon:v,content:g("srpSecurityQuizQuestionTwoRightAnswerTitle"),moreContent:g("srpSecurityQuizQuestionTwoRightAnswerDescription"),buttons:[{label:g("continue"),onClick:()=>y.push(l.REVEAL_SEED_ROUTE),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-continue"},{label:g("learnMoreUpperCase"),onClick:T,variant:d.ButtonVariant.Link}]})),w[h.QuizStage.wrongAnswerQuestionTwo]=()=>(E=`2 ${g("ofTextNofM")} 2`,a.default.createElement(m.default,{icon:b,content:g("srpSecurityQuizQuestionTwoWrongAnswerTitle"),moreContent:g("srpSecurityQuizQuestionTwoWrongAnswerDescription"),buttons:[{label:g("tryAgain"),onClick:()=>n(h.QuizStage.questionTwo),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-try-again"},{label:g("learnMoreUpperCase"),onClick:T,variant:d.ButtonVariant.Link}]}));const _=(0,a.useCallback)((e=>{c({category:o.MetaMetricsEventCategory.Keys,event:o.MetaMetricsEventName.KeyExportSelected,properties:{key_type:o.MetaMetricsEventKeyType.Srp,location:e}},{})}),[]);(0,a.useEffect)((()=>{_(`stage_${t}`)}),[t]);const x=w[t]();return a.default.createElement(d.Modal,{isOpen:e.isOpen,onClose:e.onClose},a.default.createElement(d.ModalOverlay,null),a.default.createElement(p.ModalContent,{modalDialogProps:{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4}},a.default.createElement(f.ModalHeader,{onClose:e.onClose,"data-testid":"srp-quiz-header"},E),a.default.createElement("span",{"data-testid":`srp_stage_${t}`}),x))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),o=e("../../../../../shared/constants/metametrics"),i=e("../../../../contexts/metametrics"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/constants/routes"),c=y(e("../../../../helpers/constants/zendesk-url")),u=e("../../../../hooks/useI18nContext"),d=e("../../../component-library"),p=e("../../../component-library/modal-content/deprecated"),f=e("../../../component-library/modal-header/deprecated"),m=y(e("../QuizContent")),h=e("../types");function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const b=a.default.createElement(d.Icon,{size:d.IconSize.Xl,name:d.IconName.Warning,color:s.IconColor.errorDefault,textAlign:s.TextAlign.Center,width:s.BlockSize.OneTwelfth}),v=a.default.createElement(d.Icon,{size:d.IconSize.Xl,name:d.IconName.Confirmation,color:s.IconColor.successDefault,textAlign:s.TextAlign.Center,width:s.BlockSize.OneTwelfth}),T=()=>{global.platform.openTab({url:c.default.PASSWORD_AND_SRP_ARTICLE})}}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/SRPQuiz/SRPQuiz.tsx"}],[4490,{"./SRPQuiz":4489},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./SRPQuiz"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/SRPQuiz/index.ts"}],[4491,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuizStage=void 0;n.QuizStage=function(e){return e.introduction="introduction",e.questionOne="question_one",e.wrongAnswerQuestionOne="wrong_answer_question_one",e.rightAnswerQuestionOne="right_answer_question_one",e.questionTwo="question_two",e.wrongAnswerQuestionTwo="wrong_answer_question_two",e.rightAnswerQuestionTwo="right_answer_question_two",e}({})}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/types.ts"}],[4492,{"./step-progress-bar":4493},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ThreeStepProgressBar",{enumerable:!0,get:function(){return a.ThreeStepProgressBar}}),Object.defineProperty(n,"TwoStepProgressBar",{enumerable:!0,get:function(){return a.TwoStepProgressBar}}),Object.defineProperty(n,"threeStepStages",{enumerable:!0,get:function(){return a.threeStepStages}}),Object.defineProperty(n,"twoStepStages",{enumerable:!0,get:function(){return a.twoStepStages}});var a=e("./step-progress-bar")}}},{package:"$root$",file:"ui/components/app/step-progress-bar/index.js"}],[4493,{"../../../helpers/constants/design-system":4976,"../../../hooks/useI18nContext":5039,"../../ui/box":4817,classnames:2687,lodash:3509,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ThreeStepProgressBar=p,n.TwoStepProgressBar=f,n.twoStepStages=n.threeStepStages=void 0;var a=u(e("react")),r=u(e("classnames")),o=u(e("prop-types")),i=e("lodash"),s=e("../../../hooks/useI18nContext"),l=u(e("../../ui/box")),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}n.threeStepStages={PASSWORD_CREATE:1,RECOVERY_PHRASE_VIDEO:2,RECOVERY_PHRASE_REVIEW:3,RECOVERY_PHRASE_CONFIRM:4,ONBOARDING_COMPLETE:5},n.twoStepStages={RECOVERY_PHRASE_CONFIRM:1,PASSWORD_CREATE:2};function p({stage:e,...t}){const n=(0,s.useI18nContext)();return a.default.createElement(l.default,t,a.default.createElement("ul",{className:"progressbar"},a.default.createElement("li",{className:(0,r.default)({active:e>=1,complete:e>1})},(0,i.capitalize)(n("createPassword"))),a.default.createElement("li",{className:(0,r.default)({active:e>=2,complete:e>3})},(0,i.capitalize)(n("secureWallet"))),a.default.createElement("li",{className:(0,r.default)({active:e>=4,complete:e>5})},(0,i.capitalize)(n("confirmRecoveryPhrase")))))}function f({stage:e,...t}){const n=(0,s.useI18nContext)();return a.default.createElement(l.default,d({width:c.BLOCK_SIZES.FULL},t),a.default.createElement("ul",{className:"progressbar two-steps"},a.default.createElement("li",{className:(0,r.default)({active:e>=1,complete:e>1})},(0,i.capitalize)(n("confirmRecoveryPhrase"))),a.default.createElement("li",{className:(0,r.default)("two-steps",{active:e>=2,complete:e>2})},(0,i.capitalize)(n("createPassword")))))}p.propTypes={stage:o.default.number,...l.default.propTypes},f.propTypes={stage:o.default.number,...l.default.propTypes}}}},{package:"$root$",file:"ui/components/app/step-progress-bar/step-progress-bar.js"}],[4494,{"./tab-bar":4495},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./tab-bar"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/tab-bar/index.js"}],[4495,{"../../../helpers/constants/design-system":4976,"../../component-library":4608,classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("classnames")),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const{tabs:t=[],onSelect:n,isActive:r}=e;return a.default.createElement("div",{className:"tab-bar"},t.map((({key:e,content:t,icon:l})=>a.default.createElement(i.Box,{as:"button",key:e,paddingTop:5,paddingBottom:5,paddingLeft:4,paddingRight:4,className:(0,o.default)("tab-bar__tab pointer",{"tab-bar__tab--active":r(e,t)}),onClick:()=>n(e)},r(e,t)&&a.default.createElement(i.Box,{className:"tab-bar__tab__selected-indicator",borderRadius:s.BorderRadius.pill,backgroundColor:s.Color.primaryDefault,display:[s.Display.None,s.Display.Block]}),a.default.createElement("div",{className:"tab-bar__tab__content"},a.default.createElement("div",{className:"tab-bar__tab__content__icon"},l),a.default.createElement("div",{className:"tab-bar__tab__content__title"},t)),a.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,className:"tab-bar__tab__caret"})))))};c.propTypes={isActive:r.default.func.isRequired,tabs:r.default.array,onSelect:r.default.func};n.default=c}}},{package:"$root$",file:"ui/components/app/tab-bar/tab-bar.js"}],[4496,{"./terms-of-use-popup":4497},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./terms-of-use-popup"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/terms-of-use-popup/index.js"}],[4497,{"../../../../shared/constants/metametrics":4188,"../../../contexts/i18n":4949,"../../../contexts/metametrics":4950,"../../../helpers/constants/design-system":4976,"../../component-library":4608,"../../ui/popover":4904,lodash:3509,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=p(e("prop-types")),o=e("lodash"),i=e("../../../contexts/i18n"),s=p(e("../../ui/popover")),l=e("../../../helpers/constants/design-system"),c=e("../../component-library"),u=e("../../../../shared/constants/metametrics"),d=e("../../../contexts/metametrics");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({onAccept:e}){const t=(0,a.useContext)(i.I18nContext),n=(0,a.useContext)(d.MetaMetricsContext),[r,p]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!0),h=(0,a.useRef)(),y=a.default.createRef(),g=(0,o.debounce)((e=>{m(e.scrollHeight-e.scrollTop!==e.clientHeight)}),100);return(0,a.useEffect)((()=>{n({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.TermsOfUseShown,properties:{location:"Terms Of Use Popover"}})}),[]),a.default.createElement(s.default,{className:"terms-of-use__popover",popoverRef:h,onScroll:e=>{g(e.target)},showScrollDown:f,title:t("termsOfUseTitle"),onScrollDownButtonClick:e=>{e.stopPropagation(),y.current.scrollIntoView({behavior:"smooth"})},footerProps:{justifyContent:l.AlignItems.center,flexDirection:l.FlexDirection.Column},footer:a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Button,{variant:c.BUTTON_VARIANT.PRIMARY,className:"terms-of-use__button",onClick:e,disabled:!r,"data-testid":"terms-of-use-accept-button"},t("accept")),a.default.createElement(c.Text,{as:"p",marginTop:4,className:"terms-of-use__footer-text",color:l.TextColor.textAlternative},t("termsOfUseFooterText")))},a.default.createElement(c.Box,{className:"terms-of-use"},a.default.createElement(c.Box,{className:"terms-of-use__content",marginBottom:4,marginLeft:4,marginRight:4},a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"IMPORTANT NOTICE: THIS AGREEMENT IS SUBJECT TO BINDING ARBITRATION AND A WAIVER OF CLASS ACTION RIGHTS AS DETAILED IN SECTION 11. PLEASE READ THE AGREEMENT CAREFULLY."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"ConsenSys Software Inc. (ConsenSys, we, us, or our) is the leading blockchain software development company. With a focus on utilizing decentralized technologies, such as Ethereum, our software is powering a revolution in commerce and finance and helping to optimize business processes. ConsenSys hosts a top level domain website, www.consensys.io, that serves information regarding ConsenSys and our Offerings, as defined below, as well as sub-domains for our products or services (the top level domain with the sub-domains collectively referred to as the Site), which include text, images, audio, code and other materials or third party information."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"These Terms of Use (the Terms, Terms of Use or Agreement) contain the terms and conditions that govern your access to and use of the Site and Offerings provided by us and is an agreement between us and you or the entity you represent (you or your). Please read these Terms of Use carefully before using the Site or Offerings. By using the Site, clicking a button or checkbox to accept or agree to these Terms where that option is made available, clicking a button to use or access any of the Offerings, completing an Order, or, if earlier, using or otherwise accessing the Offerings (the date on which any of the events listed above occur being the Effective Date), you (1) accept and agree to these Terms and any additional terms, rules and conditions of participation issued by ConsenSys from time to time and (2) consent to the collection, use, disclosure and other handling of information as described in our"," ",a.default.createElement(c.ButtonLink,{href:"https://consensys.io/privacy-policy/",target:"_blank",rel:"noopener noreferrer",color:l.Color.primaryDefault,variant:l.TextVariant.bodySm},"Privacy Policy.")," ","If you do not agree to the Terms or perform any and all obligations you accept under the Terms, then you may not access or use the Offerings."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"You represent to us that you are lawfully able to enter into contracts. If you are entering into this Agreement for an entity, such as the company you work for, you represent to us that you have legal authority to bind that entity. Please see Section 13 for definitions of certain capitalized terms used in this Agreement."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"In addition, you represent to us that you and your financial institutions, or any party that owns or controls you or your financial institutions, are (1) not subject to sanctions or otherwise designated on any list of prohibited or restricted parties, including but not limited to the lists maintained by the United Nations Security Council, the U.S. Government (i.e., the Specially Designated Nationals List and Foreign Sanctions Evaders List of the U.S. Department of Treasury and the Entity List of the U.S. Department of Commerce), the European Union or its Member States, or other applicable government authority and (2) not located in any country subject to a comprehensive sanctions program implemented by the United States."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"1. The Offerings."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"1.1 Generally. You may access and use the Offerings in accordance with this Agreement. You agree to comply with the terms of this Agreement and all laws, rules and regulations applicable to your use of the Offerings."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"1.2 Offerings and Access. ConsenSys offers a number of products and services, each an Offering, under the ConsenSys brand or brands owned by us. These include Codefi, Quorum, Infura, MetaMask and others. Offerings are generally accessed through the Site or through a third party provider of which we approved, such as the Google Play or Apple App Store, unless otherwise agreed in writing. Some Offerings may require you to create an account, enter a valid form of payment, and select a paid plan (a Paid Plan), or initiate an Order."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"1.3 Third-Party Content. In certain Offerings, Third-Party Content may be used by you at your election. Third-Party Content is governed by this Agreement and, if applicable, separate terms and conditions accompanying such Third-Party Content, which terms and conditions may include separate fees and charges."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"1.4 Third-Party Offerings. When you use our Offerings, you may also be using the products or services of one or more third parties. Your use of these third party offerings may be subject to the separate policies, terms of use, and fees of these third parties."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"2. Changes."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"2.1 To the Offerings. We may change or discontinue any or all of the Offerings or change or remove functionality of any or all of the Offerings from time to time. We will use commercially reasonable efforts to communicate to you any material change or discontinuation of an Offering through the Site or public communication channels. If you are on a Paid Plan, we will use commercially reasonable efforts to communicate to you any material changes to or discontinuation of the Offering at least 30 days in advance of such change, and we will use commercially reasonable efforts to continue supporting the previous version of the Offering for up to three months after the change or discontinuation, except if doing so (a) would pose an information security or intellectual property issue, (b) is economically or technically burdensome, or (c) would create undue risk of us violating the law."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"2.2 To this Agreement. We reserve the right, at our sole discretion, to modify or replace any part of this Agreement or any Policies at any time. It is your responsibility to check this Agreement periodically for changes, but we will also use commercially reasonable efforts to communicate any material changes to this Agreement through the Site or other public channels. Your continued use of or access to the Offerings following the posting of any changes to this Agreement constitutes acceptance of those changes."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"3. Your Responsibilities."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"3.1 Your Accounts. For those Offerings that require an account, and except to the extent caused by our breach of this Agreement, (a) you are responsible for all activities that occur under your account, regardless of whether the activities are authorized by you or undertaken by you, your employees or a third party (including your contractors, agents or other End Users), and (b) we and our affiliates are not responsible for unauthorized access to your account, including any access that occurred as a result of fraud, phishing, or other criminal activity perpetrated by third parties."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"3.2 Your Use. You are responsible for all activities that occur through your use of those Offerings that do not require an account, except to the extent caused by our breach of this Agreement, regardless of whether the activities are authorized by you or undertaken by you, your employees or a third party (including your contractors, agents or other End Users). We and our affiliates are not responsible for unauthorized access that may occur during your use of the Offerings, including any access that occurred as a result of fraud, phishing, or other criminal activity perpetrated by third parties. You will ensure that your use of the Offerings does not violate any applicable law."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"3.3 Your Security and Backup. You are solely responsible for properly configuring and using the Offerings and otherwise taking appropriate action to secure, protect and backup your accounts and/or Your Content in a manner that will provide appropriate security and protection, which might include use of encryption. This includes your obligation under this Agreement to record and securely maintain any passwords or backup security phrases (i.e. seed phrases) that relate to your use of the Offerings. You acknowledge that you will not share with us nor any other third party any password or backup/seed phrase that relates to your use of the Offerings, and that we will not be held responsible if you do share any such phrase or password."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"3.4 Log-In Credentials and API Authentication. To the extent we provide you with log-in credentials and API authentication generated by the Offerings, such log-in credentials and API authentication are for your use only and you will not sell, transfer or sublicense them to any other entity or person, except that you may disclose your password or private key to your agents and subcontractors performing work on your behalf."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"3.5 Applicability to MetaMask Offerings. For the avoidance of doubt, the terms of this Section 3 are applicable to all Offerings, including MetaMask and any accounts you create through MetaMask with Third Party Offerings, such as decentralized applications, or blockchain-based accounts themselves."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"4. Fees and Payment."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"4.1 Publicly Available Offerings. Some Offerings may be offered to the public and licensed on a royalty free basis, including Offerings that require a Paid Plan for software licensing fees above a certain threshold of use."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"4.2 Offering Fees. If your use of an Offering does not require an Order or Paid Plan but software licensing fees are charged contemporaneously with your use of the Offering, those fees will be charged as described on the Site or in the user interface of the Offering. Such fees may be calculated by combining a fee charged by us and a fee charged by a Third Party Offering that provides certain functionality related to the Offering. For those Offerings which entail an Order or Paid Plan, we calculate and bill fees and charges according to your Order or Paid Plan. For such Offerings, on the first day of each billing period, you will pay us the applicable fees (the Base Fees) and any applicable taxes based on the Offerings in the Paid Plan. In addition, we may, for particular Orders, issue an invoice to you for all charges above the applicable threshold for your Paid Plan which constitute overage fees for the previous billing period. If you make any other changes to the Offerings during a billing period (e.g. upgrading or downgrading your Paid Plan), we will apply any additional charges or credits to the next billing period. We may bill you more frequently for fees accrued at our discretion upon notice to you. You will pay all fees in U.S. dollars unless the particular Offering specifies a different form of payment or otherwise agreed to in writing. All amounts payable by you under this Agreement will be paid to us without setoff or counterclaim, and without any deduction or withholding. Fees and charges for any new Offering or new feature of an Offering will be effective when we use commercially reasonable efforts to communicate updated fees and charges through our Site or other public channels or, if you are on a Paid Plan, upon commercially reasonable efforts to notify you, unless we expressly state otherwise in a notice. We may increase or add new fees and charges for any existing Offerings you are using by using commercially reasonable efforts to notify users of the Offerings through our Site or other public channels or, if you are on a Paid Plan, by giving you at least 30 days prior notice. Unless otherwise specified in an Order, if you are on a Paid Plan, all amounts due under this Agreement are payable within thirty (30) days following receipt of your invoice. We may elect to charge you interest at the rate of 1.5% per month (or the highest rate permitted by law, if less) on all late payments."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"4.3 Taxes. Each party will be responsible, as required under applicable law, for identifying and paying all taxes and other governmental fees and charges (and any penalties, interest, and other additions thereto) that are imposed on that party upon or with respect to the transactions and payments under this Agreement. All fees payable by you are exclusive taxes unless otherwise noted. We reserve the right to withhold taxes where required."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"5. Temporary Suspension; Limiting API Requests."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"5.1 Generally. We may suspend your right to access or use any portion or all of the Offerings immediately if we determine:"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(a) your use of the Offerings (i) poses a security risk to the Offerings or any third party, (ii) could adversely impact our systems, the Offerings or the systems of any other user, (iii) could subject us, our affiliates, or any third party to liability, or (iv) could be unlawful;"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(b) you are, or any End User is, in breach of this Agreement;"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(c) you are in breach of your payment obligations under Section 4 and such breach continues for 30 days or longer; or"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(d) for entities, you have ceased to operate in the ordinary course, made an assignment for the benefit of creditors or similar disposition of your assets, or become the subject of any bankruptcy, reorganization, liquidation, dissolution or similar proceeding."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"5.2 Effect of Suspension. If we suspend your right to access or use any portion or all of the Offerings:"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(a) you remain responsible for all fees and charges you incur during the period of suspension; and"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(b) you will not be entitled to any fee credits for any period of suspension."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"5.3 Limiting API Requests. If applicable to a particular Offering, we retain sole discretion to limit your usage of the Offerings (including without limitation by limiting the number of API requests you may submit (API Requests)) at any time if your usage of the Offerings exceeds the usage threshold specified in your Paid Plan."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"6. Term; Termination."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"6.1 Term. For Offerings subject to a Paid Plan, the term of this Agreement will commence on the Effective Date and will remain in effect until terminated under this Section 6. Any notice of termination of this Agreement by either party to the other must include a Termination Date that complies with the notice periods in Section 6.2. For Offerings that are not subject to a Paid Plan, the term of this Agreement will commence on the Effective Date and will remain in effect until you stop accessing or using the Offerings."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"6.2 Termination."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(a) Termination for Convenience. If you are not on a Paid Plan, you may terminate this Agreement for any reason by ceasing use of the Offering. If you are on a Paid Plan, each party may terminate this Agreement for any reason by giving the other party at least 30 days written notice, subject to the provisions in Section 6.2(b)."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(b) Termination for Cause."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(i) By Either Party. Either party may terminate this Agreement for cause if the other party is in material breach of this Agreement and the material breach remains uncured for a period of 30 days from receipt of notice by the other party."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(ii) By Us. We may also terminate this Agreement immediately (A) for cause if we have the right to suspend under Section 5, (B) if our relationship with a third-party partner who provides software or other technology we use to provide the Offerings expires, terminates or requires us to change the way we provide the software or other technology as part of the Offerings, or (C) in order to avoid undue risk of violating the law."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"6.3 Effect of Termination. Upon the Termination Date:"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(i) all your rights under this Agreement immediately terminate; and"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(ii) each party remains responsible for all fees and charges it has incurred through the Termination Date and are responsible for any fees and charges it incurs during the post-termination period;"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(iii) the terms and conditions of this Agreement shall survive the expiration or termination of this Agreement to the full extent necessary for their enforcement and for the protection of the party in whose favor they operate. For instance, despite this Agreement between you and us terminating, any dispute raised after you stop accessing or using the Offerings will be subject to the applicable provisions of this Agreement if that dispute relates to your prior access or use."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"For any use of the Offerings after the Termination Date, the terms of this Agreement will again apply and, if your use is under a Paid Plan, you will pay the applicable fees at the rates under Section 4."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"7. Proprietary Rights."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"7.1 Your Content. Depending on the Offering, you may share Content with us. Except as provided in this Section 7, we obtain no rights under this Agreement from you (or your licensors) to Your Content. You consent to our use of Your Content to provide the Offerings to you."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"7.2 Offerings License. We or our licensors own all right, title, and interest in and to the Offerings, and all related technology and intellectual property rights. Subject to the terms of this Agreement, we grant you a limited, revocable, non-exclusive, non-sublicensable, non-transferable license to do the following: (a) access and use the Offerings solely in accordance with this Agreement; and (b) copy and use Our Content solely in connection with your permitted use of the Offerings. Except as provided in this Section 7.2, you obtain no rights under this Agreement from us, our affiliates or our licensors to the Offerings, including any related intellectual property rights. Some of Our Content and Third-Party Content may be provided to you under a separate license, such as the Apache License, Version 2.0, or other open source license. In the event of a conflict between this Agreement and any separate license, the separate license will prevail with respect to Our Content or Third-Party Content that is the subject of such separate license."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"7.3 License Restrictions. Neither you nor any End User will use the Offerings in any manner or for any purpose other than as expressly permitted by this Agreement. Except for as authorized, neither you nor any End User will, or will attempt to (a) modify, distribute, alter, tamper with, repair, or otherwise create derivative works of any Content included in the Offerings (except to the extent Content included in the Offerings is provided to you under a separate license that expressly permits the creation of derivative works), (b) reverse engineer, disassemble, or decompile the Offerings or apply any other process or procedure to derive the source code of any software included in the Offerings (except to the extent applicable law doesnt allow this restriction), (c) access or use the Offerings in a way intended to avoid incurring fees or exceeding usage limits or quotas, (d) use scraping techniques to mine or otherwise scrape data except as permitted by a Plan, or (e) resell or sublicense the Offerings unless otherwise agreed in writing. You will not use Our Marks unless you obtain our prior written consent. You will not misrepresent or embellish the relationship between us and you (including by expressing or implying that we support, sponsor, endorse, or contribute to you or your business endeavors). You will not imply any relationship or affiliation between us and you except as expressly permitted by this Agreement."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"7.4 Suggestions. If you provide any Suggestions to us or our affiliates, we and our affiliates will be entitled to use the Suggestions without restriction. You hereby irrevocably assign to us all right, title, and interest in and to the Suggestions and agree to provide us any assistance we require to document, perfect, and maintain our rights in the Suggestions."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"7.5 U.S. Government Users. If you are a U.S. Government End User, we are licensing the Offerings to you as a Commercial Item as that term is defined in the U.S. Code of Federal Regulations (see 48 C.F.R.  2.101), and the rights we grant you to the Offerings are the same as the rights we grant to all others under these Terms of Use."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"8. Indemnification."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"8.1 General."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(a) You will defend, indemnify, and hold harmless us, our affiliates and licensors, and each of their respective employees, officers, directors, and representatives from and against any Losses arising out of or relating to any claim concerning: (a) breach of this Agreement or violation of applicable law by you; and (b) a dispute between you and any of your customers or users. You will reimburse us for reasonable attorneys fees and expenses, associated with claims described in (a) and (b) above."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(b) We will defend, indemnify, and hold harmless you and your employees, officers, directors, and representatives from and against any Losses arising out of or relating to any claim concerning our material and intentional breach of this Agreement. We will reimburse you for reasonable attorneys fees and expenses associated with the claims described in this paragraph."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"8.2 Intellectual Property."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(a) Subject to the limitations in this Section 8, you will defend ConsenSys, its affiliates, and their respective employees, officers, and directors against any third-party claim alleging that any of Your Content infringes or misappropriates that third partys intellectual property rights, and will pay the amount of any adverse final judgment or settlement."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(b) Subject to the limitations in this Section 8 and the limitations in Section 10, we will defend you and your employees, officers, and directors against any third-party claim alleging that the Offerings infringe or misappropriate that third partys intellectual property rights, and will pay the amount of any adverse final judgment or settlement. However, we will not be required to spend more than $200,000 pursuant to this Section 8, including without limitation attorneys fees, court costs, settlements, judgments, and reimbursement costs."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(c) Neither party will have obligations or liability under this Section 8.2 arising from infringement by you combining the Offerings with any other product, service, software, data, content or method. In addition, we will have no obligations or liability arising from your use of the Offerings after we have notified you to discontinue such use. The remedies provided in this Section 8.2 are the sole and exclusive remedies for any third-party claims of infringement or misappropriation of intellectual property rights by the Offerings or by Your Content."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"8.3 Process. In no event will a party agree to any settlement of any claim that involves any commitment, other than the payment of money, without the written consent of the other party."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"9. Disclaimers; Risk."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"9.1 DISCLAIMER. THE OFFERINGS ARE PROVIDED AS IS. EXCEPT TO THE EXTENT PROHIBITED BY LAW, OR TO THE EXTENT ANY STATUTORY RIGHTS APPLY THAT CANNOT BE EXCLUDED, LIMITED OR WAIVED, WE AND OUR AFFILIATES AND LICENSORS (A) MAKE NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, WHETHER EXPRESS, IMPLIED, STATUTORY OR OTHERWISE REGARDING THE OFFERINGS OR THE THIRD-PARTY CONTENT, AND (B) DISCLAIM ALL WARRANTIES, INCLUDING ANY IMPLIED OR EXPRESS WARRANTIES (I) OF MERCHANTABILITY, SATISFACTORY QUALITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR QUIET ENJOYMENT, (II) ARISING OUT OF ANY COURSE OF DEALING OR USAGE OF TRADE, (III) THAT THE OFFERINGS OR THIRD-PARTY CONTENT WILL BE UNINTERRUPTED, ERROR FREE OR FREE OF HARMFUL COMPONENTS, AND (IV) THAT ANY CONTENT WILL BE SECURE OR NOT OTHERWISE LOST OR ALTERED."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"9.2 RISKS. OUR OFFERINGS RELY ON EMERGING TECHNOLOGIES, SUCH AS ETHEREUM. SOME OFFERINGS ARE SUBJECT TO INCREASED RISK THROUGH YOUR POTENTIAL MISUSE OF THINGS SUCH AS PUBLIC/PRIVATE KEY CRYPTOGRAPHY, OR FAILING TO PROPERLY UPDATE OR RUN SOFTWARE TO ACCOMMODATE PROTOCOL UPGRADES, LIKE THE TRANSITION TO PROOF OF STAKE CONSENSUS. BY USING THE OFFERINGS YOU EXPLICITLY ACKNOWLEDGE AND ACCEPT THESE HEIGHTENED RISKS. YOU REPRESENT THAT YOU ARE FINANCIALLY AND TECHNICALLY SOPHISTICATED ENOUGH TO UNDERSTAND THE INHERENT RISKS ASSOCIATED WITH USING CRYPTOGRAPHIC AND BLOCKCHAIN-BASED SYSTEMS AND UPGRADING YOUR SOFTWARE AND PROCESSES TO ACCOMMODATE PROTOCOL UPGRADES, AND THAT YOU HAVE A WORKING KNOWLEDGE OF THE USAGE AND INTRICACIES OF DIGITAL ASSETS SUCH AS ETHER (ETH) AND OTHER DIGITAL TOKENS, SUCH AS THOSE FOLLOWING THE ERC-20 TOKEN STANDARD. IN PARTICULAR, YOU UNDERSTAND THAT WE DO NOT OPERATE THE ETHEREUM PROTOCOL OR ANY OTHER BLOCKCHAIN PROTOCOL, COMMUNICATE OR EXECUTE PROTOCOL UPGRADES, OR APPROVE OR PROCESS BLOCKCHAIN TRANSACTIONS ON BEHALF OF YOU. YOU FURTHER UNDERSTAND THAT BLOCKCHAIN PROTOCOLS PRESENT THEIR OWN RISKS OF USE, THAT SUPPORTING OR PARTICIPATING IN THE PROTOCOL MAY RESULT IN LOSSES IF YOUR PARTICIPATION VIOLATES CERTAIN PROTOCOL RULES, THAT BLOCKCHAIN-BASED TRANSACTIONS ARE IRREVERSIBLE, THAT YOUR PRIVATE KEY AND BACKUP SEED PHRASE MUST BE KEPT SECRET AT ALL TIMES, THAT CONSENSYS WILL NOT STORE A BACKUP OF, NOR WILL BE ABLE TO DISCOVER OR RECOVER, YOUR PRIVATE KEY OR BACKUP SEED PHRASE, AND THAT YOU ARE SOLELY RESPONSIBLE FOR ANY APPROVALS OR PERMISSIONS YOU PROVIDE BY CRYPTOGRAPHICALLY SIGNING BLOCKCHAIN MESSAGES OR TRANSACTIONS."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"YOU FURTHER UNDERSTAND AND ACCEPT THAT DIGITAL TOKENS PRESENT MARKET VOLATILITY RISK, TECHNICAL SOFTWARE RISKS, REGULATORY RISKS, AND CYBERSECURITY RISKS. YOU UNDERSTAND THAT THE COST AND SPEED OF A BLOCKCHAIN-BASED SYSTEM IS VARIABLE, THAT COST MAY INCREASE DRAMATICALLY AT ANY TIME, AND THAT COST AND SPEED IS NOT WITHIN THE CAPABILITY OF CONSENSYS TO CONTROL. YOU UNDERSTAND THAT PROTOCOL UPGRADES MAY INADVERTENTLY CONTAIN BUGS OR SECURITY VULNERABILITIES THAT MAY RESULT IN LOSS OF FUNCTIONALITY AND ULTIMATELY FUNDS."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"YOU UNDERSTAND AND ACCEPT THAT CONSENSYS DOES NOT CONTROL ANY BLOCKCHAIN PROTOCOL, NOR DOES CONSENSYS CONTROL ANY SMART CONTRACT THAT IS NOT OTHERWISE OFFERED BY CONSENSYS AS PART OF THE OFFERINGS. YOU UNDERSTAND AND ACCEPT THAT CONSENSYS DOES NOT CONTROL AND IS NOT RESPONSIBLE FOR THE TRANSITION OF ANY BLOCKCHAIN PROTOCOL FROM PROOF OF WORK TO PROOF OF STAKE CONSENSUS. YOU AGREE THAT YOU ALONE, AND NOT CONSENSYS, IS RESPONSIBLE FOR ANY TRANSACTIONS THAT YOU ENGAGE IN WITH REGARD TO SUPPORTING ANY BLOCKCHAIN PROTOCOL WHETHER THROUGH TRANSACTION VALIDATION OR OTHERWISE, OR ANY TRANSACTIONS THAT YOU ENGAGE IN WITHANY THIRD-PARTY-DEVELOPED SMART CONTRACT OR TOKEN, INCLUDING TOKENS THAT WERE CREATED BY A THIRD PARTY FOR THE PURPOSE OF FRAUDULENTLY MISREPRESENTING AFFILIATION WITH ANY BLOCKCHAIN PROJECT. YOU AGREE THAT CONSENSYS IS NOT RESPONSIBLE FOR THE REGULATORY STATUS OR TREATMENT OF ANY DIGITAL ASSETS THAT YOU MAY ACCESS OR TRANSACT WITH USING CONSENSYS OFFERINGS. YOU EXPRESSLY ASSUME FULL RESPONSIBILITY FOR ALL OF THE RISKS OF ACCESSING AND USING THE OFFERINGS TO INTERACT WITH BLOCKCHAIN PROTOCOLS."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"10. Limitations of Liability."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"10.1 Limitation of Liability. WITH THE EXCEPTION OF CLAIMS RELATING TO A BREACH OF OUR PROPRIETARY RIGHTS AS GOVERNED BY SECTION 7 AND INTELLECTUAL PROPERTY CLAIMS AS GOVERNED BY SECTION 8, IN NO EVENT SHALL THE AGGREGATE LIABILITY OF EACH PARTY TOGETHER WITH ALL OF ITS AFFILIATES ARISING OUT OF OR RELATED TO THIS AGREEMENT EXCEED THE TOTAL AMOUNT PAID BY YOU HEREUNDER FOR THE OFFERINGS GIVING RISE TO THE LIABILITY IN THE TWELVE MONTHS PRECEDING THE FIRST INCIDENT OUT OF WHICH THE LIABILITY AROSE, OR, IF NO FEES HAVE BEEN PAID, $25,000. THE FOREGOING LIMITATION WILL APPLY WHETHER AN ACTION IS IN CONTRACT OR TORT AND REGARDLESS OF THE THEORY OF LIABILITY, BUT WILL NOT LIMIT YOUR PAYMENT OBLIGATIONS UNDER SECTION 4."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"10.2 Exclusion of Consequential and Related Damages. IN NO EVENT WILL EITHER PARTY OR ITS AFFILIATES HAVE ANY LIABILITY ARISING OUT OF OR RELATED TO THIS AGREEMENT FOR ANY LOST PROFITS, REVENUES, GOODWILL, OR INDIRECT, SPECIAL, INCIDENTAL, CONSEQUENTIAL, COVER, BUSINESS INTERRUPTION OR PUNITIVE DAMAGES, WHETHER AN ACTION IS IN CONTRACT OR TORT AND REGARDLESS OF THE THEORY OF LIABILITY, EVEN IF A PARTY OR ITS AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES OR IF A PARTYS OR ITS AFFILIATES REMEDY OTHERWISE FAILS OF ITS ESSENTIAL PURPOSE. THE FOREGOING DISCLAIMER WILL NOT APPLY TO THE EXTENT PROHIBITED BY LAW."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"11. Binding Arbitration and Class Action Waiver."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"PLEASE READ THIS SECTION CAREFULLY  IT MAY SIGNIFICANTLY AFFECT YOUR LEGAL RIGHTS, INCLUDING YOUR RIGHT TO FILE A LAWSUIT IN COURT."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"11.1 Binding Arbitration. Any dispute, claim or controversy (Claim) relating in any way to this Agreement, the Site, or your use of the Offerings will be resolved by binding arbitration as provided in this Section 11, rather than in court, except that you may assert claims in small claims court if your claims qualify."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"11.1.1 If you are located in the United States: This agreement and any dispute or claim (including non-contractual disputes or claims) arising out of or in connection with it or its subject matter or formation shall be governed by and construed in accordance with the laws of the State of New York. The Federal Arbitration Act and federal arbitration law apply to this Agreement. There is no judge or jury in arbitration, and court review of an arbitration award is limited. However, an arbitrator can award on an individual basis the same damages and relief as a court (including injunctive and declaratory relief or statutory damages), and must follow the terms of this Agreement as a court would. The arbitration will be conducted in accordance with the expedited procedures set forth in the JAMS Comprehensive Arbitration Rules and Procedures (the Rules) as those Rules exist on the effective date of this Agreement, including Rules 16.1 and 16.2 of those Rules. The arbitrators decision shall be final, binding, and non-appealable. Judgment upon the award may be entered and enforced in any court having jurisdiction. Neither party shall sue the other party other than as provided herein or for enforcement of this clause or of the arbitrators award; any such suit may be brought only in a Federal District Court or a New York state court located in New York County, New York. The arbitrator, and not any federal, state, or local court, shall have exclusive authority to resolve any dispute relating to the interpretation, applicability, unconscionability, arbitrability, enforceability, or formation of this Agreement including any claim that all or any part of the Agreement is void or voidable. If for any reason a claim proceeds in court rather than in arbitration we and you waive any right to a jury trial. Notwithstanding the foregoing we and you both agree that you or we may bring suit in court to enjoin infringement or other misuse of intellectual property rights."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"11.1.2 If you are located in the United Kingdom: This agreement and any dispute or claim (including non-contractual disputes or claims) arising out of or in connection with it or its subject matter or formation shall be governed by and construed in accordance with the law of England and Wales. Any dispute, claim or controversy relating in any way to this Agreement, the Offerings, your use of the Offerings, or to any products or services licensed or distributed by us will be resolved by binding arbitration as provided in this clause. Prior to commencing any formal arbitration proceedings, parties shall first seek settlement of any claim by mediation in accordance with the LCIA Mediation Rules, which Rules are deemed to be incorporated by reference into this clause. If the dispute is not settled by mediation within 14 days of the commencement of the mediation, or such further period as the parties shall agree in writing, the dispute shall be referred to and finally resolved by arbitration under the LCIA Rules, which are deemed to be incorporated by reference into this clause. The language to be used in the mediation and in the arbitration shall be English. The seat or legal place of arbitration shall be London."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"11.1.3 If you are located in any territory that is not specifically enumerated in Sections 11.1.1 or 11.1.2, you may elect for either of Section 11.1.1 or 11.1.2 to apply to you, otherwise this Agreement and any Claim (including non-contractual disputes or claims) arising out of or in connection with it or its subject matter or formation shall be governed by and construed in accordance with the law of Ireland. Any Claim relating in any way to this Agreement, the Offerings, your use of the Offerings, or to any products or services licensed or distributed by us will be resolved by binding arbitration as provided in this clause. Prior to commencing any formal arbitration proceedings, parties shall first seek settlement of any claim by mediation in accordance with the LCIA Mediation Rules, which Rules are deemed to be incorporated by reference into this clause. If the dispute is not settled by mediation within 14 days of the commencement of the mediation, or such further period as the parties shall agree in writing, the Claim shall be referred to and finally resolved by arbitration under the LCIA Rules, which are deemed to be incorporated by reference into this clause. The language to be used in the mediation and in the arbitration shall be English. The seat or legal place of arbitration shall be Dublin, Ireland."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"11.2 Class Action Waiver. YOU AND WE AGREE THAT EACH MAY BRING CLAIMS AGAINST THE OTHER ONLY ON AN INDIVIDUAL BASIS, AND NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY PURPORTED CLASS OR REPRESENTATIVE PROCEEDING. YOU AND WE EXPRESSLY WAIVE ANY RIGHT TO FILE A CLASS ACTION OR SEEK RELIEF ON A CLASS BASIS. Unless both you and we agree, no arbitrator or judge may consolidate more than one persons claims or otherwise preside over any form of a representative or class proceeding. The arbitrator may award injunctive relief only in favor of the individual party seeking relief and only to the extent necessary to provide relief warranted by that partys individual claim. If a court decides that applicable law precludes enforcement of any of this paragraphs limitations as to a particular claim for relief, then that claim (and only that claim) must be severed from the arbitration and may be brought in court. If any court or arbitrator determines that the class action waiver set forth in this paragraph is void or unenforceable for any reason or that an arbitration can proceed on a class basis, then the arbitration provision set forth above shall be deemed null and void in its entirety and the parties shall be deemed to have not agreed to arbitrate disputes."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"11.3 30-Day Right to Opt Out. You have the right to opt-out and not be bound by the arbitration and class action waiver provisions set forth above by sending written notice of your decision to opt-out to the email address notices@consensys.net with subject line LEGAL OPT OUT. The notice must be sent within 30 days of your first use of the Offerings, otherwise you shall be bound to arbitrate disputes and will be deemed to have agreed to waive any right to pursue a class action in accordance with the terms of those paragraphs. If you opt-out of these provisions, we will also not be bound by them."),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"12. Miscellaneous."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.1 Assignment. You will not assign or otherwise transfer this Agreement or any of your rights and obligations under this Agreement, without our prior written consent. Any assignment or transfer in violation of this Section 12.1 will be void. We may assign this Agreement without your consent (a) in connection with a merger, acquisition or sale of all or substantially all of our assets, or (b) to any Affiliate or as part of a corporate reorganization; and effective upon such assignment, the assignee is deemed substituted for us as a party to this Agreement and we are fully released from all of our obligations and duties to perform under this Agreement. Subject to the foregoing, this Agreement will be binding upon, and inure to the benefit of the parties and their respective permitted successors and assigns."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.2 DAOs. As a blockchain native company, we may interact with and provide certain Offerings to DAOs. Due to the unique nature of DAOs, to the extent the DAO votes in favor of and/or accepts such Offerings from ConsenSys, the DAO has acknowledged and agreed to these Terms in their entirety."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.2 Entire Agreement and Modifications. This Agreement incorporates the Policies by reference and is the entire agreement between you and us regarding the subject matter of this Agreement. If the terms of this document are inconsistent with the terms contained in any Policy, the terms contained in this document will control. Any modification to the terms of this Agreement may only be made in writing."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.3 Force Majeure. Neither party nor their respective affiliates will be liable for any delay or failure to perform any obligation under this Agreement where the delay or failure results from any cause beyond such partys reasonable control, including but not limited to acts of God, utilities or other telecommunications failures, cyber attacks, earthquake, storms or other elements of nature, pandemics, blockages, embargoes, riots, acts or orders of government, acts of terrorism, or war."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.4 Export and Sanctions Compliance. In connection with this Agreement, you will comply with all applicable import, re-import, sanctions, anti-boycott, export, and re-export control laws and regulations, including all such laws and regulations that may apply. For clarity, you are solely responsible for compliance related to the manner in which you choose to use the Offerings. You may not use any Offering if you are the subject of U.S. sanctions or of sanctions consistent with U.S. law imposed by the governments of the country where you are using the Offering."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.5 Independent Contractors; Non-Exclusive Rights. We and you are independent contractors, and this Agreement will not be construed to create a partnership, joint venture, agency, or employment relationship. Neither party, nor any of their respective affiliates, is an agent of the other for any purpose or has the authority to bind the other. Both parties reserve the right (a) to develop or have developed for it products, services, concepts, systems, or techniques that are similar to or compete with the products, services, concepts, systems, or techniques developed or contemplated by the other party, and (b) to assist third party developers or systems integrators who may offer products or services which compete with the other partys products or services."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.6 Eligibility. If you are under the age of majority in your jurisdiction of residence, you may use the Site or Offerings only with the consent of or under the supervision of your parent or legal guardian."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"NOTICE TO PARENTS AND GUARDIANS: By granting your minor permission to access the Site or Offerings, you agree to these Terms of Use on behalf of your minor. You are responsible for exercising supervision over your minors online activities. If you do not agree to these Terms of Use, do not let your minor use the Site or Offerings."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.7 Language. All communications and notices made or given pursuant to this Agreement must be in the English language. If we provide a translation of the English language version of this Agreement, the English language version of the Agreement will control if there is any conflict."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.8 Notice."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(a) To You. We may provide any notice to you under this Agreement using commercially reasonable means, including: (i) posting a notice on the Site; (ii) sending a message to the email address then associated with your account; or (iii) using public communication channels . Notices we provide by posting on the Site or using public communication channels will be effective upon posting, and notices we provide by email will be effective when we send the email. It is your responsibility to keep your email address current to the extent you have an account. You will be deemed to have received any email sent to the email address then associated with your account when we send the email, whether or not you actually receive the email."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"(b) To Us. To give us notice under this Agreement, you must contact us by email at notices@consensys.net."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.9 No Third-Party Beneficiaries. Except as otherwise set forth herein, this Agreement does not create any third-party beneficiary rights in any individual or entity that is not a party to this Agreement."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.10 No Waivers. The failure by us to enforce any provision of this Agreement will not constitute a present or future waiver of such provision nor limit our right to enforce such provision at a later time. All waivers by us must be in writing to be effective."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.11 Severability. If any portion of this Agreement is held to be invalid or unenforceable, the remaining portions of this Agreement will remain in full force and effect. Any invalid or unenforceable portions will be interpreted to effect and intent of the original portion. If such construction is not possible, the invalid or unenforceable portion will be severed from this Agreement but the rest of the Agreement will remain in full force and effect."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"12.12 Notice and Procedure for Making Claims of Copyright Infringement. If you are a copyright owner or agent of the owner, and you believe that your copyright or the copyright of a person on whose behalf you are authorized to act has been infringed, please provide us a written notice at the address below with the following information:"),a.default.createElement(c.Box,{as:"ol",marginLeft:4,className:"terms-of-use__terms-list"},a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright or other intellectual property interest;"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"a description of the copyrighted work or other intellectual property that you claim has been infringed;"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"a description of where the material that you claim is infringing is located with respect to the Offerings;"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"your address, telephone number, and email address;"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law;"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright or intellectual property owner or authorized to act on the copyright or intellectual property owners behalf.")),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"You can reach us at:"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Email: notices@consensys.net"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Subject Line: Copyright Notification Mail"),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Attention: Copyright "),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"ConsenSys Software Inc."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"49 Bogart Street Suite 22 Brooklyn, NY 11206"),a.default.createElement(c.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},"13. Definitions."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Acceptable Use Policy means the policy set forth below, as it may be updated by us from time to time. You agree not to, and not to allow third parties to, use the Offerings:"),a.default.createElement(c.Box,{as:"ol",marginLeft:4,className:"terms-of-use__terms-list"},a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"to violate, or encourage the violation of, the legal rights of others (for example, this may include allowing End Users to infringe or misappropriate the intellectual property rights of others in violation of the Digital Millennium Copyright Act);"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"to engage in, promote or encourage any illegal or infringing content;"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"for any unlawful, invasive, infringing, defamatory or fraudulent purpose (for example, this may include phishing, creating a pyramid scheme or mirroring a website);"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"to intentionally distribute viruses, worms, Trojan horses, corrupted files, hoaxes, or other items of a destructive or deceptive nature;"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"to interfere with the use of the Offerings, or the equipment used to provide the Offerings, by customers, authorized resellers, or other authorized users;"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"to disable, interfere with or circumvent any aspect of the Offerings (for example, any thresholds or limits);"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"to generate, distribute, publish or facilitate unsolicited mass email, promotions, advertising or other solicitation; or"),a.default.createElement(c.Text,{as:"li",variant:l.TextVariant.bodySm,marginBottom:2},"to use the Offerings, or any interfaces provided with the Offerings, to access any other product or service in a manner that violates the terms of service of such other product or service.")),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"API means an application program interface."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"API Requests has the meaning set forth in Section 5.3."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Applicable Threshold has the meaning set forth in Section 4.2."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Base Fees has the meaning set forth in Section 4.2."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Content means any data, text, audio, video or images, software (including machine images), and any documentation."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"DAO means Decentralized Autonomous Organization."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"End User means any individual or entity that directly or indirectly through another user: (a) accesses or uses Your Content; or (b) otherwise accesses or uses the Offerings under your account."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Fees has the meaning set forth in Section 4.2."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Losses means any claims, damages, losses, liabilities, costs, and expenses (including reasonable attorneys fees)."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Our Content means any software (including machine images), data, text, audio, video, images, or documentation that we offer in connection with the Offerings."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Our Marks means any trademarks, service marks, service or trade names, logos, and other designations of ConsenSys Software Inc. and their affiliates or licensors that we may make available to you in connection with this Agreement."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Order means an order for Offerings executed through an order form directly with ConsenSys, or through a cloud vendor, such as Amazon Web Services, Microsoft Azure, or Google Cloud."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Offerings means each of the products and services, including but not limited to Codefi, Infura, MetaMask, Quorum and any other features, tools, materials, or services offered from time to time, by us or our affiliates."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Policies means the Acceptable Use Policy, Privacy Policy, any supplemental policies or addendums applicable to any Service as provided to you, and any other policy or terms referenced in or incorporated into this Agreement, each as may be updated by us from time to time."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Privacy Policy means the privacy policy located at"," ",a.default.createElement(c.ButtonLink,{href:"https://consensys.io/privacy-policy",target:"_blank",rel:"noopener noreferrer",color:l.Color.primaryDefault,variant:l.TextVariant.bodySm},"https://consensys.io/privacy-policy")," ","(and any successor or related locations designated by us), as it may be updated by us from time to time."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Service Offerings means the Services (including associated APIs), Our Content, Our Marks, and any other product or service provided by us under this Agreement. Service Offerings do not include Third-Party Content or Third-Party Services."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Suggestions means all suggested improvements to the Service Offerings that you provide to us.."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Term means the term of this Agreement described in Section 6.1."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Termination Date means the effective date of termination provided in accordance with Section 6, in a notice from one party to the other."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Third-Party Content means Content made available to you by any third party on the Site or in conjunction with the Offerings."),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,marginBottom:4},"Your Content means content that you or any End User transfers to us, storage or hosting by the Offerings in connection with account and any computational results that you or any End User derive from the foregoing through their use of the Offerings, excluding however any information submitted to a blockchain protocol for processing."),a.default.createElement(c.Box,{flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.flexStart,marginLeft:3,marginRight:3,gap:2},a.default.createElement(c.Checkbox,{id:"terms-of-use__checkbox",className:"terms-of-use__checkbox","data-testid":"terms-of-use-checkbox",isChecked:r,onChange:()=>{p(!r)},label:t("termsOfUseAgreeText"),ref:y})))))}m.propTypes={onAccept:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/terms-of-use-popup/terms-of-use-popup.js"}],[4498,{"./token-cell":4499},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./token-cell"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/token-cell/index.js"}],[4499,{"../../../../shared/modules/string-utils":4238,"../../../hooks/useIsOriginalTokenSymbol":5041,"../../../hooks/useTokenFiatAmount":5058,"../../../selectors":5584,"../../multichain":4734,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=d(e("prop-types")),r=d(e("react")),o=e("react-redux"),i=e("../../../selectors"),s=e("../../../hooks/useTokenFiatAmount"),l=e("../../multichain"),c=e("../../../../shared/modules/string-utils"),u=e("../../../hooks/useIsOriginalTokenSymbol");function d(e){return e&&e.__esModule?e:{default:e}}function p({address:e,image:t,symbol:n,string:a,onClick:d}){const p=(0,o.useSelector)(i.getTokenList),f=Object.values(p).find((t=>(0,c.isEqualCaseInsensitive)(t.symbol,n)&&(0,c.isEqualCaseInsensitive)(t.address,e))),m=(null==f?void 0:f.name)||n,h=(null==f?void 0:f.iconUrl)||t,y=(0,s.useTokenFiatAmount)(e,a,n),g=(0,u.useIsOriginalTokenSymbol)(e,n);return r.default.createElement(l.TokenListItem,{onClick:()=>d(e),tokenSymbol:n,tokenImage:h,primary:`${a||0}`,secondary:g?y:null,title:m,isOriginalTokenSymbol:g})}p.propTypes={address:a.default.string,symbol:a.default.string,string:a.default.string,onClick:a.default.func.isRequired,image:a.default.string}}}},{package:"$root$",file:"ui/components/app/token-cell/token-cell.js"}],[4500,{"./token-list-display":4501},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./token-list-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/token-list-display/index.js"}],[4501,{"../../../ducks/metamask/metamask":4968,"../../../hooks/useI18nContext":5039,"../../../hooks/useTokenTracker":5059,"../../../selectors":5584,"../../ui/identicon":4869,"../../ui/token-balance":4931,lodash:3509,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),r=f(e("prop-types")),o=e("react-redux"),i=e("lodash"),s=e("../../../selectors"),l=e("../../../hooks/useTokenTracker"),c=f(e("../../ui/identicon")),u=f(e("../../ui/token-balance")),d=e("../../../hooks/useI18nContext"),p=e("../../../ducks/metamask/metamask");function f(e){return e&&e.__esModule?e:{default:e}}function m({clickHandler:e}){const t=(0,d.useI18nContext)(),n=(0,o.useSelector)(s.getShouldHideZeroBalanceTokens),r=(0,o.useSelector)(p.getTokens,i.isEqual),{loading:f,tokensWithBalances:m}=(0,l.useTokenTracker)({tokens:r,includeFailedTokens:!0,hideZeroBalanceTokens:n});if(f)return a.default.createElement("div",{className:"loading-span"},t("loadingTokens"));const h=m.filter((e=>!e.isERC721));return a.default.createElement(a.default.Fragment,null,h.map((n=>{const{address:r,symbol:o,image:i}=n;return a.default.createElement("div",{key:r,className:"token-list-item",onClick:()=>e(n)},a.default.createElement(c.default,{address:r,diameter:36,image:i}),a.default.createElement("div",{className:"token-list-item__data"},a.default.createElement("div",{className:"token-list-item__symbol"},o),a.default.createElement("div",{className:"token-list-item__balance"},a.default.createElement("span",{className:"token-list-item__balance__label"},`${t("balance")}:`),a.default.createElement(u.default,{token:n}))))})))}m.propTypes={clickHandler:r.default.func}}}},{package:"$root$",file:"ui/components/app/token-list-display/token-list-display.js"}],[4502,{"./token-list":4503},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./token-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/token-list/index.js"}],[4503,{"../../../helpers/constants/design-system":4976,"../../../hooks/useI18nContext":5039,"../../component-library":4608,"../token-cell":4498,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=c(e("react")),r=c(e("prop-types")),o=c(e("../token-cell")),i=e("../../../hooks/useI18nContext"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}function d({onTokenClick:e,tokens:t,loading:n=!1}){const r=(0,i.useI18nContext)();return n?a.default.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,padding:7,"data-testid":"token-list-loading-message"},r("loadingTokens")):a.default.createElement("div",null,t.map(((t,n)=>a.default.createElement(o.default,u({key:n},t,{onClick:e})))))}d.propTypes={onTokenClick:r.default.func.isRequired,tokens:r.default.array.isRequired,loading:r.default.bool}}}},{package:"$root$",file:"ui/components/app/token-list/token-list.js"}],[4504,{"./transaction-activity-log.container":4509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-activity-log.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/index.js"}],[4505,{"./transaction-activity-log-icon.component":4506},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-activity-log-icon.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log-icon/index.js"}],[4506,{"../../../../helpers/constants/design-system":4976,"../../../component-library":4608,"../transaction-activity-log.constants":4508,classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ACTIVITY_ICONS=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=c(e("prop-types")),o=c(e("classnames")),i=e("../transaction-activity-log.constants"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=n.ACTIVITY_ICONS={[i.TRANSACTION_CREATED_EVENT]:s.IconName.Add,[i.TRANSACTION_SUBMITTED_EVENT]:s.IconName.ArrowUp,[i.TRANSACTION_RESUBMITTED_EVENT]:s.IconName.ProgrammingArrows,[i.TRANSACTION_CONFIRMED_EVENT]:s.IconName.Check,[i.TRANSACTION_DROPPED_EVENT]:s.IconName.Close,[i.TRANSACTION_ERRORED_EVENT]:s.IconName.Danger,[i.TRANSACTION_CANCEL_ATTEMPTED_EVENT]:s.IconName.Close,[i.TRANSACTION_CANCEL_SUCCESS_EVENT]:s.IconName.Close};class f extends a.PureComponent{render(){const{className:e,eventKey:t}=this.props,n=p[t];return a.default.createElement("div",{className:(0,o.default)("transaction-activity-log-icon",e)},n?a.default.createElement(s.Icon,{name:n,color:l.Color.iconDefault,size:s.IconSize.Sm}):null)}}n.default=f,d(f,"contextTypes",{t:r.default.func}),d(f,"propTypes",{className:r.default.string,eventKey:r.default.oneOf(Object.keys(p))})}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log-icon/transaction-activity-log-icon.component.js"}],[4507,{"../../../../shared/constants/metametrics":4188,"../../../../shared/modules/conversion.utils":4218,"../../../helpers/utils/util":5018,"./transaction-activity-log-icon":4505,"./transaction-activity-log.constants":4508,"@metamask/etherscan-link":1253,classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=p(e("prop-types")),o=p(e("classnames")),i=e("@metamask/etherscan-link"),s=e("../../../helpers/utils/util"),l=e("../../../../shared/constants/metametrics"),c=e("../../../../shared/modules/conversion.utils"),u=p(e("./transaction-activity-log-icon")),d=e("./transaction-activity-log.constants");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.PureComponent{constructor(...e){super(...e),m(this,"handleActivityClick",(e=>{const{rpcPrefs:t}=this.props,n=(0,i.getBlockExplorerLink)(e,t);this.context.trackEvent({category:l.MetaMetricsEventCategory.Transactions,event:"Clicked Block Explorer Link",properties:{link_type:"Transaction Block Explorer",action:"Activity Details",block_explorer_domain:(0,s.getURLHostName)(n)}}),global.platform.openTab({url:n})}))}renderInlineRetry(e){const{t:t}=this.context,{inlineRetryIndex:n,primaryTransaction:r={},onRetry:o,isEarliestNonce:i}=this.props,{status:s}=r;return i&&s!==d.CONFIRMED_STATUS&&e===n?a.default.createElement("div",{className:"transaction-activity-log__action-link",onClick:o},t("speedUpTransaction")):null}renderInlineCancel(e){const{t:t}=this.context,{inlineCancelIndex:n,primaryTransaction:r={},onCancel:o,isEarliestNonce:i}=this.props,{status:s}=r;return i&&s!==d.CONFIRMED_STATUS&&e===n?a.default.createElement("div",{className:"transaction-activity-log__action-link",onClick:o},t("speedUpCancellation")):null}renderActivity(e,t){const{conversionRate:n,nativeCurrency:r}=this.props,{eventKey:o,value:i,timestamp:l}=e,d=`${(0,c.getValueFromWeiHex)({value:i,fromCurrency:"ETH",toCurrency:"ETH",conversionRate:n,numberOfDecimals:6})} ${r}`,p=(0,s.formatDate)(l,"T 'on' M/d/y"),f=this.context.t(o,[d,p]);return a.default.createElement("div",{key:t,className:"transaction-activity-log__activity"},a.default.createElement(u.default,{className:"transaction-activity-log__activity-icon",eventKey:o}),a.default.createElement("div",{className:"transaction-activity-log__entry-container"},a.default.createElement("div",{className:"transaction-activity-log__activity-text",title:f,onClick:()=>this.handleActivityClick(e)},f),this.renderInlineRetry(t),this.renderInlineCancel(t)))}render(){const{t:e}=this.context,{className:t,activities:n}=this.props;return 0===n.length?null:a.default.createElement("div",{className:(0,o.default)("transaction-activity-log",t)},a.default.createElement("div",{className:"transaction-activity-log__title"},e("activityLog")),a.default.createElement("div",{className:"transaction-activity-log__activities-container"},n.map(((e,t)=>this.renderActivity(e,t)))))}}n.default=h,m(h,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),m(h,"propTypes",{activities:r.default.array,className:r.default.string,conversionRate:r.default.number,inlineRetryIndex:r.default.number,inlineCancelIndex:r.default.number,nativeCurrency:r.default.string,onCancel:r.default.func,onRetry:r.default.func,primaryTransaction:r.default.object,isEarliestNonce:r.default.bool,rpcPrefs:r.default.object})}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log.component.js"}],[4508,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TRANSACTION_UPDATED_EVENT=n.TRANSACTION_SUBMITTED_EVENT=n.TRANSACTION_RESUBMITTED_EVENT=n.TRANSACTION_ERRORED_EVENT=n.TRANSACTION_DROPPED_EVENT=n.TRANSACTION_CREATED_EVENT=n.TRANSACTION_CONFIRMED_EVENT=n.TRANSACTION_CANCEL_SUCCESS_EVENT=n.TRANSACTION_CANCEL_ATTEMPTED_EVENT=n.SUBMITTED_STATUS=n.DROPPED_STATUS=n.CONFIRMED_STATUS=void 0;n.TRANSACTION_CREATED_EVENT="transactionCreated",n.TRANSACTION_SUBMITTED_EVENT="transactionSubmitted",n.TRANSACTION_RESUBMITTED_EVENT="transactionResubmitted",n.TRANSACTION_CONFIRMED_EVENT="transactionConfirmed",n.TRANSACTION_DROPPED_EVENT="transactionDropped",n.TRANSACTION_UPDATED_EVENT="transactionUpdated",n.TRANSACTION_ERRORED_EVENT="transactionErrored",n.TRANSACTION_CANCEL_ATTEMPTED_EVENT="transactionCancelAttempted",n.TRANSACTION_CANCEL_SUCCESS_EVENT="transactionCancelSuccess",n.SUBMITTED_STATUS="submitted",n.CONFIRMED_STATUS="confirmed",n.DROPPED_STATUS="dropped"}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log.constants.js"}],[4509,{"../../../ducks/metamask/metamask":4968,"../../../selectors":5584,"./transaction-activity-log.component":4507,"./transaction-activity-log.constants":4508,"./transaction-activity-log.util":4510,lodash:3509,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("lodash"),i=e("../../../selectors"),s=e("../../../ducks/metamask/metamask"),l=(a=e("./transaction-activity-log.component"))&&a.__esModule?a:{default:a},c=e("./transaction-activity-log.util"),u=e("./transaction-activity-log.constants");const d=e=>({eventKey:t})=>t===e;n.default=(0,r.connect)((e=>({conversionRate:(0,i.conversionRateSelector)(e),nativeCurrency:(0,s.getNativeCurrency)(e),rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e)})),null,((e,t,n)=>{const{transactionGroup:{transactions:a=[],primaryTransaction:r}={},...i}=n,s=(0,c.combineTransactionHistories)(a);return{...e,...t,...i,activities:s,inlineRetryIndex:(0,o.findLastIndex)(s,d(u.TRANSACTION_RESUBMITTED_EVENT)),inlineCancelIndex:(0,o.findLastIndex)(s,d(u.TRANSACTION_CANCEL_ATTEMPTED_EVENT)),primaryTransaction:r}}))(l.default)}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log.container.js"}],[4510,{"../../../../shared/modules/conversion.utils":4218,"../../../helpers/utils/confirm-tx.util":5001,"./transaction-activity-log.constants":4508,"@metamask/transaction-controller":1960},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.combineTransactionHistories=function(e=[]){if(!e.length)return[];const t=[];e.forEach(((e,n)=>{const a=h(e,0===n);t.push(...a)}));return function(e){const t=[],n=Boolean(e.find((({eventKey:e})=>e===i.TRANSACTION_CONFIRMED_EVENT||e===i.TRANSACTION_CANCEL_SUCCESS_EVENT)));let a=!1;return e.forEach((e=>{e.eventKey===i.TRANSACTION_DROPPED_EVENT?n||a||(t.push(e),a=!0):t.push(e)})),t}(t.sort(((e,t)=>e.timestamp-t.timestamp)))},n.getActivities=h;var a=e("@metamask/transaction-controller"),r=e("../../../../shared/modules/conversion.utils"),o=e("../../../helpers/utils/confirm-tx.util"),i=e("./transaction-activity-log.constants");const s="/status",l="/txParams/gasPrice",c="/txParams/gas",u="/estimatedBaseFee",d="/blockTimestamp",p="replace",f={[s]:!0,[l]:!0,[c]:!0,[d]:!0},m={[i.SUBMITTED_STATUS]:i.TRANSACTION_SUBMITTED_EVENT,[i.CONFIRMED_STATUS]:i.TRANSACTION_CONFIRMED_EVENT,[i.DROPPED_STATUS]:i.TRANSACTION_DROPPED_EVENT};function h(e,t=!1){const{id:n,chainId:h,hash:y,history:g=[],txParams:{gas:b,gasPrice:v,maxPriorityFeePerGas:T},txReceipt:{status:E}={},type:w,estimatedBaseFee:_}=e,x=_&&T&&(0,r.sumHexes)(_,T);let O="0x0",S="0x0";const C=g.reduce(((e,g,T)=>{if(0===T&&!Array.isArray(g)&&g.txParams){const{time:a,estimatedBaseFee:o,txParams:{value:s,gas:l="0x0",gasPrice:c,maxPriorityFeePerGas:u}={}}=g,d=o&&u&&(0,r.sumHexes)(o,u);if(O=l,S=d||c||v||"0x0",t)return e.concat({id:n,hash:y,chainId:h,eventKey:i.TRANSACTION_CREATED_EVENT,timestamp:a,value:s})}else if(Array.isArray(g)){const t=[];return g.forEach((r=>{const{op:T,path:E,value:_,timestamp:C}=r,k=C||g[0]&&g[0].timestamp;if(E in f&&T===p||E===u&&"add"===T)switch(E){case s:{const e="0x0"===O&&"0x0"===S?(0,o.getHexGasTotal)({gasLimit:b,gasPrice:x||v}):(0,o.getHexGasTotal)({gasLimit:O,gasPrice:S});if(_ in m){let r=m[_];_===i.SUBMITTED_STATUS?w===a.TransactionType.retry?r=i.TRANSACTION_RESUBMITTED_EVENT:w===a.TransactionType.cancel&&(r=i.TRANSACTION_CANCEL_ATTEMPTED_EVENT):_===i.CONFIRMED_STATUS&&w===a.TransactionType.cancel&&(r=i.TRANSACTION_CANCEL_SUCCESS_EVENT),t.push({id:n,hash:y,eventKey:r,timestamp:k,chainId:h,value:e})}break}case l:case c:case u:{const e=t[t.length-1]||{},{lastEventKey:n}=e;if(E===c)O=_;else if(E===l)S=_;else if(E===u){var I;S=x||(null==g||null===(I=g.txParams)||void 0===I?void 0:I.gasPrice),e.value=(0,o.getHexGasTotal)({gasLimit:b,gasPrice:S})}n!==i.TRANSACTION_SUBMITTED_EVENT&&n!==i.TRANSACTION_RESUBMITTED_EVENT||(e.value=(0,o.getHexGasTotal)({gasLimit:O,gasPrice:S}));break}case d:{const t=e.find((e=>e.eventKey===i.TRANSACTION_CONFIRMED_EVENT));t!==undefined&&(t.timestamp=new Date(1e3*parseInt(r.value,16)).getTime());break}default:t.push({id:n,hash:y,chainId:h,eventKey:i.TRANSACTION_UPDATED_EVENT,timestamp:k})}})),e.concat(t)}return e}),[]);return"0x0"===E?C.concat({id:n,hash:y,chainId:h,eventKey:i.TRANSACTION_ERRORED_EVENT}):C}}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log.util.js"}],[4511,{"./transaction-breakdown.container":4515},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-breakdown.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-breakdown/index.js"}],[4512,{"./transaction-breakdown-row.component":4513},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-breakdown-row.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-breakdown/transaction-breakdown-row/index.js"}],[4513,{classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=c(e("prop-types")),l=c(e("classnames"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}class d extends i.PureComponent{render(){const{title:e,children:t,className:n,divider:a=!1}=this.props;return i.default.createElement("div",{className:(0,l.default)("transaction-breakdown-row",a?"transaction-breakdown-row--with-bottom-border":"",n),"data-testid":"transaction-breakdown-row"},i.default.createElement("div",{className:"transaction-breakdown-row__title","data-testid":"transaction-breakdown-row-title"},e),i.default.createElement("div",{className:"transaction-breakdown-row__value","data-testid":"transaction-breakdown-row-value"},t))}}n.default=d,a=d,r="propTypes",o={title:s.default.string,children:s.default.node,className:s.default.string,divider:s.default.bool},(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$",file:"ui/components/app/transaction-breakdown/transaction-breakdown-row/transaction-breakdown-row.component.js"}],[4514,{"../../../../shared/constants/common":4180,"../../../helpers/constants/common":4974,"../../ui/currency-display":4834,"../../ui/hex-to-decimal":4853,"../user-preferenced-currency-display":4527,"./transaction-breakdown-row":4512,classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=p(e("prop-types")),o=p(e("classnames")),i=p(e("../../ui/currency-display")),s=p(e("../user-preferenced-currency-display")),l=p(e("../../ui/hex-to-decimal")),c=e("../../../helpers/constants/common"),u=e("../../../../shared/constants/common"),d=p(e("./transaction-breakdown-row"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.PureComponent{render(){const{t:e}=this.context,{gas:t,gasPrice:n,maxFeePerGas:r,primaryCurrency:p,className:f,nonce:m,nativeCurrency:h,showFiat:y,totalInHex:g,gasUsed:b,isTokenApprove:v,baseFee:T,priorityFee:E,hexGasTotal:w,isEIP1559Transaction:_,l1HexGasTotal:x}=this.props;return a.default.createElement("div",{className:(0,o.default)("transaction-breakdown",f)},a.default.createElement("div",{className:"transaction-breakdown__title"},e("transaction")),a.default.createElement(d.default,{divider:!0,title:e("nonce")},void 0===m?null:a.default.createElement(l.default,{className:"transaction-breakdown__value",value:m})),a.default.createElement(d.default,{title:e(v?"spendingCap":"amount")},a.default.createElement("span",{className:"transaction-breakdown__value transaction-breakdown__value--amount","data-testid":"transaction-breakdown-value-amount"},p)),a.default.createElement(d.default,{title:x?e("transactionHistoryL2GasLimitLabel"):`${e("gasLimit")} (${e("units")})`,className:"transaction-breakdown__row-title"},void 0===t?"?":a.default.createElement(l.default,{className:"transaction-breakdown__value",value:t})),"string"==typeof b&&a.default.createElement(d.default,{title:`${e("gasUsed")} (${e("units")})`,className:"transaction-breakdown__row-title"},a.default.createElement(l.default,{className:"transaction-breakdown__value",value:b})),_&&void 0!==T?a.default.createElement(d.default,{title:e("transactionHistoryBaseFee")},a.default.createElement(i.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__base-fee",currency:h,denomination:u.EtherDenomination.GWEI,value:T,numberOfDecimals:10,hideLabel:!0})):null,_&&void 0!==E?a.default.createElement(d.default,{title:e("transactionHistoryPriorityFee")},a.default.createElement(i.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__priority-fee",currency:h,denomination:u.EtherDenomination.GWEI,value:E,numberOfDecimals:10,hideLabel:!0})):null,!_&&a.default.createElement(d.default,{title:e(x?"transactionHistoryL2GasPriceLabel":"advancedGasPriceTitle")},void 0===n?"?":a.default.createElement(i.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__gas-price",currency:h,denomination:u.EtherDenomination.GWEI,value:n,numberOfDecimals:9,hideLabel:!0})),_&&a.default.createElement(d.default,{title:e("transactionHistoryTotalGasFee")},a.default.createElement(s.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__effective-gas-price",currency:h,denomination:u.EtherDenomination.ETH,numberOfDecimals:6,value:w,type:c.PRIMARY}),y&&a.default.createElement(s.default,{className:"transaction-breakdown__value",type:c.SECONDARY,value:w})),_&&a.default.createElement(d.default,{divider:!0,title:e("transactionHistoryMaxFeePerGas")},a.default.createElement(s.default,{className:"transaction-breakdown__value",currency:h,denomination:u.EtherDenomination.ETH,numberOfDecimals:9,value:r,type:c.PRIMARY}),y&&a.default.createElement(s.default,{className:"transaction-breakdown__value",type:c.SECONDARY,value:r})),x&&a.default.createElement(d.default,{title:e("transactionHistoryL1GasLabel")},a.default.createElement(s.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__l1-gas-total",numberOfDecimals:18,value:x,type:c.PRIMARY}),y&&a.default.createElement(s.default,{className:"transaction-breakdown__value",type:c.SECONDARY,value:x})),a.default.createElement(d.default,{title:e("total")},a.default.createElement(s.default,{className:"transaction-breakdown__value transaction-breakdown__value--eth-total",type:c.PRIMARY,value:g,numberOfDecimals:x?18:null}),y&&a.default.createElement(s.default,{className:"transaction-breakdown__value",type:c.SECONDARY,value:g})))}}n.default=h,m(h,"contextTypes",{t:r.default.func}),m(h,"propTypes",{className:r.default.string,nativeCurrency:r.default.string,showFiat:r.default.bool,nonce:r.default.string,primaryCurrency:r.default.string,isTokenApprove:r.default.bool,gas:r.default.oneOfType([r.default.string,r.default.number]),gasPrice:r.default.oneOfType([r.default.string,r.default.number]),maxFeePerGas:r.default.oneOfType([r.default.string,r.default.number]),gasUsed:r.default.oneOfType([r.default.string,r.default.number]),totalInHex:r.default.oneOfType([r.default.string,r.default.number]),baseFee:r.default.oneOfType([r.default.string,r.default.number]),priorityFee:r.default.oneOfType([r.default.string,r.default.number]),hexGasTotal:r.default.string,isEIP1559Transaction:r.default.bool,l1HexGasTotal:r.default.string}),m(h,"defaultProps",{showFiat:!0})}}},{package:"$root$",file:"ui/components/app/transaction-breakdown/transaction-breakdown.component.js"}],[4515,{"../../../../shared/modules/conversion.utils":4218,"../../../../shared/modules/transaction.utils":4240,"../../../ducks/metamask/metamask":4968,"../../../helpers/utils/confirm-tx.util":5001,"../../../selectors":5584,"./transaction-breakdown.component":4514,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../selectors"),i=e("../../../ducks/metamask/metamask"),s=e("../../../helpers/utils/confirm-tx.util"),l=e("../../../../shared/modules/transaction.utils"),c=e("../../../../shared/modules/conversion.utils"),u=(a=e("./transaction-breakdown.component"))&&a.__esModule?a:{default:a};n.default=(0,r.connect)(((e,t)=>{const{transaction:n,isTokenApprove:a}=t,{txParams:{gas:r,gasPrice:u,maxFeePerGas:d,value:p}={},txReceipt:{gasUsed:f,effectiveGasPrice:m,l1Fee:h}={},baseFeePerGas:y}=n,g="string"==typeof f?f:r,b=m&&y&&(0,c.subtractHexes)(m,y),v=u||m,T=g&&v&&(0,s.getHexGasTotal)({gasLimit:g,gasPrice:v})||"0x0",E=(0,c.sumHexes)(T,p,h??0);return{nativeCurrency:(0,i.getNativeCurrency)(e),showFiat:(0,o.getShouldShowFiat)(e),totalInHex:E,gas:r,gasPrice:u,maxFeePerGas:d,gasUsed:f,isTokenApprove:a,hexGasTotal:T,priorityFee:b,baseFee:y,isEIP1559Transaction:(0,l.isEIP1559Transaction)(n),l1HexGasTotal:h}}))(u.default)}}},{package:"$root$",file:"ui/components/app/transaction-breakdown/transaction-breakdown.container.js"}],[4516,{"./transaction-icon":4517},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-icon"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-icon/index.js"}],[4517,{"../../../../shared/constants/transaction":4203,"../../../helpers/constants/design-system":4976,"../../../store/actions":5592,"../../component-library":4608,"@metamask/transaction-controller":1960,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=d(e("react")),r=e("react-redux"),o=d(e("prop-types")),i=e("@metamask/transaction-controller"),s=e("../../../../shared/constants/transaction"),l=e("../../../store/actions"),c=e("../../component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}const p={[s.TransactionGroupCategory.approval]:c.IconName.Check,[s.TransactionGroupCategory.interaction]:c.IconName.ProgrammingArrows,[s.TransactionGroupCategory.receive]:c.IconName.Received,[s.TransactionGroupCategory.send]:c.IconName.Arrow2UpRight,[s.TransactionGroupCategory.signatureRequest]:c.IconName.SecurityTick,[s.TransactionGroupCategory.swap]:c.IconName.SwapHorizontal},f={[s.TransactionGroupStatus.pending]:u.IconColor.primaryDefault,[s.TransactionGroupStatus.cancelled]:u.IconColor.errorDefault,[i.TransactionStatus.approved]:u.IconColor.primaryDefault,[i.TransactionStatus.dropped]:u.IconColor.errorDefault,[i.TransactionStatus.failed]:u.IconColor.errorDefault,[i.TransactionStatus.rejected]:u.IconColor.errorDefault,[i.TransactionStatus.submitted]:u.IconColor.primaryDefault,[i.TransactionStatus.unapproved]:u.IconColor.primaryDefault},m={[s.TransactionGroupStatus.pending]:u.BackgroundColor.primaryMuted,[s.TransactionGroupStatus.cancelled]:u.BackgroundColor.errorMuted,[i.TransactionStatus.approved]:u.BackgroundColor.primaryMuted,[i.TransactionStatus.dropped]:u.BackgroundColor.errorMuted,[i.TransactionStatus.failed]:u.BackgroundColor.errorMuted,[i.TransactionStatus.rejected]:u.BackgroundColor.errorMuted,[i.TransactionStatus.submitted]:u.BackgroundColor.primaryMuted,[i.TransactionStatus.unapproved]:u.BackgroundColor.primaryMuted};function h({status:e,category:t}){const n=(0,r.useDispatch)(),o=f[e]||u.IconColor.primaryDefault,i=m[e]||u.BackgroundColor.primaryMuted,s=p[t];return s?a.default.createElement(c.AvatarIcon,{backgroundColor:i,iconName:s,size:c.AvatarIconSize.Md,color:o}):(n((0,l.captureSingleException)(`The category prop passed to TransactionIcon is not supported. The prop is: ${t}`)),a.default.createElement(c.AvatarIcon,{backgroundColor:u.BackgroundColor.backgroundAlternative,size:c.AvatarIconSize.Md}))}h.propTypes={status:o.default.oneOf([s.TransactionGroupStatus.cancelled,s.TransactionGroupStatus.pending,i.TransactionStatus.approved,i.TransactionStatus.confirmed,i.TransactionStatus.dropped,i.TransactionStatus.failed,i.TransactionStatus.rejected,i.TransactionStatus.submitted,i.TransactionStatus.unapproved]).isRequired,category:o.default.oneOf([s.TransactionGroupCategory.approval,s.TransactionGroupCategory.interaction,s.TransactionGroupCategory.receive,s.TransactionGroupCategory.send,s.TransactionGroupCategory.signatureRequest,s.TransactionGroupCategory.swap]).isRequired}}}},{package:"$root$",file:"ui/components/app/transaction-icon/transaction-icon.js"}],[4518,{"./transaction-list-item-details.container":4520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-list-item-details.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-list-item-details/index.js"}],[4519,{"../../../../shared/constants/copy":4181,"../../../../shared/constants/metametrics":4188,"../../../../shared/constants/time":4201,"../../../helpers/constants/routes":4981,"../../../helpers/utils/util":5018,"../../component-library/box":4571,"../../ui/button":4821,"../../ui/disclosure":4841,"../../ui/popover":4904,"../../ui/sender-to-recipient":4910,"../../ui/sender-to-recipient/sender-to-recipient.constants":4912,"../../ui/tooltip":4936,"../cancel-button":4257,"../transaction-activity-log":4504,"../transaction-breakdown":4511,"@metamask/etherscan-link":1253,"@metamask/transaction-controller":1960,"copy-to-clipboard":2728,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=_(e("prop-types")),o=_(e("copy-to-clipboard")),i=e("@metamask/etherscan-link"),s=e("@metamask/transaction-controller"),l=_(e("../../ui/sender-to-recipient")),c=e("../../ui/sender-to-recipient/sender-to-recipient.constants"),u=_(e("../../ui/disclosure")),d=_(e("../transaction-activity-log")),p=_(e("../transaction-breakdown")),f=_(e("../../ui/button")),m=_(e("../../ui/tooltip")),h=_(e("../cancel-button")),y=_(e("../../ui/popover")),g=e("../../component-library/box"),b=e("../../../../shared/constants/time"),v=e("../../../../shared/constants/metametrics"),T=e("../../../helpers/utils/util"),E=e("../../../helpers/constants/routes"),w=e("../../../../shared/constants/copy");function _(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends a.PureComponent{constructor(...e){super(...e),O(this,"state",{justCopied:!1}),O(this,"handleBlockExplorerClick",(()=>{const{transactionGroup:{primaryTransaction:e},rpcPrefs:t,isCustomNetwork:n,history:a,onClose:r}=this.props,o=(0,i.getBlockExplorerLink)(e,t);!t.blockExplorerUrl&&n?(r(),a.push(`${E.NETWORKS_ROUTE}#blockExplorerUrl`)):(this.context.trackEvent({category:v.MetaMetricsEventCategory.Transactions,event:"Clicked Block Explorer Link",properties:{link_type:"Transaction Block Explorer",action:"Transaction Details",block_explorer_domain:(0,T.getURLHostName)(o)}}),global.platform.openTab({url:o}))})),O(this,"handleCancel",(e=>{const{onCancel:t,onClose:n}=this.props;t(e),n()})),O(this,"handleRetry",(e=>{const{onClose:t,onRetry:n}=this.props;n(e),t()})),O(this,"handleCopyTxId",(()=>{const{transactionGroup:e}=this.props,{primaryTransaction:t}=e,{hash:n}=t;this.context.trackEvent({category:v.MetaMetricsEventCategory.Navigation,event:"Copied Transaction ID",properties:{action:"Activity Log",legacy_event:!0}}),this.setState({justCopied:!0},(()=>{(0,o.default)(n,w.COPY_OPTIONS),setTimeout((()=>this.setState({justCopied:!1})),b.SECOND)}))}))}componentDidMount(){const{recipientAddress:e,tryReverseResolveAddress:t}=this.props;e&&t(e)}render(){const{t:e}=this.context,{justCopied:t}=this.state,{transactionGroup:n,primaryCurrency:r,showSpeedUp:o,showRetry:i,recipientEns:b,recipientAddress:T,recipientName:E,recipientMetadataName:w,senderAddress:_,isEarliestNonce:x,senderNickname:O,title:S,onClose:C,recipientNickname:k,showCancel:I,transactionStatus:N,blockExplorerLinkText:M}=this.props,{primaryTransaction:P,initialTransaction:{type:A}}=n,{hash:R}=P;return a.default.createElement(y.default,{title:S,onClose:C},a.default.createElement("div",{className:"transaction-list-item-details"},a.default.createElement("div",{className:"transaction-list-item-details__operations"},a.default.createElement("div",{className:"transaction-list-item-details__header-buttons"},o&&a.default.createElement(f.default,{type:"primary",onClick:this.handleRetry,className:"transaction-list-item-details__header-button-rounded-button","data-testid":"speedup-button"},e("speedUp")),I&&a.default.createElement(h.default,{transaction:P,cancelTransaction:this.handleCancel,detailsModal:!0}),i&&a.default.createElement(m.default,{title:e("retryTransaction")},a.default.createElement(f.default,{type:"raised",onClick:this.handleRetry,className:"transaction-list-item-details__header-button","data-testid":"rety-button"},a.default.createElement("i",{className:"fa fa-sync"}))))),a.default.createElement("div",{className:"transaction-list-item-details__header"},a.default.createElement("div",{className:"transaction-list-item-details__tx-status","data-testid":"transaction-list-item-details-tx-status"},a.default.createElement("div",null,e("status")),a.default.createElement("div",null,a.default.createElement(N,null))),a.default.createElement("div",{className:"transaction-list-item-details__tx-hash"},a.default.createElement("div",null,a.default.createElement(f.default,{type:"link",onClick:this.handleBlockExplorerClick,disabled:!R},"addBlockExplorer"===M.firstPart?e("addBlockExplorer"):e("viewOnBlockExplorer"))),a.default.createElement("div",null,a.default.createElement(m.default,{wrapperClassName:"transaction-list-item-details__header-button",containerClassName:"transaction-list-item-details__header-button-tooltip-container",title:t?e("copiedExclamation"):null},a.default.createElement(f.default,{type:"link",onClick:this.handleCopyTxId,disabled:!R},e("copyTransactionId")))))),a.default.createElement("div",{className:"transaction-list-item-details__body"},a.default.createElement("div",{className:"transaction-list-item-details__sender-to-recipient-header"},a.default.createElement("div",null,e("from")),a.default.createElement("div",null,e("to"))),a.default.createElement("div",{className:"transaction-list-item-details__sender-to-recipient-container"},a.default.createElement(l.default,{warnUserOnAccountMismatch:!1,variant:c.DEFAULT_VARIANT,addressOnly:!0,recipientEns:b,recipientAddress:T,recipientNickname:k,recipientName:E,recipientMetadataName:w,senderName:O,senderAddress:_,onRecipientClick:()=>{this.context.trackEvent({category:v.MetaMetricsEventCategory.Navigation,event:'Copied "To" Address',properties:{action:"Activity Log",legacy_event:!0}})},onSenderClick:()=>{this.context.trackEvent({category:v.MetaMetricsEventCategory.Navigation,event:'Copied "From" Address',properties:{action:"Activity Log",legacy_event:!0}})}})),a.default.createElement("div",{className:"transaction-list-item-details__cards-container"},a.default.createElement(p.default,{nonce:n.initialTransaction.txParams.nonce,isTokenApprove:A===s.TransactionType.tokenMethodApprove||A===s.TransactionType.tokenMethodSetApprovalForAll,transaction:P,primaryCurrency:r,className:"transaction-list-item-details__transaction-breakdown"}),n.initialTransaction.type!==s.TransactionType.incoming&&a.default.createElement(g.Box,{marginTop:3,marginBottom:3},a.default.createElement(u.default,{title:e("activityLog"),size:"small",isScrollToBottomOnOpen:!0},a.default.createElement(d.default,{transactionGroup:n,className:"transaction-list-item-details__transaction-activity-log",onCancel:this.handleCancel,onRetry:this.handleRetry,isEarliestNonce:x})))))))}}n.default=S,O(S,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),O(S,"defaultProps",{recipientEns:null}),O(S,"propTypes",{onCancel:r.default.func,onRetry:r.default.func,showCancel:r.default.bool,showSpeedUp:r.default.bool,showRetry:r.default.bool,isEarliestNonce:r.default.bool,primaryCurrency:r.default.string,transactionGroup:r.default.object,title:r.default.string.isRequired,onClose:r.default.func.isRequired,recipientEns:r.default.string,recipientAddress:r.default.string,recipientName:r.default.string,recipientMetadataName:r.default.string,rpcPrefs:r.default.object,senderAddress:r.default.string.isRequired,tryReverseResolveAddress:r.default.func.isRequired,senderNickname:r.default.string.isRequired,recipientNickname:r.default.string,transactionStatus:r.default.func,isCustomNetwork:r.default.bool,history:r.default.object,blockExplorerLinkText:r.default.object})}}},{package:"$root$",file:"ui/components/app/transaction-list-item-details/transaction-list-item-details.component.js"}],[4520,{"../../../../shared/modules/hexstring-utils":4225,"../../../selectors":5584,"../../../store/actions":5592,"./transaction-list-item-details.component":4519,"react-redux":3843,"react-router-dom":3863,redux:3908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),i=e("react-router-dom"),s=e("../../../store/actions"),l=e("../../../selectors"),c=e("../../../../shared/modules/hexstring-utils"),u=(a=e("./transaction-list-item-details.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)(((e,t)=>{const{recipientAddress:n,senderAddress:a}=t;let r;if(n){const t=(0,c.toChecksumHexAddress)(n);r=(0,l.getEnsResolutionByAddress)(e,t)}const o=(0,l.getAddressBook)(e),i=(0,l.getInternalAccounts)(e),s=(0,l.getAccountName)(i,n),u=(0,l.getMetadataContractName)(e,n),d=e=>{const t=o.find((t=>e.toLowerCase()===t.address.toLowerCase()));return t&&t.name||""},p=(0,l.getRpcPrefsForCurrentProvider)(e),f=(0,l.getIsCustomNetwork)(e);return{rpcPrefs:p,recipientEns:r,senderNickname:d(a),recipientNickname:n?d(n):null,isCustomNetwork:f,blockExplorerLinkText:(0,l.getBlockExplorerLinkText)(e),recipientName:s,recipientMetadataName:u}}),(e=>({tryReverseResolveAddress:t=>e((0,s.tryReverseResolveAddress)(t))}))))(u.default)}}},{package:"$root$",file:"ui/components/app/transaction-list-item-details/transaction-list-item-details.container.js"}],[4521,{"./transaction-list-item.component":4523},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-list-item.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-list-item/index.js"}],[4522,{"../../../../shared/constants/transaction":4203,"../../../ducks/swaps/swaps":4972,"../../../helpers/constants/design-system":4976,"../../../helpers/utils/util":5018,"../../../hooks/useTransactionDisplayData":5061,"../../../selectors":5584,"../../component-library":4608,"../../multichain":4734,"../cancel-button":4257,"../transaction-icon":4516,"../transaction-list-item-details":4518,"../transaction-status-label/transaction-status-label":4526,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=b(e("prop-types")),o=e("react-redux"),i=b(e("../transaction-status-label/transaction-status-label")),s=b(e("../transaction-icon")),l=e("../../../hooks/useTransactionDisplayData"),c=e("../../../helpers/utils/util"),u=e("../../../../shared/constants/transaction"),d=b(e("../cancel-button")),p=e("../../../ducks/swaps/swaps"),f=b(e("../transaction-list-item-details")),m=e("../../multichain"),h=e("../../component-library"),y=e("../../../helpers/constants/design-system"),g=e("../../../selectors");function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function T({smartTransaction:e,transactionGroup:t,isEarliestNonce:n=!1}){var r;const b=(0,o.useDispatch)(),[v,T]=(0,a.useState)(!1),[E,w]=(0,a.useState)(!1),{title:_,category:x,primaryCurrency:O,recipientAddress:S,isPending:C,senderAddress:k}=(0,l.useTransactionDisplayData)(t),I=(0,o.useSelector)(g.getCurrentNetwork),{time:N,status:M}=e,P=(0,c.formatDateWithYearContext)(N,"MMM d, y","MMM d");let A;M===u.SmartTransactionStatus.pending?A=u.TransactionGroupStatus.pending:null!=M&&M.startsWith(u.SmartTransactionStatus.cancelled)&&(A=u.TransactionGroupStatus.cancelled);const R=e.cancellable&&!v,j=(0,a.useCallback)((()=>{w((e=>!e))}),[]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(m.ActivityListItem,{className:"transaction-list-item transaction-list-item--unconfirmed",title:_,onClick:j,icon:a.default.createElement(h.BadgeWrapper,{anchorElementShape:h.BadgeWrapperAnchorElementShape.circular,positionObj:{top:-4,right:-4},display:y.Display.Block,badge:a.default.createElement(h.AvatarNetwork,{className:"activity-tx__network-badge","data-testid":"activity-tx-network-badge",size:h.AvatarNetworkSize.Xs,name:null==I?void 0:I.nickname,src:null==I||null===(r=I.rpcPrefs)||void 0===r?void 0:r.imageUrl,borderWidth:1,borderColor:y.BackgroundColor.backgroundDefault})},a.default.createElement(s.default,{category:x,status:A})),subtitle:a.default.createElement(i.default,{isPending:!0,isEarliestNonce:n,date:P,status:A})},A===u.TransactionGroupStatus.pending&&R&&a.default.createElement(h.Box,{paddingTop:4,className:"transaction-list-item__pending-actions"},a.default.createElement(d.default,{transaction:e.uuid,cancelTransaction:t=>{null==t||t.preventDefault(),b((0,p.cancelSwapsSmartTransaction)(e.uuid)),T(!0)}}))),E&&a.default.createElement(f.default,{title:_,onClose:j,senderAddress:k,recipientAddress:S,primaryCurrency:O,isEarliestNonce:n,transactionGroup:t,transactionStatus:()=>a.default.createElement(i.default,{isPending:C,isEarliestNonce:n,date:P,status:A,statusOnly:!0})}))}T.propTypes={smartTransaction:r.default.object.isRequired,isEarliestNonce:r.default.bool,transactionGroup:r.default.object}}}},{package:"$root$",file:"ui/components/app/transaction-list-item/smart-transaction-list-item.component.js"}],[4523,{"../../../../shared/constants/gas":4183,"../../../../shared/constants/metametrics":4188,"../../../../shared/constants/transaction":4203,"../../../../shared/modules/selectors":4235,"../../../contexts/gasFee":4948,"../../../contexts/metametrics":4950,"../../../contexts/transaction-modal":4954,"../../../helpers/constants/design-system":4976,"../../../helpers/constants/routes":4981,"../../../helpers/utils/transactions.util":5016,"../../../helpers/utils/util":5018,"../../../hooks/useI18nContext":5039,"../../../hooks/useShouldShowSpeedUp":5052,"../../../hooks/useTransactionDisplayData":5061,"../../../pages/confirmations/components/advanced-gas-fee-popover":5100,"../../../pages/confirmations/components/edit-gas-fee-popover":5173,"../../../pages/confirmations/components/edit-gas-popover":5180,"../../../selectors":5584,"../../../store/actions":5592,"../../component-library":4608,"../../multichain":4734,"../../ui/button":4821,"../cancel-button":4257,"../cancel-speedup-popover":4259,"../transaction-icon":4516,"../transaction-list-item-details":4518,"../transaction-status-label/transaction-status-label":4526,"@metamask/transaction-controller":1960,classnames:2687,"prop-types":3665,react:3878,"react-redux":3843,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=D(e("prop-types")),o=D(e("classnames")),i=e("react-router-dom"),s=e("react-redux"),l=e("@metamask/transaction-controller"),c=e("../../../hooks/useTransactionDisplayData"),u=e("../../../hooks/useI18nContext"),d=D(e("../transaction-list-item-details")),p=e("../../../helpers/constants/routes"),f=e("../../../hooks/useShouldShowSpeedUp"),m=D(e("../transaction-status-label/transaction-status-label")),h=D(e("../transaction-icon")),y=e("../../../helpers/constants/design-system"),g=e("../../component-library"),b=e("../../../../shared/constants/metametrics"),v=e("../../../../shared/constants/transaction"),T=e("../../../../shared/constants/gas"),E=e("../../../contexts/gasFee"),w=e("../../../contexts/transaction-modal"),_=e("../../../selectors"),x=e("../../../helpers/utils/transactions.util"),O=e("../../../helpers/utils/util"),S=D(e("../../ui/button")),C=D(e("../../../pages/confirmations/components/advanced-gas-fee-popover")),k=D(e("../cancel-button")),I=D(e("../cancel-speedup-popover")),N=D(e("../../../pages/confirmations/components/edit-gas-fee-popover")),M=D(e("../../../pages/confirmations/components/edit-gas-popover")),P=e("../../../contexts/metametrics"),A=e("../../multichain"),R=e("../../../store/actions"),j=e("../../../../shared/modules/selectors");function D(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},F.apply(this,arguments)}function L({transactionGroup:e,setEditGasMode:t,isEarliestNonce:n=!1}){var r;const x=(0,u.useI18nContext)(),C=(0,i.useHistory)(),{hasCancelled:I}=e,[N,D]=(0,a.useState)(!1),[B,F]=(0,a.useState)(!1),[L,$]=(0,a.useState)(!1),{supportsEIP1559:W}=(0,E.useGasFeeContext)(),{openModal:U}=(0,w.useTransactionModalContext)(),V=(0,s.useSelector)(_.getTestNetworkBackgroundColor),H=(0,s.useSelector)(j.getIsSmartTransaction),z=(0,s.useDispatch)(),{initialTransaction:{id:q},primaryTransaction:{error:G,status:Y}}=e,Q=(0,a.useContext)(P.MetaMetricsContext),K=(0,a.useCallback)((async e=>{e.stopPropagation(),Q({event:'Clicked "Speed Up"',category:b.MetaMetricsEventCategory.Navigation,properties:{action:"Activity Log",legacy_event:!0}}),W?(t(T.EditGasModes.speedUp),U("cancelSpeedUpTransaction")):$(!0)}),[U,t,Q,W]),J=(0,a.useCallback)((e=>{e.stopPropagation(),Q({event:'Clicked "Cancel"',category:b.MetaMetricsEventCategory.Navigation,properties:{action:"Activity Log",legacy_event:!0}}),Y===l.TransactionStatus.approved?z((0,R.abortTransactionSigning)(q)):W?(t(T.EditGasModes.cancel),U("cancelSpeedUpTransaction")):F(!0)}),[Q,U,t,W,Y,z,q]),X=(0,f.useShouldShowSpeedUp)(e,n),{title:Z,category:ee,primaryCurrency:te,recipientAddress:ne,secondaryCurrency:ae,displayedStatusKey:re,isPending:oe,senderAddress:ie}=(0,c.useTransactionDisplayData)(e),se=(0,O.formatDateWithYearContext)(e.primaryTransaction.time,"MMM d, y","MMM d"),le=ee===v.TransactionGroupCategory.signatureRequest,ce=ee===v.TransactionGroupCategory.approval,ue=Y===l.TransactionStatus.unapproved,de=ee===v.TransactionGroupCategory.swap,pe=Y===l.TransactionStatus.approved,fe=Y===l.TransactionStatus.signed,me=(0,o.default)("transaction-list-item",{"transaction-list-item--unconfirmed":oe||[l.TransactionStatus.failed,l.TransactionStatus.dropped,l.TransactionStatus.rejected].includes(re)}),he=(0,a.useCallback)((()=>{ue?C.push(`${p.CONFIRM_TRANSACTION_ROUTE}/${q}`):D((e=>(Q({event:e?b.MetaMetricsEventName.ActivityDetailsClosed:b.MetaMetricsEventName.ActivityDetailsOpened,category:b.MetaMetricsEventCategory.Navigation,properties:{activity_type:ee}}),!e)))}),[ue,C,q,Q,ee]),ye=(0,a.useMemo)((()=>!X||!oe||ue||pe||fe?null:a.default.createElement(S.default,{"data-testid":"speed-up-button",type:"primary",onClick:I?J:K,style:I?{width:"auto"}:null},x(I?"speedUpCancellation":"speedUp"))),[X,ue,x,oe,pe,fe,I,K,J]),ge=(0,s.useSelector)(_.getCurrentNetwork);let be=!I&&oe&&!ue&&!fe;return a.default.createElement(a.default.Fragment,null,a.default.createElement(A.ActivityListItem,{"data-testid":"activity-list-item",onClick:he,className:me,title:Z,icon:a.default.createElement(g.BadgeWrapper,{anchorElementShape:g.BadgeWrapperAnchorElementShape.circular,positionObj:{top:-4,right:-4},display:y.Display.Block,badge:a.default.createElement(g.AvatarNetwork,{className:"activity-tx__network-badge","data-testid":"activity-tx-network-badge",size:g.AvatarNetworkSize.Xs,name:null==ge?void 0:ge.nickname,src:null==ge||null===(r=ge.rpcPrefs)||void 0===r?void 0:r.imageUrl,borderWidth:1,borderColor:y.BackgroundColor.backgroundDefault,backgroundColor:V})},a.default.createElement(h.default,{category:ee,status:re})),subtitle:a.default.createElement(m.default,{statusOnly:!0,isPending:oe,isEarliestNonce:n,error:G,date:se,status:re}),rightContent:!le&&!ce&&a.default.createElement(a.default.Fragment,null,a.default.createElement(g.Text,{variant:y.TextVariant.bodyLgMedium,fontWeight:y.FontWeight.Medium,color:y.Color.textDefault,title:te,textAlign:y.TextAlign.Right,"data-testid":"transaction-list-item-primary-currency",className:"activity-list-item__primary-currency",ellipsis:!0},te),a.default.createElement(g.Text,{variant:y.TextVariant.bodyMd,color:y.Color.textAlternative,textAlign:y.TextAlign.Right,"data-testid":"transaction-list-item-secondary-currency"},ae))},a.default.createElement(g.Box,{paddingTop:4,className:"transaction-list-item__pending-actions"},be&&a.default.createElement(k.default,{"data-testid":"cancel-button",transaction:e.primaryTransaction,cancelTransaction:J}),ye)),N&&a.default.createElement(d.default,{title:Z,onClose:he,transactionGroup:e,primaryCurrency:te,senderAddress:ie,recipientAddress:ne,onRetry:K,showRetry:Y===l.TransactionStatus.failed&&!de&&!H,showSpeedUp:X,isEarliestNonce:n,onCancel:J,showCancel:oe&&!I,transactionStatus:()=>a.default.createElement(m.default,{isPending:oe,isEarliestNonce:n,error:G,date:se,status:re,statusOnly:!0})}),!W&&L&&a.default.createElement(M.default,{onClose:()=>$(!1),mode:T.EditGasModes.speedUp,transaction:e.primaryTransaction}),!W&&B&&a.default.createElement(M.default,{onClose:()=>F(!1),mode:T.EditGasModes.cancel,transaction:e.primaryTransaction}))}L.propTypes={transactionGroup:r.default.object.isRequired,isEarliestNonce:r.default.bool,setEditGasMode:r.default.func};const $=e=>{const{transactionGroup:t}=e,[n,r]=(0,a.useState)(),o=t.primaryTransaction,i=(0,s.useSelector)(_.checkNetworkAndAccountSupports1559)&&!(0,x.isLegacyTransaction)(null==o?void 0:o.txParams),l=Boolean(t.primaryTransaction.custodyId);return a.default.createElement(E.GasFeeContextProvider,{transaction:t.primaryTransaction,editGasMode:n},a.default.createElement(w.TransactionModalContextProvider,null,a.default.createElement(L,F({},e,{setEditGasMode:r})),i&&a.default.createElement(a.default.Fragment,null,!l&&a.default.createElement(I.default,null),a.default.createElement(N.default,null),a.default.createElement(C.default,null))))};$.propTypes={transactionGroup:r.default.object.isRequired};n.default=$}}},{package:"$root$",file:"ui/components/app/transaction-list-item/transaction-list-item.component.js"}],[4524,{"./transaction-list.component":4525},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-list.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-list/index.js"}],[4525,{"../../../../shared/constants/swaps":4199,"../../../../shared/modules/string-utils":4238,"../../../helpers/constants/design-system":4976,"../../../helpers/constants/transactions":4987,"../../../helpers/utils/util":5018,"../../../hooks/useAccountTotalFiatBalance":5026,"../../../hooks/useI18nContext":5039,"../../../selectors":5584,"../../../selectors/transactions":5589,"../../component-library":4608,"../../multichain/ramps-card/ramps-card":4801,"../../ui/button":4821,"../transaction-list-item":4521,"../transaction-list-item/smart-transaction-list-item.component":4522,"@metamask/transaction-controller":1960,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=C;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=E(e("prop-types")),o=e("react-redux"),i=e("@metamask/transaction-controller"),s=e("../../../selectors/transactions"),l=e("../../../selectors"),c=e("../../../hooks/useI18nContext"),u=E(e("../transaction-list-item")),d=E(e("../transaction-list-item/smart-transaction-list-item.component")),p=E(e("../../ui/button")),f=e("../../../helpers/constants/transactions"),m=e("../../../../shared/constants/swaps"),h=e("../../../../shared/modules/string-utils"),y=e("../../component-library"),g=e("../../../helpers/constants/design-system"),b=e("../../../helpers/utils/util"),v=e("../../../hooks/useAccountTotalFiatBalance"),T=e("../../multichain/ramps-card/ramps-card");function E(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const _=10,x=({initialTransaction:{type:e,destinationTokenSymbol:t,sourceTokenSymbol:n}})=>!f.TOKEN_CATEGORY_HASH[e]&&(e!==i.TransactionType.swap||("ETH"===t||"ETH"===n)),O=(e,t,n,a)=>t?e.filter(x):n?e.filter(((e,t)=>({initialTransaction:{txParams:n}})=>(0,h.isEqualCaseInsensitive)(null==n?void 0:n.to,e)||(null==n?void 0:n.to)===m.SWAPS_CHAINID_CONTRACT_ADDRESS_MAP[t]&&n.data.match(e.slice(2)))(n,a)):e,S=e=>{const t=[];return e.forEach((e=>{const n=(0,b.formatDateWithYearContext)(e.primaryTransaction.time,"MMM d, y","MMM d"),a=t.find((e=>e.date===n));a?a.transactionGroups.push(e):t.push({date:n,dateMillis:e.primaryTransaction.time,transactionGroups:[e]}),t.sort(((e,t)=>t.dateMillis-e.dateMillis))})),t};function C({hideTokenTransactions:e,tokenAddress:t}){const[n,r]=(0,a.useState)(_),f=(0,c.useI18nContext)(),m=(0,o.useSelector)(s.nonceSortedPendingTransactionsSelector),h=(0,o.useSelector)(s.nonceSortedCompletedTransactionsSelector),b=(0,o.useSelector)(l.getCurrentChainId),{address:E}=(0,o.useSelector)(l.getSelectedAccount),w=(0,o.useSelector)(l.getShouldHideZeroBalanceTokens),{totalFiatBalance:x}=(0,v.useAccountTotalFiatBalance)(E,w),C=0===Number(x),k=(0,o.useSelector)(l.getIsBuyableChain)&&C,I=(e,t)=>0===e?a.default.createElement(y.Text,{paddingTop:4,paddingInline:4,variant:g.TextVariant.bodyMd,color:g.TextColor.textDefault,key:t.dateMillis},t.date):null,N=(0,a.useMemo)((()=>S(O(m,e,t,b))),[e,t,m,b]),M=(0,a.useMemo)((()=>S(O(h,e,t,b))),[e,t,h,b]),P=(0,a.useCallback)((()=>r((e=>e+_))),[]);return a.default.createElement(a.default.Fragment,null,k?a.default.createElement(T.RampsCard,{variant:T.RAMPS_CARD_VARIANT_TYPES.ACTIVITY}):null,a.default.createElement(y.Box,{className:"transaction-list",paddingTop:4},a.default.createElement(y.Box,{className:"transaction-list__transactions"},N.length>0&&a.default.createElement(y.Box,{className:"transaction-list__pending-transactions"},N.map((e=>e.transactionGroups.map(((t,n)=>{var r;return null!==(r=t.initialTransaction)&&void 0!==r&&r.isSmartTransaction?a.default.createElement(a.Fragment,{key:`${t.nonce}:${n}`},I(n,e),a.default.createElement(d.default,{isEarliestNonce:0===n,smartTransaction:t.initialTransaction,transactionGroup:t})):a.default.createElement(a.Fragment,{key:`${t.nonce}:${n}`},I(n,e),a.default.createElement(u.default,{isEarliestNonce:0===n,transactionGroup:t}))}))))),a.default.createElement(y.Box,{className:"transaction-list__completed-transactions"},M.length>0?M.map((e=>(e.transactionGroups=e.transactionGroups.map((e=>(e.transactions=e.transactions.filter((e=>!(e=>e.type===i.TransactionType.incoming&&e.txParams.to.toLowerCase()!==E.toLowerCase())(e))),e))),e))).map((e=>(e.transactionGroups=e.transactionGroups.filter((e=>e.transactions.length>0)),e))).filter((e=>e.transactionGroups.length>0)).slice(0,n).map((e=>e.transactionGroups.map(((t,r)=>{var o;return a.default.createElement(a.Fragment,{key:`${t.nonce}:${t.initialTransaction?r:n+r-10}`},I(r,e),null!==(o=t.initialTransaction)&&void 0!==o&&o.isSmartTransaction?a.default.createElement(d.default,{transactionGroup:t,smartTransaction:t.initialTransaction}):a.default.createElement(u.default,{transactionGroup:t}))})))):a.default.createElement(y.Box,{className:"transaction-list__empty"},a.default.createElement(y.Box,{className:"transaction-list__empty-text"},f("noTransactions"))),M.length>n&&a.default.createElement(p.default,{className:"transaction-list__view-more",type:"secondary",onClick:P},f("viewMore"))))))}C.propTypes={hideTokenTransactions:r.default.bool,tokenAddress:r.default.string},C.defaultProps={hideTokenTransactions:!1,tokenAddress:undefined}}}},{package:"$root$",file:"ui/components/app/transaction-list/transaction-list.component.js"}],[4526,{"../../../../shared/constants/transaction":4203,"../../../hooks/useI18nContext":5039,"../../ui/tooltip":4936,"@metamask/transaction-controller":1960,classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=u(e("react")),r=u(e("prop-types")),o=u(e("classnames")),i=e("@metamask/transaction-controller"),s=u(e("../../ui/tooltip")),l=e("../../../hooks/useI18nContext"),c=e("../../../../shared/constants/transaction");function u(e){return e&&e.__esModule?e:{default:e}}const d="queued",p="signing",f={[i.TransactionStatus.submitted]:c.TransactionGroupStatus.pending,[i.TransactionStatus.approved]:c.TransactionGroupStatus.pending},m={[i.TransactionStatus.unapproved]:"transaction-status-label--unapproved",[i.TransactionStatus.rejected]:"transaction-status-label--rejected",[i.TransactionStatus.failed]:"transaction-status-label--failed",[i.TransactionStatus.dropped]:"transaction-status-label--dropped",[c.TransactionGroupStatus.cancelled]:"transaction-status-label--cancelled",[d]:"transaction-status-label--queued",[c.TransactionGroupStatus.pending]:"transaction-status-label--pending"};function h({status:e,date:t,error:n,isEarliestNonce:r,className:u,statusOnly:h}){var y;const g=(0,l.useI18nContext)(),b=function(e,t){return e===i.TransactionStatus.approved?p:f[e]?t?c.TransactionGroupStatus.pending:d:e}(e,r);let v=(null==n||null===(y=n.rpc)||void 0===y?void 0:y.message)||(null==n?void 0:n.message),T=b&&g(b);return b!==i.TransactionStatus.confirmed||h||(T=t),a.default.createElement(s.default,{position:"top",title:v,wrapperClassName:(0,o.default)("transaction-status-label",`transaction-status-label--${b}`,u,m[b])},T)}h.propTypes={status:r.default.string,className:r.default.string,date:r.default.string,error:r.default.object,isEarliestNonce:r.default.bool,statusOnly:r.default.bool}}}},{package:"$root$",file:"ui/components/app/transaction-status-label/transaction-status-label.js"}],[4527,{"./user-preferenced-currency-display.component":4528},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./user-preferenced-currency-display.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/user-preferenced-currency-display/index.js"}],[4528,{"../../../../shared/constants/common":4180,"../../../ducks/metamask/metamask":4968,"../../../helpers/constants/common":4974,"../../../hooks/useUserPreferencedCurrency":5063,"../../../selectors":5584,"../../component-library":4608,"../../ui/currency-display":4834,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=f(e("prop-types")),o=e("react-redux"),i=e("../../../../shared/constants/common"),s=e("../../../helpers/constants/common"),l=f(e("../../ui/currency-display")),c=e("../../../hooks/useUserPreferencedCurrency"),u=e("../../component-library"),d=e("../../../selectors"),p=e("../../../ducks/metamask/metamask");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}function y({"data-testid":e,ethNumberOfDecimals:t,fiatNumberOfDecimals:n,numberOfDecimals:r,showEthLogo:i,type:s,showFiat:f,showNative:m,showCurrencySuffix:y,...g}){var b;const v=(0,o.useSelector)(d.getCurrentNetwork),T=(0,o.useSelector)(p.getNativeCurrency),{currency:E,numberOfDecimals:w}=(0,c.useUserPreferencedCurrency)(s,{ethNumberOfDecimals:t,fiatNumberOfDecimals:n,numberOfDecimals:r,showFiatOverride:f,showNativeOverride:m}),_=(0,a.useMemo)((()=>{var e;return i&&E===T&&a.default.createElement(u.AvatarNetwork,{size:u.AvatarNetworkSize.Xs,name:null==v?void 0:v.nickname,src:null==v||null===(e=v.rpcPrefs)||void 0===e?void 0:e.imageUrl})}),[E,i,T,null==v?void 0:v.nickname,null==v||null===(b=v.rpcPrefs)||void 0===b?void 0:b.imageUrl]);return a.default.createElement(l.default,h({},g,{currency:E,"data-testid":e,numberOfDecimals:w,prefixComponent:_,suffix:y&&!i&&E}))}const g={className:r.default.string,"data-testid":r.default.string,prefix:r.default.string,value:r.default.string,numberOfDecimals:r.default.oneOfType([r.default.string,r.default.number]),hideLabel:r.default.bool,hideTitle:r.default.bool,style:r.default.object,showEthLogo:r.default.bool,ethLogoHeight:r.default.number,type:r.default.oneOf([s.PRIMARY,s.SECONDARY]),ethNumberOfDecimals:r.default.oneOfType([r.default.string,r.default.number]),fiatNumberOfDecimals:r.default.oneOfType([r.default.string,r.default.number]),showFiat:r.default.bool,showNative:r.default.bool,showCurrencySuffix:r.default.bool,currency:r.default.string,denomination:r.default.oneOf([i.EtherDenomination.GWEI,i.EtherDenomination.ETH]),displayValue:r.default.string,prefixComponent:r.default.node,suffix:r.default.oneOfType([r.default.string,r.default.bool]),prefixComponentWrapperProps:r.default.object,textProps:r.default.object,suffixProps:r.default.object};y.propTypes=g}}},{package:"$root$",file:"ui/components/app/user-preferenced-currency-display/user-preferenced-currency-display.component.js"}],[4529,{"./user-preferenced-currency-input.container":4531},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./user-preferenced-currency-input.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/user-preferenced-currency-input/index.js"}],[4530,{"../currency-input":4290,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=c(e("prop-types")),l=c(e("../currency-input"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}class p extends i.PureComponent{render(){const{useNativeCurrencyAsPrimaryCurrency:e,sendInputCurrencySwitched:t,...n}=this.props;return i.default.createElement(l.default,d({},n,{isFiatPreferred:Boolean(e&&t||!e&&!t)}))}}n.default=p,a=p,r="propTypes",o={useNativeCurrencyAsPrimaryCurrency:s.default.bool,sendInputCurrencySwitched:s.default.bool,...l.default.propTypes},(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$",file:"ui/components/app/user-preferenced-currency-input/user-preferenced-currency-input.component.js"}],[4531,{"../../../ducks/app/app":4959,"../../../selectors":5584,"./user-preferenced-currency-input.component":4530,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../ducks/app/app"),i=e("../../../selectors"),s=(a=e("./user-preferenced-currency-input.component"))&&a.__esModule?a:{default:a};n.default=(0,r.connect)((e=>{const{useNativeCurrencyAsPrimaryCurrency:t}=(0,i.getPreferences)(e);return{useNativeCurrencyAsPrimaryCurrency:t,sendInputCurrencySwitched:e.appState.sendInputCurrencySwitched}}),(e=>({onPreferenceToggle:()=>e((0,o.toggleCurrencySwitch)())})))(s.default)}}},{package:"$root$",file:"ui/components/app/user-preferenced-currency-input/user-preferenced-currency-input.container.js"}],[4532,{"./user-preferenced-token-input.container":4534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./user-preferenced-token-input.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/user-preferenced-token-input/index.js"}],[4533,{"../../../store/actions":5592,"../../ui/token-input":4933,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=s(e("prop-types")),o=s(e("../../ui/token-input")),i=e("../../../store/actions");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),u(this,"state",{isOriginalTokenSymbol:!0})}componentDidMount(){const{token:{address:e,symbol:t}}=this.props;(0,i.getTokenSymbol)(e).then((e=>{this.setState({isOriginalTokenSymbol:e===t})}))}render(){const{useNativeCurrencyAsPrimaryCurrency:e,...t}=this.props;return a.default.createElement(o.default,c({},t,{showFiat:!e&&this.state.isOriginalTokenSymbol}))}}n.default=d,u(d,"propTypes",{token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string}).isRequired,useNativeCurrencyAsPrimaryCurrency:r.default.bool})}}},{package:"$root$",file:"ui/components/app/user-preferenced-token-input/user-preferenced-token-input.component.js"}],[4534,{"../../../selectors":5584,"./user-preferenced-token-input.component":4533,"prop-types":3665,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=s(e("prop-types")),o=e("../../../selectors"),i=s(e("./user-preferenced-token-input.component"));function s(e){return e&&e.__esModule?e:{default:e}}const l=(0,a.connect)((e=>{const{useNativeCurrencyAsPrimaryCurrency:t}=(0,o.getPreferences)(e);return{useNativeCurrencyAsPrimaryCurrency:t}}))(i.default);l.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string}).isRequired};n.default=l}}},{package:"$root$",file:"ui/components/app/user-preferenced-token-input/user-preferenced-token-input.container.js"}],[4535,{"../../../../shared/constants/metametrics":4188,"../../../../shared/constants/transaction":4203,"../../../../shared/modules/currency-display.utils":4219,"../../../contexts/i18n":4949,"../../../contexts/metametrics":4950,"../../../ducks/metamask/metamask":4968,"../../../ducks/send":4970,"../../../ducks/swaps/swaps":4972,"../../../helpers/constants/common":4974,"../../../helpers/constants/design-system":4976,"../../../helpers/constants/routes":4981,"../../../helpers/utils/hardware":5005,"../../../helpers/utils/portfolio":5013,"../../../hooks/experiences/useRamps":5021,"../../../hooks/useIsOriginalNativeTokenSymbol":5040,"../../../selectors":5584,"../../component-library":4608,"../../ui/icon-button":4855,"../../ui/spinner":4917,"../../ui/tooltip":4936,"../user-preferenced-currency-display":4527,"./wallet-overview":4538,"@metamask/keyring-api":1344,classnames:2687,"prop-types":3665,react:3878,"react-redux":3843,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=M(e("prop-types")),o=e("react-redux"),i=M(e("classnames")),s=e("react-router-dom"),l=e("@metamask/keyring-api"),c=e("../../../contexts/i18n"),u=e("../../../helpers/constants/routes"),d=M(e("../../ui/tooltip")),p=M(e("../user-preferenced-currency-display")),f=e("../../../helpers/constants/common"),m=e("../../../selectors"),h=e("../../../ducks/swaps/swaps"),y=e("../../../helpers/utils/hardware"),g=M(e("../../ui/icon-button")),b=e("../../../contexts/metametrics"),v=e("../../../../shared/constants/metametrics"),T=M(e("../../ui/spinner")),E=e("../../../ducks/send"),w=e("../../../../shared/constants/transaction"),_=e("../../component-library"),x=e("../../../helpers/constants/design-system"),O=M(e("../../../hooks/experiences/useRamps")),S=e("../../../helpers/utils/portfolio"),C=e("../../../hooks/useIsOriginalNativeTokenSymbol"),k=e("../../../ducks/metamask/metamask"),I=e("../../../../shared/modules/currency-display.utils"),N=M(e("./wallet-overview"));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}const A=({className:e,showAddress:t})=>{const n=(0,o.useDispatch)(),r=(0,a.useContext)(c.I18nContext),M=(0,a.useContext)(b.MetaMetricsContext),P=(0,s.useHistory)(),A=(0,s.useLocation)(),R=(0,o.useSelector)(m.getIsBridgeChain),j=(0,o.useSelector)(m.getIsBuyableChain),D=(0,o.useSelector)(m.getMetaMetricsId),B=(0,o.useSelector)(m.getCurrentKeyring),F=(0,y.isHardwareKeyring)(null==B?void 0:B.type),L=(0,o.useSelector)(m.getSwapsDefaultToken),$=(0,o.useSelector)(m.isBalanceCached),W=(0,o.useSelector)(m.getShouldShowFiat),{useNativeCurrencyAsPrimaryCurrency:U}=(0,o.useSelector)(m.getPreferences),V=(0,o.useSelector)(m.getCurrentChainId),{ticker:H,type:z}=(0,o.useSelector)(k.getProviderConfig),q=(0,o.useSelector)(m.getSelectedAccountCachedBalance),G=(0,C.useIsOriginalNativeTokenSymbol)(V,H,z),Y=(0,o.useSelector)(m.getSelectedInternalAccount),Q=(0,o.useSelector)(m.getIsSwapsChain),K=Y.methods.includes(l.EthMethod.SignTransaction)||Y.methods.includes(l.EthMethod.SignUserOperation),J={buyButton:[{condition:!j,message:""},{condition:!K,message:"methodNotSupported"}],sendButton:[{condition:!K,message:"methodNotSupported"}],swapButton:[{condition:!Q,message:"currentlyUnavailable"},{condition:!K,message:"methodNotSupported"}],bridgeButton:[{condition:!R,message:"currentlyUnavailable"},{condition:!K,message:"methodNotSupported"}]},X=(e,t)=>{const n=J[e].find((({condition:e})=>e));return n&&n.message?a.default.createElement(d.default,{title:r(n.message),position:"bottom"},t):t},{openBuyCryptoInPdapp:Z}=(0,O.default)();return a.default.createElement(N.default,{showAddress:t,balance:a.default.createElement(d.default,{position:"top",title:r("balanceOutdated"),disabled:!$},a.default.createElement("div",{className:"eth-overview__balance"},a.default.createElement("div",{className:"eth-overview__primary-container"},q?a.default.createElement(p.default,{style:{display:"contents"},className:(0,i.default)("eth-overview__primary-balance",{"eth-overview__cached-balance":$}),"data-testid":"eth-overview__primary-currency",value:q,type:(0,I.showPrimaryCurrency)(G,U)?f.PRIMARY:f.SECONDARY,ethNumberOfDecimals:4,hideTitle:!0}):a.default.createElement(T.default,{color:"var(--color-secondary-default)",className:"loading-overlay__spinner"}),$?a.default.createElement("span",{className:"eth-overview__cached-star"},"*"):null),W&&G&&q&&a.default.createElement(p.default,{className:(0,i.default)({"eth-overview__cached-secondary-balance":$,"eth-overview__secondary-balance":!$}),"data-testid":"eth-overview__secondary-currency",value:q,type:f.SECONDARY,ethNumberOfDecimals:4,hideTitle:!0}))),buttons:a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{className:"eth-overview__button",Icon:a.default.createElement(_.Icon,{name:_.IconName.PlusMinus,color:x.IconColor.primaryInverse}),disabled:!j||!K,"data-testid":"eth-overview-buy",label:r("buyAndSell"),onClick:()=>{Z(),M({event:v.MetaMetricsEventName.NavBuyButtonClicked,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Home",text:"Buy",chain_id:V,token_symbol:L}})},tooltipRender:e=>X("buyButton",e)}),a.default.createElement(g.default,{className:"eth-overview__button","data-testid":"eth-overview-send",Icon:a.default.createElement(_.Icon,{name:_.IconName.Arrow2UpRight,color:x.IconColor.primaryInverse}),disabled:!K,label:r("send"),onClick:()=>{M({event:v.MetaMetricsEventName.NavSendButtonClicked,category:v.MetaMetricsEventCategory.Navigation,properties:{token_symbol:"ETH",location:"Home",text:"Send",chain_id:V}}),n((0,E.startNewDraftTransaction)({type:w.AssetType.native})).then((()=>{P.push(u.SEND_ROUTE)}))},tooltipRender:e=>X("sendButton",e)}),a.default.createElement(g.default,{className:"eth-overview__button",disabled:!Q||!K,Icon:a.default.createElement(_.Icon,{name:_.IconName.SwapHorizontal,color:x.IconColor.primaryInverse}),onClick:()=>{Q&&(M({event:v.MetaMetricsEventName.NavSwapButtonClicked,category:v.MetaMetricsEventCategory.Swaps,properties:{token_symbol:"ETH",location:v.MetaMetricsSwapsEventSource.MainView,text:"Swap",chain_id:V}}),n((0,h.setSwapsFromToken)(L)),F?global.platform.openExtensionInBrowser(u.BUILD_QUOTE_ROUTE):P.push(u.BUILD_QUOTE_ROUTE))},label:r("swap"),"data-testid":"token-overview-button-swap",tooltipRender:e=>X("swapButton",e)}),a.default.createElement(g.default,{className:"eth-overview__button",disabled:!R||!K,"data-testid":"eth-overview-bridge",Icon:a.default.createElement(_.Icon,{name:_.IconName.Bridge,color:x.IconColor.primaryInverse}),label:r("bridge"),onClick:()=>{if(R){const e=(0,S.getPortfolioUrl)("bridge","ext_bridge_button",D);global.platform.openTab({url:`${e}${A.pathname.includes("asset")?"&token=native":""}`}),M({category:v.MetaMetricsEventCategory.Navigation,event:v.MetaMetricsEventName.BridgeLinkClicked,properties:{location:"Home",text:"Bridge",chain_id:V,token_symbol:"ETH"}})}},tooltipRender:e=>X("bridgeButton",e)}),a.default.createElement(g.default,{className:"eth-overview__button","data-testid":"eth-overview-portfolio",Icon:a.default.createElement(_.Icon,{name:_.IconName.Diagram,color:x.IconColor.primaryInverse}),label:r("portfolio"),onClick:()=>{const e=(0,S.getPortfolioUrl)("","ext_portfolio_button",D);global.platform.openTab({url:e}),M({category:v.MetaMetricsEventCategory.Navigation,event:v.MetaMetricsEventName.PortfolioLinkClicked,properties:{location:"Home",text:"Portfolio",chain_id:V,token_symbol:"ETH"}})}})),className:e})};A.propTypes={className:r.default.string,showAddress:r.default.bool};n.default=A}}},{package:"$root$",file:"ui/components/app/wallet-overview/eth-overview.js"}],[4536,{"./eth-overview":4535,"./token-overview":4537},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EthOverview",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"TokenOverview",{enumerable:!0,get:function(){return r.default}});var a=o(e("./eth-overview")),r=o(e("./token-overview"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/wallet-overview/index.js"}],[4537,{"../../../../shared/constants/metametrics":4188,"../../../../shared/constants/transaction":4203,"../../../contexts/i18n":4949,"../../../contexts/metametrics":4950,"../../../ducks/send":4970,"../../../ducks/swaps/swaps":4972,"../../../helpers/constants/design-system":4976,"../../../helpers/constants/error-keys":4977,"../../../helpers/constants/routes":4981,"../../../helpers/utils/hardware":5005,"../../../helpers/utils/portfolio":5013,"../../../hooks/experiences/useRamps":5021,"../../../hooks/useIsOriginalTokenSymbol":5041,"../../../hooks/useTokenFiatAmount":5058,"../../../hooks/useTokenTracker":5059,"../../../selectors":5584,"../../../store/actions":5592,"../../component-library":4608,"../../ui/currency-display":4834,"../../ui/icon-button":4855,"./wallet-overview":4538,"prop-types":3665,react:3878,"react-redux":3843,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=k(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=k(e("../../ui/currency-display")),l=e("../../../contexts/i18n"),c=e("../../../helpers/constants/routes"),u=e("../../../hooks/useTokenTracker"),d=e("../../../hooks/useTokenFiatAmount"),p=e("../../../ducks/send"),f=e("../../../helpers/utils/hardware"),m=e("../../../ducks/swaps/swaps"),h=k(e("../../../hooks/experiences/useRamps")),y=e("../../../helpers/utils/portfolio"),g=e("../../../selectors"),b=k(e("../../ui/icon-button")),v=e("../../../helpers/constants/error-keys"),T=e("../../../store/actions"),E=e("../../../contexts/metametrics"),w=e("../../../../shared/constants/metametrics"),_=e("../../../../shared/constants/transaction"),x=e("../../component-library"),O=e("../../../helpers/constants/design-system"),S=e("../../../hooks/useIsOriginalTokenSymbol"),C=k(e("./wallet-overview"));function k(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}const N=({className:e,token:t})=>{var n,r;const k=(0,o.useDispatch)(),I=(0,a.useContext)(l.I18nContext),N=(0,a.useContext)(E.MetaMetricsContext),M=(0,i.useHistory)(),{tokensWithBalances:P}=(0,u.useTokenTracker)({tokens:[t]}),A=(0,o.useSelector)(g.getCurrentKeyring),R=(0,f.isHardwareKeyring)(A.type),j=null===(n=P[0])||void 0===n?void 0:n.balance,D=null===(r=P[0])||void 0===r?void 0:r.string,B=(0,d.useTokenFiatAmount)(t.address,D,t.symbol),F=(0,S.useIsOriginalTokenSymbol)(t.address,t.symbol),L=(0,o.useSelector)(g.getCurrentChainId),$=(0,o.useSelector)(g.getIsSwapsChain),W=(0,o.useSelector)(g.getIsBridgeChain),U=(0,o.useSelector)(g.getIsBuyableChain),V=(0,o.useSelector)(g.getMetaMetricsId),{openBuyCryptoInPdapp:H}=(0,h.default)();return(0,a.useEffect)((()=>{t.isERC721&&k((0,T.showModal)({name:"CONVERT_TOKEN_TO_NFT",tokenAddress:t.address}))}),[t.isERC721,t.address,k]),a.default.createElement(C.default,{showAddress:!1,balance:a.default.createElement("div",{className:"token-overview__balance"},a.default.createElement("div",{className:"token-overview__primary-container"},a.default.createElement(s.default,{style:{display:"contents"},className:"token-overview__primary-balance",displayValue:D,suffix:t.symbol})),B&&F?a.default.createElement(s.default,{className:"token-overview__secondary-balance",displayValue:B,hideLabel:!0}):null),buttons:a.default.createElement(a.default.Fragment,null,a.default.createElement(b.default,{className:"token-overview__button",Icon:a.default.createElement(x.Icon,{name:x.IconName.PlusMinus,color:O.IconColor.primaryInverse}),label:I("buyAndSell"),"data-testid":"token-overview-buy",onClick:()=>{H(),N({event:w.MetaMetricsEventName.NavBuyButtonClicked,category:w.MetaMetricsEventCategory.Navigation,properties:{location:"Token Overview",text:"Buy",chain_id:L,token_symbol:t.symbol}})},disabled:t.isERC721||!U}),a.default.createElement(b.default,{className:"token-overview__button",onClick:async()=>{N({event:w.MetaMetricsEventName.NavSendButtonClicked,category:w.MetaMetricsEventCategory.Navigation,properties:{token_symbol:t.symbol,location:w.MetaMetricsSwapsEventSource.TokenView,text:"Send",chain_id:L}});try{await k((0,p.startNewDraftTransaction)({type:_.AssetType.token,details:t})),M.push(c.SEND_ROUTE)}catch(e){if(!e.message.includes(v.INVALID_ASSET_TYPE))throw e}},Icon:a.default.createElement(x.Icon,{name:x.IconName.Arrow2UpRight,color:O.IconColor.primaryInverse}),label:I("send"),"data-testid":"eth-overview-send",disabled:t.isERC721}),$&&a.default.createElement(b.default,{className:"token-overview__button",Icon:a.default.createElement(x.Icon,{name:x.IconName.SwapHorizontal,color:O.IconColor.primaryInverse}),onClick:()=>{N({event:w.MetaMetricsEventName.NavSwapButtonClicked,category:w.MetaMetricsEventCategory.Swaps,properties:{token_symbol:t.symbol,location:w.MetaMetricsSwapsEventSource.TokenView,text:"Swap",chain_id:L}}),k((0,m.setSwapsFromToken)({...t,address:t.address.toLowerCase(),iconUrl:t.image,balance:j,string:D})),R?global.platform.openExtensionInBrowser(c.BUILD_QUOTE_ROUTE):M.push(c.BUILD_QUOTE_ROUTE)},label:I("swap"),tooltipRender:null}),W&&a.default.createElement(b.default,{className:"token-overview__button","data-testid":"token-overview-bridge",Icon:a.default.createElement(x.Icon,{name:x.IconName.Bridge,color:O.IconColor.primaryInverse}),label:I("bridge"),onClick:()=>{const e=(0,y.getPortfolioUrl)("bridge","ext_bridge_button",V);global.platform.openTab({url:`${e}&token=${t.address}`}),N({category:w.MetaMetricsEventCategory.Navigation,event:w.MetaMetricsEventName.BridgeLinkClicked,properties:{location:"Token Overview",text:"Bridge",url:e,chain_id:L,token_symbol:t.symbol}})},tooltipRender:null})),className:e})};N.propTypes={className:r.default.string,token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string,image:r.default.string,isERC721:r.default.bool}).isRequired},N.defaultProps={className:undefined};n.default=N}}},{package:"$root$",file:"ui/components/app/wallet-overview/token-overview.js"}],[4538,{"../../../../shared/constants/keyring":4185,"../../../helpers/constants/design-system":4976,"../../../helpers/utils/accounts":4998,"../../../selectors":5584,"../../component-library":4608,classnames:2687,"prop-types":3665,react:3878,"react-redux":3843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=p(e("classnames")),i=e("react-redux"),s=e("../../../selectors"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../../shared/constants/keyring"),d=e("../../../helpers/utils/accounts");function p(e){return e&&e.__esModule?e:{default:e}}const f=({balance:e,buttons:t,className:n})=>{var r;const p=(0,i.useSelector)(s.getSelectedInternalAccount),{keyring:f}=p.metadata,m=null!==(r=p.metadata.snap)&&void 0!==r&&r.name?(0,d.getAccountLabel)(f.type,p):null;return a.default.createElement("div",{className:(0,o.default)("wallet-overview",n)},a.default.createElement("div",{className:"wallet-overview__balance"},e,m?a.default.createElement(l.Tag,{label:m,labelProps:{variant:c.TextVariant.bodyXs,color:c.Color.textAlternative},startIconName:f.type===u.KeyringType.snap?l.IconName.Snaps:null}):null),a.default.createElement("div",{className:"wallet-overview__buttons"},t))};f.propTypes={balance:r.default.element.isRequired,buttons:r.default.element.isRequired,className:r.default.string};n.default=f}}},{package:"$root$",file:"ui/components/app/wallet-overview/wallet-overview.js"}],[4539,{"./whats-new-popup":4540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./whats-new-popup"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/whats-new-popup/index.js"}],[4540,{"../../../../shared/constants/metametrics":4188,"../../../../shared/notifications":4242,"../../../contexts/i18n":4949,"../../../contexts/metametrics":4950,"../../../ducks/locale/locale":4967,"../../../helpers/constants/design-system":4976,"../../../helpers/constants/routes":4981,"../../../helpers/constants/zendesk-url":4988,"../../../hooks/useEqualityCheck":5034,"../../../hooks/useTheme":5054,"../../../selectors":5584,"../../../store/actions":5592,"../../component-library":4608,"../../ui/popover":4904,classnames:2687,lodash:3509,"prop-types":3665,react:3878,"react-redux":3843,"react-router-dom":3863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=I;var a=x(e("classnames")),r=e("lodash"),o=x(e("prop-types")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),l=e("react-router-dom"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/notifications"),d=e("../../../contexts/i18n"),p=e("../../../contexts/metametrics"),f=e("../../../ducks/locale/locale"),m=e("../../../helpers/constants/design-system"),h=e("../../../helpers/constants/routes"),y=x(e("../../../helpers/constants/zendesk-url")),g=e("../../../hooks/useEqualityCheck"),b=e("../../../hooks/useTheme"),v=e("../../../selectors"),T=e("../../../store/actions"),E=e("../../component-library"),w=x(e("../../ui/popover"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}function O(e,t){return{8:()=>{(0,T.updateViewedNotifications)({8:!0}),t.push(h.ADVANCED_ROUTE)},20:()=>{(0,T.updateViewedNotifications)({20:!0}),global.platform.openTab({url:y.default.LEDGER_FIREFOX_U2F_GUIDE})},24:()=>{(0,T.updateViewedNotifications)({24:!0})},[u.NOTIFICATION_DROP_LEDGER_FIREFOX]:()=>{(0,T.updateViewedNotifications)({[u.NOTIFICATION_DROP_LEDGER_FIREFOX]:!0})},[u.NOTIFICATION_U2F_LEDGER_LIVE]:()=>{(0,T.updateViewedNotifications)({[u.NOTIFICATION_U2F_LEDGER_LIVE]:!0})},[u.NOTIFICATION_STAKING_PORTFOLIO]:()=>{(0,T.updateViewedNotifications)({[u.NOTIFICATION_STAKING_PORTFOLIO]:!0})},[u.NOTIFICATION_BLOCKAID_DEFAULT]:()=>{(0,T.updateViewedNotifications)({[u.NOTIFICATION_BLOCKAID_DEFAULT]:!0})},[u.NOTIFICATION_PETNAMES]:()=>{(0,T.updateViewedNotifications)({[u.NOTIFICATION_PETNAMES]:!0})},[u.NOTIFICATION_PORTFOLIO_V2]:()=>{(0,T.updateViewedNotifications)({[u.NOTIFICATION_PORTFOLIO_V2]:!0}),global.platform.openTab({url:"https://portfolio.metamask.io/"})},[u.NOTIFICATION_SIMULATIONS]:()=>{(0,T.updateViewedNotifications)({[u.NOTIFICATION_SIMULATIONS]:!0})}}[e]}const S=e=>Array.isArray(e)?i.default.createElement(i.default.Fragment,null,e.map(((t,n)=>{const a=n===e.length-1;return i.default.createElement(E.Text,{"data-testid":`whats-new-description-item-${n}`,key:`item-${n}`,variant:m.TextVariant.bodyMd,marginBottom:a?0:4},t)}))):i.default.createElement(E.Text,{variant:m.TextVariant.bodyMd},e),C=({notification:e,idRefMap:t,history:n,isLast:r,trackEvent:o})=>{const{id:s,date:l,title:u,description:d,image:p,actionText:f}=e,h=O(s,n),y=p&&i.default.createElement("img",{className:"whats-new-popup__notification-image",src:p.src,height:p.height,width:p.width}),g=null==p?void 0:p.placeImageBelowDescription;return i.default.createElement("div",{className:(0,a.default)("whats-new-popup__notification whats-new-popup__first-notification",{"whats-new-popup__last-notification":r}),key:`whats-new-popop-notification-${s}`},i.default.createElement(E.Text,{variant:m.TextVariant.bodyLgMedium,marginBottom:2},u),!g&&y,i.default.createElement("div",{className:"whats-new-popup__description-and-date"},i.default.createElement("div",{className:"whats-new-popup__notification-description"},S(d)),i.default.createElement("div",{className:"whats-new-popup__notification-date"},l)),g&&y,f&&i.default.createElement(E.ButtonPrimary,{className:"whats-new-popup__button",onClick:()=>{h(),o({category:c.MetaMetricsEventCategory.Home,event:c.MetaMetricsEventName.WhatsNewClicked})},block:!0},f),i.default.createElement("div",{className:"whats-new-popup__intersection-observable",ref:t[s]}))},k=({notification:e,idRefMap:t,history:n,isLast:r})=>{const{id:o,date:s,title:l,description:c,actionText:u}=e,d=O(o,n);return i.default.createElement("div",{className:(0,a.default)("whats-new-popup__notification",{"whats-new-popup__last-notification":r}),key:`whats-new-popop-notification-${o}`},i.default.createElement("div",{className:"whats-new-popup__notification-title"},l),i.default.createElement("div",{className:"whats-new-popup__description-and-date"},i.default.createElement("div",{className:"whats-new-popup__notification-description"},S(c)),i.default.createElement("div",{className:"whats-new-popup__notification-date"},s)),u&&i.default.createElement("div",{className:"whats-new-popup__link",onClick:d},`${u} >`),i.default.createElement("div",{className:"whats-new-popup__intersection-observable",ref:t[o]}))};function I({onClose:e}){const t=(0,i.useContext)(d.I18nContext),n=(0,l.useHistory)(),a=(0,s.useSelector)(v.getSortedAnnouncementsToShow),o=(0,s.useSelector)(f.getCurrentLocale),m=(0,b.useTheme)(),[h,y]=(0,i.useState)({}),[E,_]=(0,i.useState)(!0),x=(0,i.useRef)(),O=(0,g.useEqualityCheck)(a),S=(0,i.useMemo)((()=>O.reduce(((e,t)=>({...e,[t.id]:i.default.createRef()})),{})),[O]),I=(0,i.useContext)(p.MetaMetricsContext),N=(0,r.debounce)((e=>{_(e.scrollHeight-e.scrollTop!==e.clientHeight)}),100);(0,i.useEffect)((()=>{const e=new window.IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const[n,a]=Object.entries(S).find((([t,n])=>n.current.isSameNode(e.target)));y((e=>({...e,[n]:!0}))),t.unobserve(a.current)}}))}),{root:x.current,threshold:1});return Object.values(S).forEach((t=>{e.observe(t.current)})),()=>{e.disconnect()}}),[S,y]);const M={24:C,[u.NOTIFICATION_DROP_LEDGER_FIREFOX]:C,[u.NOTIFICATION_U2F_LEDGER_LIVE]:C,[u.NOTIFICATION_STAKING_PORTFOLIO]:C,[u.NOTIFICATION_BLOCKAID_DEFAULT]:C,[u.NOTIFICATION_PETNAMES]:C,[u.NOTIFICATION_PORTFOLIO_V2]:C,[u.NOTIFICATION_SIMULATIONS]:C};return i.default.createElement(w.default,{title:t("whatsNew"),headerProps:{padding:[4,4,4]},className:"whats-new-popup__popover",onClose:()=>{(0,T.updateViewedNotifications)(h),I({category:c.MetaMetricsEventCategory.Home,event:c.MetaMetricsEventName.WhatsNewViewed,properties:{number_viewed:Object.keys(h).pop(),completed_all:!0}}),e()},popoverRef:x,showScrollDown:E&&a.length>1,onScrollDownButtonClick:e=>{e.stopPropagation(),S[a[a.length-1].id].current.scrollIntoView({behavior:"smooth"})},onScroll:e=>{N(e.target)}},i.default.createElement("div",{className:"whats-new-popup__notifications"},a.map((({id:e},r)=>{const i=(0,u.getTranslatedUINotifications)(t,o,m)[e],s=r===a.length-1;return(M[e]||k)({notification:i,idRefMap:S,history:n,isLast:s,trackEvent:I})}))))}I.propTypes={onClose:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/whats-new-popup/whats-new-popup.js"}],[4595,{"../../../../helpers/constants/design-system":4976,"../../../ui/box/box":4816,"../../help-text":4604,"../../label":4612,"../../text-field":4658,classnames:2687,"prop-types":3665,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FormTextField=void 0;var a=d(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=e("../../../../helpers/constants/design-system"),s=d(e("../../../ui/box/box")),l=e("../../text-field"),c=e("../../help-text"),u=e("../../label");function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}const f=({autoComplete:e,autoFocus:t,className:n,defaultValue:r,disabled:d,error:f,helpText:m,helpTextProps:h,id:y,inputProps:g,inputRef:b,label:v,labelProps:T,startAccessory:E,maxLength:w,name:_,onBlur:x,onChange:O,onFocus:S,placeholder:C,readOnly:k,required:I,endAccessory:N,size:M=i.Size.MD,textFieldProps:P,truncate:A,type:R="text",value:j,...D})=>a.default.createElement(s.default,p({className:(0,o.default)("mm-form-text-field",{"mm-form-text-field--disabled":d},n),display:i.Display.Flex,flexDirection:i.FlexDirection.Column},D),v&&a.default.createElement(u.Label,p({htmlFor:y},T,{className:(0,o.default)("mm-form-text-field__label",null==T?void 0:T.className)}),v),a.default.createElement(l.TextField,p({className:(0,o.default)("mm-form-text-field__text-field",null==P?void 0:P.className),id:y,autoComplete:e,autoFocus:t,defaultValue:r,disabled:d,error:f,id:y,inputProps:g,inputRef:b,startAccessory:E,maxLength:w,name:_,onBlur:x,onChange:O,onFocus:S,placeholder:C,readOnly:k,required:I,endAccessory:N,size:M,truncate:A,type:R,value:j},P)),m&&a.default.createElement(c.HelpText,p({severity:f&&c.HelpTextSeverity.Danger,marginTop:1},h,{className:(0,o.default)("mm-form-text-field__help-text",null==h?void 0:h.className)}),m));n.FormTextField=f,f.propTypes={className:r.default.string,id:(e,t,n)=>e.label&&!e[t]?new Error(`If a label prop exists you must provide an ${t} prop for the label's htmlFor attribute for accessibility. Warning coming from ${n} ui/components/component-library/form-text-field/form-text-field.js`):null,label:r.default.string,labelProps:r.default.object,helpText:r.default.oneOfType([r.default.node,r.default.string]),helpTextProps:r.default.object,textFieldProps:r.default.object,...l.TextField.propTypes}}}},{package:"$root$",file:"ui/components/component-library/form-text-field/deprecated/form-text-field.js"}],[4596,{"./form-text-field":4595},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FormTextField",{enumerable:!0,get:function(){return a.FormTextField}});var a=e("./form-text-field")}}},{package:"$root$",file:"ui/components/component-library/form-text-field/deprecated/index.js"}],[4616,{"../modal-content.types":4620,"./modal-content":4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return a.ModalContent}}),Object.defineProperty(n,"ModalContentSize",{enumerable:!0,get:function(){return r.ModalContentSize}});var a=e("./modal-content"),r=e("../modal-content.types")}}},{package:"$root$",file:"ui/components/component-library/modal-content/deprecated/index.ts"}],[4617,{"../..":4608,"../../../../helpers/constants/design-system":4976,"../modal-content.types":4620,classnames:2687,react:3878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ModalContent=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("classnames"))&&a.__esModule?a:{default:a},i=e("../../../../helpers/constants/design-system"),s=e("../.."),l=e("../modal-content.types");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}n.ModalContent=r.default.forwardRef((({className:e="",children:t,size:n=l.ModalContentSize.Sm,modalDialogProps:a,...c},d)=>{const{onClose:p,isClosedOnEscapeKey:f,isClosedOnOutsideClick:m,initialFocusRef:h,finalFocusRef:y,restoreFocus:g,autoFocus:b}=(0,s.useModalContext)(),v=(0,r.useRef)(null),T=e=>{f&&"Escape"===e.key&&p()},E=e=>{m&&e.target.closest(".mm-popover")||m&&null!=v&&v.current&&!v.current.contains(e.target)&&p()};return(0,r.useEffect)((()=>(document.addEventListener("keydown",T),document.addEventListener("mousedown",E),()=>{document.removeEventListener("keydown",T),document.removeEventListener("mousedown",E)})),[]),r.default.createElement(s.ModalFocus,{initialFocusRef:h,finalFocusRef:y,restoreFocus:g,autoFocus:b},r.default.createElement(s.Box,u({className:(0,o.default)("mm-modal-content",e),ref:d,display:i.Display.Flex,width:i.BlockSize.Screen,height:i.BlockSize.Screen,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.flexStart,paddingRight:4,paddingLeft:4,paddingTop:[4,8,12],paddingBottom:[4,8,12]},c),r.default.createElement(s.Box,u({as:"section",role:"dialog","aria-modal":"true",backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.LG,width:i.BlockSize.Full,padding:4,ref:v},a,{className:(0,o.default)("mm-modal-content__dialog",`mm-modal-content__dialog--size-${n}`,null==a?void 0:a.className),style:{...null==c?void 0:c.style,overflowY:"auto"}}),t)))}))}}},{package:"$root$",file:"ui/components/component-library/modal-content/deprecated/modal-content.tsx"}],[462,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0,n.version="hdnode/5.7.0"}}},{package:"@ethersproject/hdnode",file:"node_modules/@ethersproject/hdnode/lib/_version.js"}],[4625,{"./modal-header":4626},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalHeader",{enumerable:!0,get:function(){return a.ModalHeader}});var a=e("./modal-header")}}},{package:"$root$",file:"ui/components/component-library/modal-header/deprecated/index.ts"}]],[],{});