LavaPack.loadBundle([[6747,{"../../../../../shared/lib/translate":5076,"../../../../components/component-library":5637,"../../../../components/multichain":5837,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":5905,"../../../../helpers/constants/design-system":6152,"../../../../helpers/utils/notification.util":6194,"../../../../helpers/utils/util":6206,"../node-guard":6753,"../types/notifications/notifications":6758,"@metamask/notification-services-controller":1799,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/notification-services-controller"),i=e("../../../../../shared/lib/translate"),s=e("../node-guard"),l=e("../types/notifications/notifications"),c=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain"),m=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=r.NotificationServicesController.Constants,h=(0,s.isOfTypeNodeGuard)([g.ETH_RECEIVED,g.ETH_SENT]),y=e=>e.type===g.ETH_SENT,E=e=>y(e)?(0,i.t)("notificationItemSentTo"):(0,i.t)("notificationItemReceivedFrom"),_=e=>(0,u.getNetworkDetailsByChainId)(e.chain_id),b=e=>{const t=(0,c.shortenAddress)(y(e)?e.data.to:e.data.from);return(0,u.createTextItems)([E(e)||"",t],d.TextVariant.bodySm)},v=e=>{const{nativeCurrencySymbol:t}=_(e);return(0,u.createTextItems)([t],d.TextVariant.bodyMd)};n.components={guardFn:h,item:({notification:e,onClick:t})=>{const{nativeCurrencySymbol:n,nativeCurrencyLogo:a}=_(e);return o.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:m.NotificationListItemIconType.Token,value:a,badge:{icon:y(e)?f.IconName.Arrow2UpRight:f.IconName.Received,position:f.BadgeWrapperPosition.bottomRight}},title:b(e),description:v(e),createdAt:new Date(e.createdAt),amount:`${(0,u.formatAmount)(parseFloat(e.data.amount.eth),{shouldEllipse:!0})} ${n}`,onClick:t})},details:{title:({notification:e})=>{const{nativeCurrencySymbol:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailTitle,{title:`${y(e)?(0,i.t)("notificationItemSent"):(0,i.t)("notificationItemReceived")} ${t}`,date:(0,u.formatIsoDateString)(e.createdAt)})},body:{type:l.NotificationComponentType.OnChainBody,From:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,i.t)("notificationItemFrom")}${y(e)?` (${(0,i.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,i.t)("notificationItemTo")}${y(e)?"":` (${(0,i.t)("you")})`}`,address:e.data.to}),Status:({notification:e})=>o.default.createElement(p.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,i.t)("notificationItemStatus")||"",detail:(0,i.t)("notificationItemConfirmed")||"",action:o.default.createElement(p.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,i.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencySymbol:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t,badge:{src:t,position:f.BadgeWrapperPosition.topRight}},label:(0,i.t)("asset")||"",detail:n,fiatValue:`$${(0,u.formatAmount)(parseFloat(e.data.amount.usd),{shouldEllipse:!0})}`,value:`${(0,u.formatAmount)(parseFloat(e.data.amount.eth),{shouldEllipse:!0})} ${n}`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,i.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:l.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/eth-sent-received/eth-sent-received.tsx"}],[6748,{"../../../../../shared/constants/metametrics":4989,"../../../../components/component-library":5637,"../../../../components/multichain":5837,"../../../../contexts/metametrics":6115,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExternalLinkButton=n.ExtensionLinkButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../../shared/constants/metametrics"),r=e("../../../../contexts/metametrics"),i=e("../../../../components/multichain"),s=e("../../../../components/component-library");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const c=e=>{const t=(0,a.useContext)(r.MetaMetricsContext);return(0,a.useCallback)(()=>{t({category:o.MetaMetricsEventCategory.NotificationInteraction,event:o.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,clicked_item:e.clickType}})},[e.clickType,e.id,e.type,t])};n.ExtensionLinkButton=e=>{const{notification:t}=e,n=c({id:t.id,type:t.type,clickType:"internal_link"});return t.data.extensionLink?a.default.createElement(i.NotificationDetailButton,{variant:s.ButtonVariant.Primary,text:t.data.extensionLink.extensionLinkText,href:`/${t.data.extensionLink.extensionLinkRoute}`,isExternal:!0,onClick:n}):null};n.ExternalLinkButton=e=>{const{notification:t}=e,n=c({id:t.id,type:t.type,clickType:"external_link"});return t.data.externalLink?a.default.createElement(i.NotificationDetailButton,{variant:s.ButtonVariant.Secondary,text:t.data.externalLink.externalLinkText,href:`${t.data.externalLink.externalLinkUrl}`,isExternal:!0,onClick:n}):null}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/feature-announcement/annonucement-footer-buttons.tsx"}],[6749,{"../../../../components/component-library":5637,"../../../../components/multichain":5837,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":5905,"../../../../helpers/constants/design-system":6152,"../../../../helpers/utils/notification.util":6194,"../node-guard":6753,"../types/notifications/notifications":6758,"./annonucement-footer-buttons":6748,"@metamask/notification-services-controller":1799,dompurify:3490,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a=f(e("react")),o=e("@metamask/notification-services-controller"),r=f(e("dompurify")),i=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),c=e("../../../../helpers/utils/notification.util"),u=e("../../../../components/component-library"),d=e("../../../../components/multichain"),p=e("../../../../helpers/constants/design-system"),m=e("./annonucement-footer-buttons");function f(e){return e&&e.__esModule?e:{default:e}}const g=(0,r.default)(window),{TRIGGER_TYPES:h}=o.NotificationServicesController.Constants,y=(0,i.isOfTypeNodeGuard)([h.FEATURES_ANNOUNCEMENT]),E=e=>(0,c.createTextItems)([e.data.shortDescription],p.TextVariant.bodyMd);n.components={guardFn:y,item:({notification:e,onClick:t})=>{return a.default.createElement(d.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:l.NotificationListItemIconType.Token,value:"./images/product-announcement-logo.svg"},title:(n=e,(0,c.createTextItems)([n.data.title],p.TextVariant.bodySm)),description:E(e),createdAt:new Date(e.createdAt),onClick:t});var n},details:{title:({notification:e})=>a.default.createElement(d.NotificationDetailTitle,{title:e.data.title,date:(0,c.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.AnnouncementBody,Image:({notification:e})=>a.default.createElement(u.Box,{display:p.Display.Block,width:p.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingBottom:4},a.default.createElement(u.Box,{as:"img",src:`https:${e.data.image.url}?fm=jpg&fl=progressive&w=1000&q=80`,alt:e.data.title,title:e.data.title,display:p.Display.Block,justifyContent:p.JustifyContent.center,borderRadius:p.BorderRadius.XL,width:p.BlockSize.Full})),Description:({notification:e})=>a.default.createElement(u.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(u.Text,{variant:p.TextVariant.bodyMd,as:"div",dangerouslySetInnerHTML:{__html:g.sanitize(e.data.longDescription)}}))}},footer:{type:s.NotificationComponentType.AnnouncementFooter,ExtensionLink:m.ExtensionLinkButton,ExternalLink:m.ExternalLinkButton}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/feature-announcement/feature-announcement.tsx"}],[6750,{"./erc1155-sent-received/erc1155-sent-received":6744,"./erc20-sent-received/erc20-sent-received":6745,"./erc721-sent-received/erc721-sent-received":6746,"./eth-sent-received/eth-sent-received":6747,"./feature-announcement/feature-announcement":6749,"./lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn":6751,"./lido-withdrawal-requested/lido-withdrawal-requested":6752,"./snap/snap":6755,"./stake/stake":6756,"./swap-completed/swap-completed":6757,"@metamask/notification-services-controller":1799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasNotificationComponents=n.TRIGGER_TYPES=n.NotificationComponents=void 0;var a=e("@metamask/notification-services-controller"),o=e("./erc20-sent-received/erc20-sent-received"),r=e("./erc721-sent-received/erc721-sent-received"),i=e("./erc1155-sent-received/erc1155-sent-received"),s=e("./eth-sent-received/eth-sent-received"),l=e("./feature-announcement/feature-announcement"),c=e("./stake/stake"),u=e("./swap-completed/swap-completed"),d=e("./lido-withdrawal-requested/lido-withdrawal-requested"),p=e("./lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn"),m=e("./snap/snap");const{TRIGGER_TYPES:f}=a.NotificationServicesController.Constants;n.TRIGGER_TYPES=f;const g=n.NotificationComponents={[f.ERC20_SENT]:o.components,[f.ERC20_RECEIVED]:o.components,[f.ERC721_SENT]:r.components,[f.ERC721_RECEIVED]:r.components,[f.ERC1155_SENT]:i.components,[f.ERC1155_RECEIVED]:i.components,[f.ETH_SENT]:s.components,[f.ETH_RECEIVED]:s.components,[f.FEATURES_ANNOUNCEMENT]:l.components,[f.ROCKETPOOL_STAKE_COMPLETED]:c.components,[f.ROCKETPOOL_UNSTAKE_COMPLETED]:c.components,[f.LIDO_STAKE_COMPLETED]:c.components,[f.LIDO_WITHDRAWAL_COMPLETED]:c.components,[f.LIDO_WITHDRAWAL_REQUESTED]:d.components,[f.METAMASK_SWAP_COMPLETED]:u.components,[f.LIDO_STAKE_READY_TO_BE_WITHDRAWN]:p.components,[f.SNAP]:m.components};n.hasNotificationComponents=e=>e in g}}},{package:"$root$",file:"ui/pages/notifications/notification-components/index.ts"}],[6751,{"../../../../../shared/lib/translate":5076,"../../../../components/component-library":5637,"../../../../components/multichain":5837,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":5905,"../../../../helpers/constants/design-system":6152,"../../../../helpers/utils/notification.util":6194,"../node-guard":6753,"../types/notifications/notifications":6758,"@metamask/notification-services-controller":1799,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/notification-services-controller"),i=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../components/multichain"),c=e("../../../../../shared/lib/translate"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:f}=r.NotificationServicesController.Constants,g=(0,i.isOfTypeNodeGuard)([f.LIDO_STAKE_READY_TO_BE_WITHDRAWN]),h=e=>{const t=(0,u.formatAmount)(parseFloat(e.data.staked_eth.amount),{shouldEllipse:!0}),n=(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawnMessage",[`${t} ${e.data.staked_eth.symbol}`])||"";return(0,u.createTextItems)([n],d.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>o.default.createElement(l.NotificationListItem,{id:e.trigger_id,isRead:e.isRead,icon:{type:p.NotificationListItemIconType.Token,value:e.data.staked_eth.image,badge:{icon:m.IconName.Stake,position:m.BadgeWrapperPosition.bottomRight}},title:(0,u.createTextItems)([(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawn")||""],d.TextVariant.bodySm),description:h(e),createdAt:new Date(e.createdAt),onClick:t}),details:{title:({notification:e})=>o.default.createElement(l.NotificationDetailTitle,{title:(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawn")||"",date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(l.NotificationDetailAddress,{side:(0,c.t)("account")||"",address:e.address}):null,Status:()=>o.default.createElement(l.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,c.t)("notificationItemStatus")||"",detail:(0,c.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.staked_eth.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawn")||"",detail:e.data.staked_eth.symbol,fiatValue:`$${(0,u.formatAmount)(parseFloat(e.data.staked_eth.usd),{shouldEllipse:!0})}`,value:`${(0,u.formatAmount)(parseFloat(e.data.staked_eth.amount),{shouldEllipse:!0})} ${e.data.staked_eth.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.staked_eth.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,c.t)("notificationItemStakingProvider")||"",detail:e.data.staked_eth.symbol})}}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(l.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn.tsx"}],[6752,{"../../../../../shared/lib/translate":5076,"../../../../components/component-library":5637,"../../../../components/multichain":5837,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":5905,"../../../../helpers/constants/design-system":6152,"../../../../helpers/utils/notification.util":6194,"../node-guard":6753,"../types/notifications/notifications":6758,"@metamask/notification-services-controller":1799,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/notification-services-controller"),i=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),c=e("../../../../components/multichain"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../../shared/lib/translate"),p=e("../../../../helpers/constants/design-system"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:f}=r.NotificationServicesController.Constants,g=(0,i.isOfTypeNodeGuard)([f.LIDO_WITHDRAWAL_REQUESTED]),h=e=>{const t=(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0}),n=(0,d.t)("notificationItemLidoWithdrawalRequestedMessage",[`${t} ${e.data.stake_in.symbol}`])||"";return(0,u.createTextItems)([n],p.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>o.default.createElement(c.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:l.NotificationListItemIconType.Token,value:e.data.stake_in.image,badge:{icon:m.IconName.Stake,position:m.BadgeWrapperPosition.bottomRight}},title:(0,u.createTextItems)([(0,d.t)("notificationItemUnStakingRequested")||""],p.TextVariant.bodySm),description:h(e),createdAt:new Date(e.createdAt),amount:`${(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`,onClick:t}),details:{title:({notification:e})=>o.default.createElement(c.NotificationDetailTitle,{title:(0,d.t)("notificationItemUnStakingRequested")||"",date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(c.NotificationDetailAddress,{side:(0,d.t)("account")||"",address:e.address}):null,Status:({notification:e})=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:p.TextColor.successDefault,backgroundColor:p.BackgroundColor.successMuted},label:(0,d.t)("notificationItemStatus")||"",detail:(0,d.t)("notificationItemConfirmed")||"",action:o.default.createElement(c.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,d.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,d.t)("notificationItemUnStakingRequested")||"",detail:e.data.stake_in.symbol,fiatValue:`$${(0,u.getUsdAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,e.data.stake_in.usd)}`,value:`${(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,d.t)("notificationItemStakingProvider")||"",detail:"Lido-staked ETH"})}}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/lido-withdrawal-requested/lido-withdrawal-requested.tsx"}],[6753,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOfTypeNodeGuard=void 0;n.isOfTypeNodeGuard=e=>t=>e.includes(t.type)}}},{package:"$root$",file:"ui/pages/notifications/notification-components/node-guard.ts"}],[6754,{"../../../../../shared/constants/metametrics":4989,"../../../../components/app/snaps/snap-link-warning":5405,"../../../../components/component-library":5637,"../../../../components/multichain":5837,"../../../../contexts/metametrics":6115,"../../../../hooks/snaps/useSnapNavigation":6253,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapFooterButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("../../../../hooks/snaps/useSnapNavigation")),r=u(e("../../../../components/app/snaps/snap-link-warning")),i=e("../../../../components/multichain"),s=e("../../../../components/component-library"),l=e("../../../../contexts/metametrics"),c=e("../../../../../shared/constants/metametrics");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.SnapFooterButton=e=>{var t;const n=(0,a.useContext)(l.MetaMetricsContext),{navigate:u}=(0,o.default)(),[d,p]=(0,a.useState)(!1),m=e.notification.data,f=null==m||null===(t=m.detailedView)||void 0===t?void 0:t.footerLink,g=(0,a.useCallback)(()=>{p(!1)},[]),h=(0,a.useCallback)((t,a)=>{n({category:c.MetaMetricsEventCategory.NotificationInteraction,event:c.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.notification.id,notification_type:e.notification.type,clicked_item:a?"external_link":"internal_link"}}),a?p(!0):u(t)},[u,e.notification.id,e.notification.type,n]);if(!f)return null;const{href:y,text:E}=f,_=!y.startsWith("metamask:");return a.default.createElement(a.default.Fragment,null,a.default.createElement(r.default,{isOpen:d,onClose:g,url:y}),a.default.createElement(i.NotificationDetailButton,{variant:s.ButtonVariant.Secondary,isExternal:_,text:E,onClick:()=>h(y,_)}))}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/snap/snap-footer-button.tsx"}],[6755,{"../../../../components/app/snaps/snap-icon":5401,"../../../../components/app/snaps/snap-ui-markdown":5458,"../../../../components/app/snaps/snap-ui-renderer":5497,"../../../../components/component-library":5637,"../../../../components/multichain":5837,"../../../../helpers/constants/design-system":6152,"../../../../helpers/utils/notification.util":6194,"../../../../helpers/utils/util":6206,"../../../../hooks/metamask-notifications/useNotifications":6245,"../../../../selectors":6959,"../node-guard":6753,"../types/notifications/notifications":6758,"./snap-footer-button":6754,"@metamask/notification-services-controller/notification-services":1771,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("react-router-dom"),s=e("@metamask/notification-services-controller/notification-services"),l=e("../../../../components/multichain"),c=e("../../../../selectors"),u=e("../../../../helpers/utils/util"),d=e("../types/notifications/notifications"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../components/app/snaps/snap-ui-renderer"),f=e("../../../../helpers/constants/design-system"),g=e("../../../../components/component-library"),h=e("../node-guard"),y=e("../../../../components/app/snaps/snap-icon"),E=e("../../../../hooks/metamask-notifications/useNotifications"),_=e("../../../../components/app/snaps/snap-ui-markdown"),b=e("./snap-footer-button");n.components={guardFn:(0,h.isOfTypeNodeGuard)([s.TRIGGER_TYPES.SNAP]),item:({notification:e,onClick:t})=>{const n=(0,i.useHistory)(),a=(0,r.useSelector)(c.getSnapsMetadata),s=(0,u.getSnapName)(a),{markNotificationAsRead:d}=(0,E.useMarkNotificationAsRead)();return o.default.createElement(l.NotificationListItemSnap,{id:e.id,snapId:e.data.origin,isRead:e.isRead,createdAt:new Date(e.createdAt),title:{items:[{text:s(e.data.origin)}]},snapMessage:e.data.message,handleSnapClick:t,handleSnapButton:()=>{e.isRead||d([{id:e.id,type:e.type,isRead:e.isRead}]),n.push((0,u.getSnapRoute)(e.data.origin))}})},details:{title:({notification:e})=>o.default.createElement(l.NotificationDetailTitle,{title:e.data.detailedView.title,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:d.NotificationComponentType.SnapBody,Content:({notification:e})=>{const t=(0,r.useSelector)(c.getSnapsMetadata),n=(0,u.getSnapName)(t),a=e.data.origin;return o.default.createElement(o.default.Fragment,null,o.default.createElement(g.Box,{display:f.Display.Flex,style:{borderBottom:"1px solid var(--color-border-muted)"},flexDirection:f.FlexDirection.Column,padding:[4,2,4,4]},o.default.createElement(g.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,paddingBottom:2},o.default.createElement(y.SnapIcon,{snapId:a,avatarSize:g.IconSize.Xl}),o.default.createElement(g.Text,{paddingLeft:4,fontWeight:f.FontWeight.Medium},n(a))),o.default.createElement(_.SnapUIMarkdown,{markdown:!0},e.data.message)),o.default.createElement(g.Box,{paddingLeft:1,paddingRight:1},o.default.createElement(m.SnapUIRenderer,{snapId:e.data.origin,interfaceId:e.data.detailedView.interfaceId,contentBackgroundColor:f.BackgroundColor.backgroundDefault})))}}},footer:{type:d.NotificationComponentType.SnapFooter,Link:b.SnapFooterButton}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/snap/snap.tsx"}],[6756,{"../../../../../shared/lib/translate":5076,"../../../../components/component-library":5637,"../../../../components/multichain":5837,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":5905,"../../../../helpers/constants/design-system":6152,"../../../../helpers/utils/notification.util":6194,"../node-guard":6753,"../types/notifications/notifications":6758,"@metamask/notification-services-controller":1799,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/notification-services-controller"),i=e("../../../../../shared/lib/translate"),s=e("../node-guard"),l=e("../types/notifications/notifications"),c=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:f}=r.NotificationServicesController.Constants,g=(0,s.isOfTypeNodeGuard)([f.ROCKETPOOL_STAKE_COMPLETED,f.ROCKETPOOL_UNSTAKE_COMPLETED,f.LIDO_STAKE_COMPLETED,f.LIDO_WITHDRAWAL_COMPLETED]),h={[f.LIDO_STAKE_COMPLETED]:(0,i.t)("notificationItemStaked"),[f.LIDO_WITHDRAWAL_COMPLETED]:(0,i.t)("notificationItemUnStakeCompleted"),[f.ROCKETPOOL_STAKE_COMPLETED]:(0,i.t)("notificationItemStakeCompleted"),[f.ROCKETPOOL_UNSTAKE_COMPLETED]:(0,i.t)("notificationItemUnStakeCompleted")},y={[f.ROCKETPOOL_STAKE_COMPLETED]:"staked",[f.ROCKETPOOL_UNSTAKE_COMPLETED]:"unstaked",[f.LIDO_STAKE_COMPLETED]:"staked",[f.LIDO_WITHDRAWAL_COMPLETED]:"unstaked"},E={[f.LIDO_STAKE_COMPLETED]:"Lido-staked ETH",[f.LIDO_WITHDRAWAL_COMPLETED]:"Lido-staked ETH",[f.ROCKETPOOL_STAKE_COMPLETED]:"Rocket Pool-staked ETH",[f.ROCKETPOOL_UNSTAKE_COMPLETED]:"Rocket Pool-staked ETH"},_=e=>{const t=y[e.type];return(0,p.createTextItems)(["staked"===t?e.data.stake_out.symbol:e.data.stake_in.symbol],m.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>{const n=y[e.type],a="staked"===n?e.data.stake_in:e.data.stake_out,r=(0,p.getAmount)(a.amount,a.decimals,{shouldEllipse:!0});return o.default.createElement(c.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.data.stake_out.image,badge:{icon:d.IconName.Stake,position:d.BadgeWrapperPosition.bottomRight}},title:(i=e,(0,p.createTextItems)([h[i.type]||""],m.TextVariant.bodySm)),description:_(e),createdAt:new Date(e.createdAt),amount:`${r} ${"staked"===n?e.data.stake_in.symbol:e.data.stake_out.symbol}`,onClick:t});var i},details:{title:({notification:e})=>{const t="staked"===y[e.type]?`${(0,i.t)("notificationItemStaked")} ${e.data.stake_in.symbol}`:`${(0,i.t)("notificationItemUnStaked")} ${e.data.stake_in.symbol}`;return o.default.createElement(c.NotificationDetailTitle,{title:t,date:(0,p.formatIsoDateString)(e.createdAt)})},body:{type:l.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(c.NotificationDetailAddress,{side:(0,i.t)("account")||"",address:e.address}):null,Asset:({notification:e})=>{const t=y[e.type],{nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:n,position:d.BadgeWrapperPosition.topRight}},label:"staked"===t?(0,i.t)("notificationItemStaked")||"":(0,i.t)("notificationItemUnStaked")||"",detail:e.data.stake_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,e.data.stake_in.usd)}`,value:`${(0,p.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,i.t)("notificationItemReceived")||"",detail:e.data.stake_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.stake_out.amount,e.data.stake_out.decimals,e.data.stake_out.usd)}`,value:`${(0,p.getAmount)(e.data.stake_out.amount,e.data.stake_out.decimals,{shouldEllipse:!0})} ${e.data.stake_out.symbol}`})},Status:({notification:e})=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,i.t)("notificationItemStatus")||"",detail:(0,i.t)("notificationItemConfirmed")||"",action:o.default.createElement(c.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,i.t)("notificationItemTransactionId")||""})}),Provider:({notification:e})=>{const t=y[e.type],n=E[e.type];return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_out.image,badge:{src:"staked"===t?e.data.stake_out.image:e.data.stake_in.image}},label:(0,i.t)("notificationItemStakingProvider")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(c.NotificationDetailNetworkFee,{notification:e})}},footer:{type:l.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/stake/stake.tsx"}],[6757,{"../../../../../shared/lib/translate":5076,"../../../../components/component-library":5637,"../../../../components/multichain":5837,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":5905,"../../../../helpers/constants/design-system":6152,"../../../../helpers/utils/notification.util":6194,"../node-guard":6753,"../types/notifications/notifications":6758,"@metamask/notification-services-controller":1799,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/notification-services-controller"),i=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../../shared/lib/translate"),c=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:f}=r.NotificationServicesController.Constants,g=(0,i.isOfTypeNodeGuard)([f.METAMASK_SWAP_COMPLETED]),h=e=>(0,p.createTextItems)([e.data.token_out.symbol],m.TextVariant.bodyMd);n.components={guardFn:g,item:({notification:e,onClick:t})=>{return o.default.createElement(c.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.data.token_out.image,badge:{icon:d.IconName.SwapHorizontal,position:d.BadgeWrapperPosition.bottomRight}},title:(n=e,(0,p.createTextItems)([(0,l.t)("notificationItemSwapped")||"",n.data.token_in.symbol,(0,l.t)("notificationItemSwappedFor")||""],m.TextVariant.bodySm)),description:h(e),createdAt:new Date(e.createdAt),amount:`${(0,p.getAmount)(e.data.token_out.amount,e.data.token_out.decimals,{shouldEllipse:!0})} ${e.data.token_out.symbol}`,onClick:t});var n},details:{title:({notification:e})=>o.default.createElement(c.NotificationDetailTitle,{title:`${(0,l.t)("notificationItemSwapped")||""} ${e.data.token_out.symbol}`,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(c.NotificationDetailAddress,{side:(0,l.t)("account")||"",address:e.address}):null,Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.token_in.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemSwapped")||"",detail:e.data.token_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.token_in.amount,e.data.token_in.decimals,e.data.token_in.usd)}`,value:`${(0,p.getAmount)(e.data.token_in.amount,e.data.token_in.decimals,{shouldEllipse:!0})} ${e.data.token_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.token_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemTo")||"",detail:e.data.token_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.token_out.amount,e.data.token_out.decimals,e.data.token_out.usd)}`,value:`${(0,p.getAmount)(e.data.token_out.amount,e.data.token_out.decimals,{shouldEllipse:!0})} ${e.data.token_out.symbol}`})},Status:({notification:e})=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,l.t)("notificationItemStatus")||"",detail:(0,l.t)("notificationItemConfirmed")||"",action:o.default.createElement(c.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,l.t)("notificationItemTransactionId")||""})}),Network:({notification:e})=>{const{nativeCurrencyName:t,nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:n},label:(0,l.t)("notificationItemNetwork")||"",detail:t})},Rate:({notification:e})=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.SwapHorizontal,color:m.TextColor.infoDefault,backgroundColor:m.BackgroundColor.infoMuted},label:(0,l.t)("notificationItemRate")||"",detail:`1 ${e.data.token_out.symbol} â‰ˆ ${(1/parseFloat(e.data.rate)).toFixed(5)} ${e.data.token_in.symbol}`}),NetworkFee:({notification:e})=>o.default.createElement(c.NotificationDetailNetworkFee,{notification:e})}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/swap-completed/swap-completed.tsx"}],[6758,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationComponentType=void 0;n.NotificationComponentType=function(e){return e.AnnouncementBody="body_feature_announcement",e.AnnouncementFooter="footer_feature_announcement",e.OnChainBody="body_onchain_notification",e.OnChainFooter="footer_onchain_notification",e.SnapBody="body_snap_notification",e.SnapFooter="footer_snap_notification",e}({})}}},{package:"$root$",file:"ui/pages/notifications/notification-components/types/notifications/notifications.ts"}],[6759,{"../../../shared/constants/metametrics":4989,"../../components/component-library":5637,"../../contexts/metametrics":6115,"../../helpers/constants/design-system":6152,"../../helpers/constants/routes":6157,"../../hooks/metamask-notifications/useNotifications":6245,"../../hooks/useNotificationTimeouts":6292,"./notification-components":6750,"@metamask/utils":2361,react:4439,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListItem=function({notification:e}){const t=(0,o.useHistory)(),n=(0,a.useContext)(i.MetaMetricsContext),{setNotificationTimeout:f}=(0,p.useSnapNotificationTimeouts)(),{markNotificationAsRead:g}=(0,d.useMarkNotificationAsRead)(),h=(0,a.useCallback)(()=>{n({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.NotificationClicked,properties:{notification_id:e.id,notification_type:e.type,..."chain_id"in e&&{chain_id:e.chain_id},previously_read:e.isRead}}),g([{id:e.id,type:e.type,isRead:e.isRead}]),e.type!==m.TRIGGER_TYPES.SNAP||(0,r.hasProperty)(e.data,"detailedView")?t.push(`${u.NOTIFICATIONS_ROUTE}/${e.id}`):f(e.id)},[e,g,t]);if(!(0,m.hasNotificationComponents)(e.type))return null;const y=m.NotificationComponents[e.type];return a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,width:c.BlockSize.Full,"data-testid":`notification-list-item-${e.id}`},a.default.createElement(y.item,{notification:e,onClick:h}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("@metamask/utils"),i=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),l=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),u=e("../../helpers/constants/routes"),d=e("../../hooks/metamask-notifications/useNotifications"),p=e("../../hooks/useNotificationTimeouts"),m=e("./notification-components");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-item.tsx"}],[6760,{"../../components/component-library":5637,"../../helpers/constants/design-system":6152,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsPlaceholder=function({title:e,text:t}){return o.default.createElement(r.Box,{height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,gap:2,"data-testid":"notifications-list-placeholder"},o.default.createElement(r.Icon,{name:r.IconName.Notification,size:r.IconSize.Xl}),o.default.createElement(r.Text,{variant:i.TextVariant.headingSm},e),o.default.createElement(r.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Center},t))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../components/component-library"),i=e("../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-placeholder.tsx"}],[6761,{"../../../shared/constants/metametrics":4989,"../../components/component-library":5637,"../../contexts/metametrics":6115,"../../helpers/constants/design-system":6152,"../../hooks/metamask-notifications/useNotifications":6245,"../../hooks/useI18nContext":6278,"../../hooks/useNotificationTimeouts":6292,"@metamask/notification-services-controller/notification-services":1771,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListReadAllButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/notification-services-controller/notification-services"),r=e("../../contexts/metametrics"),i=e("../../../shared/constants/metametrics"),s=e("../../hooks/useI18nContext"),l=e("../../hooks/metamask-notifications/useNotifications"),c=e("../../components/component-library"),u=e("../../helpers/constants/design-system"),d=e("../../hooks/useNotificationTimeouts");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.NotificationsListReadAllButton=({notifications:e})=>{const t=(0,s.useI18nContext)(),{markNotificationAsRead:n}=(0,l.useMarkNotificationAsRead)(),p=(0,a.useContext)(r.MetaMetricsContext),{setNotificationTimeout:m}=(0,d.useSnapNotificationTimeouts)();return a.default.createElement(c.Box,{paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,className:"notifications__list__read__all__button"},a.default.createElement(c.Button,{onClick:()=>{let t=[];e&&e.length>0&&(t=e.filter(e=>(null==e?void 0:e.id)!==undefined&&!e.isRead).map(e=>({id:e.id,type:e.type,isRead:e.isRead})),t.filter(e=>e.type===o.TRIGGER_TYPES.SNAP).forEach(e=>m(e.id))),p({category:i.MetaMetricsEventCategory.NotificationInteraction,event:i.MetaMetricsEventName.MarkAllNotificationsRead}),n(t)},variant:c.ButtonVariant.Primary,width:u.BlockSize.Full,"data-testid":"notifications-list-read-all-button"},t("notificationsMarkAllAsRead")))}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-read-all-button.tsx"}],[6762,{"../../../shared/constants/metametrics":4989,"../../components/component-library":5637,"../../contexts/metamask-notifications/metamask-notifications":6113,"../../contexts/metametrics":6115,"../../helpers/constants/design-system":6152,"../../hooks/metamask-notifications/useNotifications":6245,"../../hooks/useI18nContext":6278,"../../selectors/metamask-notifications/metamask-notifications":6960,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListTurnOnNotifications=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../hooks/useI18nContext"),i=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),l=e("../../hooks/metamask-notifications/useNotifications"),c=e("../../selectors/metamask-notifications/metamask-notifications"),u=e("../../contexts/metamask-notifications/metamask-notifications"),d=e("../../components/component-library"),p=e("../../helpers/constants/design-system");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.NotificationsListTurnOnNotifications=()=>{const e=(0,r.useI18nContext)(),t=(0,a.useContext)(i.MetaMetricsContext),{listNotifications:n}=(0,u.useMetamaskNotificationsContext)(),{enableNotifications:m,error:f}=(0,l.useEnableNotifications)(),g=f,h=(0,o.useSelector)(c.getIsUpdatingMetamaskNotifications),[y,E]=(0,a.useState)(h||!1);(0,a.useEffect)(()=>{E(h)},[h]);const _=a.default.createElement(d.Text,{as:"a",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:p.TextColor.infoDefault},e("turnOnMetamaskNotificationsMessagePrivacyLink")),b=a.default.createElement(d.Text,{as:"span",fontWeight:p.FontWeight.Bold,key:"strong-text"},e("turnOnMetamaskNotificationsMessagePrivacyBold"));return a.default.createElement(d.Container,{maxWidth:d.ContainerMaxWidth.Sm,height:p.BlockSize.Full,margin:"auto",display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column,gap:4,"data-testid":"notifications-list-turn-on-notifications",textAlign:p.TextAlign.Center,paddingLeft:4,paddingRight:4,paddingTop:4},a.default.createElement(d.Text,{variant:p.TextVariant.headingSm},e("metamaskNotificationsAreOff")),a.default.createElement(d.Box,{as:"img",src:"./images/turn-on-metamask-notifications.png",width:p.BlockSize.Full,borderRadius:p.BorderRadius.MD}),a.default.createElement(d.Text,{as:"p"},e("turnOnMetamaskNotificationsMessageSecond",[_])),a.default.createElement(d.Text,{as:"p"},e("turnOnMetamaskNotificationsMessageThird",[b])),a.default.createElement(d.Box,null,a.default.createElement(d.Button,{onClick:()=>(async()=>{await m(),t({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.EnablingNotifications}),g||h||n()})(),size:d.ButtonSize.Md,disabled:y,loading:y},e("turnOnMetamaskNotificationsButton")),g&&a.default.createElement(d.Text,{as:"p",color:p.TextColor.errorDefault},e("turnOnMetamaskNotificationsError"))))}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-turn-on-notifications.tsx"}],[6763,{"../../components/component-library":5637,"../../components/ui/icon/preloader/preloader-icon.component":6030,"../../helpers/constants/design-system":6152,"../../hooks/useI18nContext":6278,"../../selectors/metamask-notifications/metamask-notifications":6960,"./notifications-list-item":6759,"./notifications-list-placeholder":6760,"./notifications-list-read-all-button":6761,"./notifications-list-turn-on-notifications":6762,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsList=function(e){return a.default.createElement(r.Box,{"data-testid":"notifications-list",height:i.BlockSize.Full,width:i.BlockSize.Full,className:"notifications__list"},a.default.createElement(b,e),e.notifications.length>0&&e.notificationsCount>0?a.default.createElement(m.NotificationsListReadAllButton,{notifications:e.notifications}):null)},n.TAB_KEYS=void 0;var a=f(e("react")),o=e("react-redux"),r=e("../../components/component-library"),i=e("../../helpers/constants/design-system"),s=f(e("../../components/ui/icon/preloader/preloader-icon.component")),l=e("../../selectors/metamask-notifications/metamask-notifications"),c=e("../../hooks/useI18nContext"),u=e("./notifications-list-placeholder"),d=e("./notifications-list-turn-on-notifications"),p=e("./notifications-list-item"),m=e("./notifications-list-read-all-button");function f(e){return e&&e.__esModule?e:{default:e}}let g=n.TAB_KEYS=function(e){return e.ALL="notifications-all-tab",e.WALLET="notifications-wallet-tab",e.WEB3="notifications-other-tab",e}({});function h(){return a.default.createElement(r.Box,{height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,"data-testid":"notifications-list-loading"},a.default.createElement(s.default,{size:36}))}function y(){const e=(0,c.useI18nContext)();return a.default.createElement(u.NotificationsPlaceholder,{title:e("notificationsPageEmptyTitle"),text:e("notificationsPageNoNotificationsContent")})}function E(){const e=(0,c.useI18nContext)();return a.default.createElement(u.NotificationsPlaceholder,{title:e("notificationsPageErrorTitle"),text:e("notificationsPageErrorContent")})}function _(e){const{notification:t}=e;return a.default.createElement(p.NotificationsListItem,{notification:t})}function b({activeTab:e,notifications:t,isLoading:n,isError:r}){const i=(0,o.useSelector)(l.selectIsMetamaskNotificationsEnabled);return e!==g.WALLET||i?n?a.default.createElement(h,null):r?a.default.createElement(E,null):0===t.length?a.default.createElement(y,null):a.default.createElement(a.default.Fragment,null,t.map(e=>a.default.createElement(_,{key:e.id,notification:e}))):a.default.createElement(d.NotificationsListTurnOnNotifications,null)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list.tsx"}],[6764,{"../../components/component-library":5637,"../../components/multichain":5837,"../../components/multichain/pages/page":5931,"../../components/ui/tabs":6084,"../../contexts/metamask-notifications/metamask-notifications":6113,"../../helpers/constants/design-system":6152,"../../helpers/constants/routes":6157,"../../hooks/metamask-notifications/useCounter":6244,"../../hooks/useI18nContext":6278,"../../selectors":6959,"../../selectors/metamask-notifications/metamask-notifications":6960,"../../store/actions":6981,"./NewFeatureTag":6742,"./notifications-list":6763,"@metamask/notification-services-controller":1799,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useHistory)(),t=(0,s.useI18nContext)(),n=(0,o.useDispatch)(),{isLoading:i,error:h}=(0,m.useMetamaskNotificationsContext)(),[v,T]=(0,a.useState)(_.TAB_KEYS.ALL),x=k(),{notificationsUnreadCount:w}=(0,f.useUnreadNotificationsCounter)(),S=(0,a.useMemo)(()=>C(v,x),[v,x]);let O=!1;return O=(0,o.useSelector)(g.getNotifySnaps).length>0,(0,a.useEffect)(()=>{n((0,E.deleteExpiredNotifications)())},[n]),a.default.createElement(d.NotificationsPage,null,a.default.createElement(p.Header,{startAccessory:a.default.createElement(l.ButtonIcon,{ariaLabel:"Back",iconName:l.IconName.ArrowLeft,size:l.ButtonIconSize.Sm,onClick:()=>{e.push(u.DEFAULT_ROUTE)},"data-testid":"back-button"}),endAccessory:a.default.createElement(l.ButtonIcon,{ariaLabel:"Notifications Settings",iconName:l.IconName.Setting,size:l.ButtonIconSize.Sm,onClick:()=>{e.push(u.NOTIFICATIONS_SETTINGS_ROUTE)},"data-testid":"notifications-settings-button"}),marginBottom:0},t("notifications")),a.default.createElement(p.Content,{padding:0},O&&a.default.createElement(c.Tabs,{defaultActiveTabKey:v,onTabClick:e=>T(e),tabsClassName:"notifications__tabs"},a.default.createElement(c.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":_.TAB_KEYS.ALL,name:t("all"),tabKey:_.TAB_KEYS.ALL}),a.default.createElement(c.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":_.TAB_KEYS.WALLET,name:a.default.createElement(l.Box,{display:y.Display.Flex,justifyContent:y.JustifyContent.center,alignItems:y.AlignItems.center,gap:2},t("wallet"),a.default.createElement(b.NewFeatureTag,null)),tabKey:_.TAB_KEYS.WALLET}),a.default.createElement(c.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":_.TAB_KEYS.WEB3,name:t("web3"),tabKey:_.TAB_KEYS.WEB3})),a.default.createElement(_.NotificationsList,{activeTab:v,notifications:S,isLoading:i,isError:Boolean(h),notificationsCount:w})))},n.filterNotifications=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("@metamask/notification-services-controller"),s=e("../../hooks/useI18nContext"),l=e("../../components/component-library"),c=e("../../components/ui/tabs"),u=e("../../helpers/constants/routes"),d=e("../../components/multichain"),p=e("../../components/multichain/pages/page"),m=e("../../contexts/metamask-notifications/metamask-notifications"),f=e("../../hooks/metamask-notifications/useCounter"),g=e("../../selectors"),h=e("../../selectors/metamask-notifications/metamask-notifications"),y=e("../../helpers/constants/design-system"),E=e("../../store/actions"),_=e("./notifications-list"),b=e("./NewFeatureTag");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const{TRIGGER_TYPES:T,TRIGGER_TYPES_WALLET_SET:x}=i.NotificationServicesController.Constants,k=()=>{const{featureAnnouncementNotifications:e,walletNotifications:t,snapNotifications:n}=(()=>{const e=(0,o.useSelector)(h.selectIsFeatureAnnouncementsEnabled),t=(0,o.useSelector)(h.selectIsMetamaskNotificationsEnabled),n=(0,o.useSelector)(h.getMetamaskNotifications);return{featureAnnouncementNotifications:(0,a.useMemo)(()=>e?(n??[]).filter(e=>e.type===T.FEATURES_ANNOUNCEMENT):[],[e,n]),walletNotifications:(0,a.useMemo)(()=>t?(n??[]).filter(e=>e.type!==T.FEATURES_ANNOUNCEMENT&&e.type!==T.SNAP):[],[t,n]),snapNotifications:(0,a.useMemo)(()=>(n??[]).filter(e=>e.type===T.SNAP),[n])}})();return(0,a.useMemo)(()=>[...n,...e,...t].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),[n,e,t])},C=(e,t)=>e===_.TAB_KEYS.ALL?t:e===_.TAB_KEYS.WALLET?t.filter(e=>x.has(e.type)||e.type===T.FEATURES_ANNOUNCEMENT):e===_.TAB_KEYS.WEB3?t.filter(e=>e.type===T.SNAP):t;n.filterNotifications=C}}},{package:"$root$",file:"ui/pages/notifications/notifications.tsx"}],[6765,{"../../../../shared/constants/metametrics":4989,"../../../../shared/constants/onboarding":4995,"../../../../shared/lib/trace":5071,"../../../components/component-library":5637,"../../../components/component-library/button":5618,"../../../contexts/metametrics":6115,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"../../../store/actions":6981,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useHistory)(),t=(0,r.useDispatch)(),n=(0,c.useI18nContext)(),y=(0,r.useSelector)(d.getFirstTimeFlowType),E=(0,r.useSelector)(d.getSocialLoginEmail),_=(0,r.useSelector)(d.getSocialLoginType),b=(0,a.useContext)(f.MetaMetricsContext),{bufferedTrace:v,bufferedEndTrace:T,onboardingParentContext:x}=b;return(0,a.useEffect)(()=>(y!==p.FirstTimeFlowType.socialCreate&&e.replace(u.ONBOARDING_WELCOME_ROUTE),y===p.FirstTimeFlowType.socialCreate&&(null==v||v({name:h.TraceName.OnboardingNewSocialAccountExists,op:h.TraceOperation.OnboardingUserJourney,parentContext:null==x?void 0:x.current})),()=>{y===p.FirstTimeFlowType.socialCreate&&(null==T||T({name:h.TraceName.OnboardingNewSocialAccountExists}))}),[y,e,x,v,T]),a.default.createElement(l.Box,{className:"account-exist","data-testid":"account-exist",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,height:s.BlockSize.Full,gap:6},a.default.createElement(l.Box,null,a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart},a.default.createElement(l.Text,{variant:s.TextVariant.headingLg,as:"h2",justifyContent:s.JustifyContent.center,style:{alignSelf:s.AlignItems.flexStart},marginBottom:4},n("accountAlreadyExistsTitle")),a.default.createElement(l.Box,{width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,marginBottom:6},a.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:n("accountAlreadyExistsTitle"),style:{alignSelf:"center"}})),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,marginBottom:6},n("accountAlreadyExistsLoginDescription",[E])))),a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4},a.default.createElement(i.Button,{"data-testid":"onboarding-complete-done",variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{b({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${g.MetaMetricsEventAccountType.Imported}_${_}`}}),null==v||v({name:h.TraceName.OnboardingExistingSocialLogin,op:h.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==x?void 0:x.current}),await t((0,m.setFirstTimeFlowType)(p.FirstTimeFlowType.socialImport)),e.replace(u.ONBOARDING_UNLOCK_ROUTE)}},n("accountAlreadyExistsLogin")),a.default.createElement(i.Button,{"data-testid":"account-exist-login-with-different-method",variant:i.ButtonVariant.Secondary,size:i.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async n=>{n.preventDefault(),await t((0,m.resetOnboarding)()),await(0,m.forceUpdateMetamaskState)(t),e.replace(u.ONBOARDING_WELCOME_ROUTE)}},n("useDifferentLoginMethod"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("../../../components/component-library/button"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding"),m=e("../../../store/actions"),f=e("../../../contexts/metametrics"),g=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/lib/trace");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-exist/account-exist.tsx"}],[6766,{"../../../../shared/constants/metametrics":4989,"../../../../shared/constants/onboarding":4995,"../../../../shared/lib/trace":5071,"../../../components/component-library":5637,"../../../components/component-library/button":5618,"../../../contexts/metametrics":6115,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"../../../store/actions":6981,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useHistory)(),t=(0,r.useDispatch)(),n=(0,c.useI18nContext)(),y=(0,r.useSelector)(d.getFirstTimeFlowType),E=(0,r.useSelector)(d.getSocialLoginEmail),_=(0,r.useSelector)(d.getSocialLoginType),b=(0,a.useContext)(h.MetaMetricsContext),{bufferedTrace:v,bufferedEndTrace:T,onboardingParentContext:x}=b;return(0,a.useEffect)(()=>(y!==p.FirstTimeFlowType.socialImport&&e.replace(u.ONBOARDING_WELCOME_ROUTE),y===p.FirstTimeFlowType.socialImport&&(null==v||v({name:g.TraceName.OnboardingExistingSocialAccountNotFound,op:g.TraceOperation.OnboardingUserJourney,parentContext:null==x?void 0:x.current})),()=>{y===p.FirstTimeFlowType.socialImport&&(null==T||T({name:g.TraceName.OnboardingExistingSocialAccountNotFound}))}),[y,e,x,v,T]),a.default.createElement(l.Box,{className:"account-not-found","data-testid":"account-not-found",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,gap:6,height:s.BlockSize.Full},a.default.createElement(l.Box,null,a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart},a.default.createElement(l.Text,{variant:s.TextVariant.headingLg,as:"h2",justifyContent:s.JustifyContent.center,style:{alignSelf:s.AlignItems.flexStart},marginBottom:4},n("accountNotFoundTitle")),a.default.createElement(l.Box,{width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,marginBottom:6},a.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:n("accountNotFoundTitle"),style:{alignSelf:"center"}})),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,marginBottom:6},n("accountNotFoundDescription",[E])))),a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4},a.default.createElement(i.Button,{"data-testid":"onboarding-complete-done",variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,width:s.BlockSize.Full,onClick:()=>{b({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${f.MetaMetricsEventAccountType.Default}_${_}`}}),null==v||v({name:g.TraceName.OnboardingNewSocialCreateWallet,op:g.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==x?void 0:x.current}),t((0,m.setFirstTimeFlowType)(p.FirstTimeFlowType.socialCreate)),e.replace(u.ONBOARDING_CREATE_PASSWORD_ROUTE)}},n("accountNotFoundCreateOne")),a.default.createElement(i.Button,{"data-testid":"account-exist-login-with-different-method",variant:i.ButtonVariant.Secondary,size:i.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{await t((0,m.resetOnboarding)()),await(0,m.forceUpdateMetamaskState)(t),e.replace(u.ONBOARDING_WELCOME_ROUTE)}},n("useDifferentLoginMethod"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("../../../components/component-library/button"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding"),m=e("../../../store/actions"),f=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/lib/trace"),h=e("../../../contexts/metametrics");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-not-found/account-not-found.tsx"}],[6767,{"../../../../shared/constants/app":4975,"../../../../shared/constants/metametrics":4989,"../../../../shared/constants/onboarding":4995,"../../../../shared/lib/trace":5071,"../../../../shared/modules/browser-runtime.utils":5080,"../../../../shared/modules/environment":5084,"../../../components/app/password-form/password-form":5349,"../../../components/component-library":5637,"../../../contexts/metametrics":6115,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../helpers/constants/zendesk-url":6164,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"../../../store/actions":6981,buffer:3318,"prop-types":4257,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=C;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=T(e("prop-types")),r=e("react-router-dom"),i=e("react-redux"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=T(e("../../../helpers/constants/zendesk-url")),d=e("../../../selectors"),p=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),f=e("../../../components/component-library"),g=e("../../../../shared/constants/onboarding"),h=T(e("../../../components/app/password-form/password-form")),y=e("../../../../shared/constants/app"),E=e("../../../../shared/modules/browser-runtime.utils"),_=e("../../../store/actions"),b=e("../../../../shared/modules/environment"),v=e("../../../../shared/lib/trace");function T(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const k=(0,E.getBrowserName)()===y.PLATFORM_FIREFOX;function C({createNewAccount:e,importWithRecoveryPhrase:n,secretRecoveryPhrase:o}){const y=(0,s.useI18nContext)(),[E,T]=(0,a.useState)(""),[x,C]=(0,a.useState)(!1),[w,S]=(0,a.useState)(!1),O=(0,r.useHistory)(),I=(0,i.useDispatch)(),N=(0,i.useSelector)(d.getFirstTimeFlowType),A=(0,a.useContext)(p.MetaMetricsContext),{bufferedTrace:M,bufferedEndTrace:R,onboardingParentContext:B}=A,D=(0,i.useSelector)(d.getCurrentKeyring),P=(0,b.getIsSeedlessOnboardingFeatureEnabled)(),L=(0,i.useSelector)(d.getIsSocialLoginFlow),F=(0,i.useSelector)(d.getSocialLoginType),j=(0,i.useSelector)(d.getParticipateInMetaMetrics),W=(0,i.useSelector)(d.getIsParticipateInMetaMetricsSet),U=(0,i.useSelector)(d.getMetaMetricsId),z=t.from(U??"").toString("base64"),$=Boolean(j&&z),V=`https://start.metamask.io/?${new URLSearchParams({mmi:z,env:"production"})}`;(0,a.useEffect)(()=>{D&&!w?N===g.FirstTimeFlowType.import||N===g.FirstTimeFlowType.socialImport?O.replace(W?c.ONBOARDING_COMPLETION_ROUTE:c.ONBOARDING_METAMETRICS):N===g.FirstTimeFlowType.socialCreate?k?O.replace(c.ONBOARDING_COMPLETION_ROUTE):O.replace(c.ONBOARDING_METAMETRICS):O.replace(c.ONBOARDING_SECURE_YOUR_WALLET_ROUTE):N!==g.FirstTimeFlowType.import||o||O.replace(c.ONBOARDING_IMPORT_WITH_SRP_ROUTE)},[D,O,N,w,o,W]);const G=(e,t=!1)=>{if(t&&F){return`${e}_${String(F).toLowerCase()}`}return e};(0,a.useEffect)(()=>(null==M||M({name:v.TraceName.OnboardingPasswordSetupAttempt,op:v.TraceOperation.OnboardingUserJourney,parentContext:null==B?void 0:B.current}),()=>{null==R||R({name:v.TraceName.OnboardingPasswordSetupAttempt})}),[B,M,R]);const q=a.default.createElement("a",{onClick:e=>{e.stopPropagation(),A({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.ExternalLinkClicked,properties:{text:"Learn More",location:"create_password",url:u.default.PASSWORD_ARTICLE}})},key:"create-password__link-text",href:u.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},a.default.createElement("span",{className:"create-password__link-text"},y("learnMoreUpperCaseWithDot")));return a.default.createElement(f.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:4,as:"form",className:"create-password","data-testid":"create-password",onSubmit:async t=>{if(null==t||t.preventDefault(),E)try{o&&N===g.FirstTimeFlowType.import?await(async()=>{A({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImportAttempted}),await n(E,o),null==R||R({name:v.TraceName.OnboardingExistingSrpImport}),null==R||R({name:v.TraceName.OnboardingJourneyOverall}),A({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImported,properties:{biometrics_enabled:!1}}),A({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"import",new_wallet:!1,account_type:G(m.MetaMetricsEventAccountType.Imported,L)}}),k?O.replace(c.ONBOARDING_COMPLETION_ROUTE):O.replace(c.ONBOARDING_METAMETRICS)})():await(async()=>{A({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletCreationAttempted,properties:{account_type:G(m.MetaMetricsEventAccountType.Default,L)}}),e&&(S(!0),await e(E)),L&&(null==R||R({name:v.TraceName.OnboardingNewSocialCreateWallet}),null==R||R({name:v.TraceName.OnboardingJourneyOverall})),A({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletCreated,properties:{biometrics_enabled:!1,account_type:G(m.MetaMetricsEventAccountType.Default,L)}}),A({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"new",new_wallet:!0,account_type:G(m.MetaMetricsEventAccountType.Default,L)}}),P&&L?k?O.replace(c.ONBOARDING_COMPLETION_ROUTE):O.replace(c.ONBOARDING_METAMETRICS):O.replace(c.ONBOARDING_SECURE_YOUR_WALLET_ROUTE)})()}catch(e){(e=>{const t=e instanceof Error?e.message:"Unknown error";null==M||M({name:v.TraceName.OnboardingPasswordSetupError,op:v.TraceOperation.OnboardingUserJourney,parentContext:B.current,tags:{errorMessage:t}}),null==R||R({name:v.TraceName.OnboardingPasswordSetupError}),console.error(e)})(e),A({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupFailure})}}},a.default.createElement(f.Box,null,a.default.createElement(f.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},a.default.createElement(f.ButtonIcon,{iconName:f.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:f.ButtonIconSize.Md,"data-testid":"create-password-back-button",type:"button",onClick:async e=>{e.preventDefault(),await I((0,_.resetOnboarding)()),await(0,_.forceUpdateMetamaskState)(I),N===g.FirstTimeFlowType.import?O.replace(c.ONBOARDING_IMPORT_WITH_SRP_ROUTE):O.replace(c.ONBOARDING_WELCOME_ROUTE)},ariaLabel:y("back")})),a.default.createElement(f.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},!L&&a.default.createElement(f.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},y("stepOf",[N===g.FirstTimeFlowType.import?2:1,N===g.FirstTimeFlowType.import?2:3])),a.default.createElement(f.Text,{variant:l.TextVariant.headingLg,as:"h2"},y("createPassword")),a.default.createElement(f.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,as:"h2"},y(L?"createPasswordDetailsSocial":"createPasswordDetails"))),a.default.createElement(h.default,{onChange:e=>T(e)}),a.default.createElement(f.Box,{className:"create-password__terms-container",alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,marginTop:6},a.default.createElement(f.Checkbox,{inputProps:{"data-testid":"create-password-terms"},alignItems:l.AlignItems.flexStart,isChecked:x,onChange:()=>{C(!x)},label:a.default.createElement(a.default.Fragment,null,y(L?"passwordTermsWarningSocial":"passwordTermsWarning"),"Â ",q)}))),a.default.createElement(f.Box,null,a.default.createElement(f.Button,{"data-testid":"create-password-submit",variant:f.ButtonVariant.Primary,width:l.BlockSize.Full,size:f.ButtonSize.Lg,className:"create-password__form--submit-button",disabled:!E||!x},y("createPasswordCreate"))),$?a.default.createElement("iframe",{src:V,className:"create-password__analytics-iframe","data-testid":"create-password-iframe"}):null)}C.propTypes={createNewAccount:o.default.func,importWithRecoveryPhrase:o.default.func,secretRecoveryPhrase:o.default.string}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/pages/onboarding-flow/create-password/create-password.js"}],[6768,{"../../../components/component-library":5637,"../../../components/component-library/button":5618,"../../../components/component-library/lottie-animation":5643,"../../../ducks/metamask/metamask":6139,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,lodash:4088,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useHistory)(),t=(0,u.useI18nContext)(),{search:n}=(0,o.useLocation)(),g=(0,r.useSelector)(m.getIsPrimarySeedPhraseBackedUp),h=(0,r.useSelector)(p.getSocialLoginType),y=new URLSearchParams(n),E=y.get("isFromReminder"),_=y.get("isFromSettingsSecurity"),b=(0,a.useMemo)(()=>t(g?E?"yourWalletIsReadyFromReminder":"yourWalletIsReady":"yourWalletIsReadyRemind"),[E,g,t]),v=(0,a.useMemo)(()=>h?t("walletReadySocialDetails1",[(0,i.capitalize)(h)]):t(g?E?"walletReadyLoseSrpFromReminder":"walletReadyLoseSrp":"walletReadyLoseSrpRemind"),[h,g,t,E]),T=(0,a.useMemo)(()=>h?t("walletReadySocialDetails2"):g||E?t("walletReadyLearn",[a.default.createElement(c.ButtonLink,{key:"walletReadyLearn",size:c.ButtonLinkSize.Inherit,textProps:{variant:l.TextVariant.bodyMd,alignItems:l.AlignItems.flexStart},as:"a",href:"https://support.metamask.io/stay-safe/safety-in-web3/basic-safety-and-security-tips-for-metamask/",target:"_blank",rel:"noopener noreferrer"},t("learnHow"))]):t("walletReadyLearnRemind"),[h,g,E,t]),x=(0,a.useMemo)(()=>a.default.createElement(f.LottieAnimation,{path:"images/animations/fox/celebrating.lottie.json",loop:!0,autoplay:!0}),[g,E]),k=(0,a.useCallback)(()=>{E?e.push(_?d.SECURITY_ROUTE:d.DEFAULT_ROUTE):e.push(d.ONBOARDING_DOWNLOAD_APP_ROUTE)},[e,E,_]);return a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:6,className:"creation-successful","data-testid":"wallet-ready"},a.default.createElement(c.Box,null,a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.flexStart},a.default.createElement(c.Text,{variant:l.TextVariant.headingLg,as:"h2",justifyContent:l.JustifyContent.center,style:{alignSelf:l.AlignItems.flexStart},marginBottom:4},b),a.default.createElement(c.Box,{width:l.BlockSize.Full,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,marginBottom:6},a.default.createElement(c.Box,{display:l.Display.Flex,style:{width:"144px",height:"144px"}},x)),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:6},v),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:6},T)),!E&&a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexStart,className:"creation-successful__settings-actions",gap:4},a.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,"data-testid":"manage-default-settings",borderRadius:l.BorderRadius.LG,width:l.BlockSize.Full,onClick:()=>e.push(d.ONBOARDING_PRIVACY_SETTINGS_ROUTE)},a.default.createElement(c.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},a.default.createElement(c.Icon,{name:c.IconName.Setting,size:c.IconSize.Md,marginInlineEnd:3}),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},t("manageDefaultSettings"))),a.default.createElement(c.Icon,{name:c.IconName.ArrowRight,color:l.IconColor.iconAlternative,size:c.IconSize.Sm})))),a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center},a.default.createElement(s.Button,{"data-testid":"onboarding-complete-done",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:k},t("done"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("lodash"),s=e("../../../components/component-library/button"),l=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),m=e("../../../ducks/metamask/metamask"),f=e("../../../components/component-library/lottie-animation");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/creation-successful/creation-successful.js"}],[6769,{"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,i.useI18nContext)(),t=(0,o.useHistory)(),n=(0,r.useSelector)(u.getCurrentKeyring);return(0,a.useEffect)(()=>{n||t.replace(l.ONBOARDING_WELCOME_ROUTE)},[n,t]),a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,height:s.BlockSize.Full,gap:6,className:"onboarding-download-app","data-testid":"onboarding-download-app"},a.default.createElement(c.Box,null,a.default.createElement(c.Text,{variant:s.TextVariant.headingLg,marginBottom:4},e("downloadAppTitle")),a.default.createElement(c.Box,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,justifyContent:s.JustifyContent.center,marginBottom:4},a.default.createElement("img",{src:"/images/onboarding-download-app.png",alt:"Download the app"})),a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd},e("downloadAppDescription"))),a.default.createElement(c.Box,null,a.default.createElement(c.Button,{variant:c.ButtonVariant.Primary,size:c.ButtonSize.Lg,block:!0,"data-testid":"download-app-continue",onClick:async()=>{t.push(l.ONBOARDING_PIN_EXTENSION_ROUTE)}},e("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),c=e("../../../components/component-library"),u=e("../../../selectors");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/download-app/download-app.tsx"}],[6770,{"../../../../shared/constants/metametrics":4989,"../../../components/app/srp-details-modal":5509,"../../../components/app/srp-input-import":5511,"../../../components/component-library":5637,"../../../contexts/metametrics":6115,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"../../../selectors/selectors":6973,"@ethersproject/hdnode":586,"prop-types":4257,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=E(e("prop-types")),s=e("@ethersproject/hdnode"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=e("../../../hooks/useI18nContext"),d=E(e("../../../components/app/srp-input-import")),p=e("../../../selectors"),m=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),g=e("../../../selectors/selectors"),h=e("../../../components/component-library"),y=E(e("../../../components/app/srp-details-modal"));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const b=e=>e!==e.toLowerCase();function v({submitSecretRecoveryPhrase:e}){const[t,n]=(0,a.useState)(""),[i,E]=(0,a.useState)(!1),[_,v]=(0,a.useState)(""),T=(0,o.useHistory)(),x=(0,r.useSelector)(g.getHDEntropyIndex),k=(0,u.useI18nContext)(),C=(0,r.useSelector)(p.getCurrentKeyring);(0,a.useEffect)(()=>{C&&T.replace(c.ONBOARDING_CREATE_PASSWORD_ROUTE)},[C,T]);const w=(0,a.useContext)(m.MetaMetricsContext),S=(0,a.useCallback)(()=>{w({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"import_srp"}}),E(!0)},[w]),O=(0,a.useCallback)(()=>{let n="";!b(t)&&(0,s.isValidMnemonic)(t)||(n=k("invalidSeedPhraseNotFound")),v(n),n||(e(t),w({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:x}}),T.push(c.ONBOARDING_CREATE_PASSWORD_ROUTE))},[t,k,x,w,T,e]);return(0,a.useEffect)(()=>{v("")},[t]),a.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:4,className:"import-srp","data-testid":"import-srp"},i&&a.default.createElement(y.default,{onClose:()=>E(!1)}),a.default.createElement(h.Box,null,a.default.createElement(h.Box,{marginBottom:4},a.default.createElement(h.ButtonIcon,{iconName:h.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:h.ButtonIconSize.Md,"data-testid":"import-srp-back-button",onClick:()=>{T.replace(c.ONBOARDING_WELCOME_ROUTE)},ariaLabel:k("back")})),a.default.createElement(h.Box,{textAlign:l.TextAlign.Left},a.default.createElement(h.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},k("stepOf",[1,2]))),a.default.createElement(h.Box,{textAlign:l.TextAlign.Left,marginBottom:2},a.default.createElement(h.Text,{variant:l.TextVariant.headingLg},k("importAWallet"))),a.default.createElement(h.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,marginBottom:4},a.default.createElement(h.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},k("typeYourSRP")),a.default.createElement(h.ButtonIcon,{iconName:h.IconName.Info,size:h.ButtonIconSize.Sm,color:l.IconColor.iconAlternative,onClick:S,ariaLabel:"info"})),a.default.createElement(h.Box,{width:l.BlockSize.Full},a.default.createElement("form",{onSubmit:e=>e.preventDefault()},a.default.createElement(d.default,{onChange:n}),_&&a.default.createElement(h.Box,{marginTop:2},a.default.createElement(h.Text,{"data-testid":"import-srp-error",variant:l.TextVariant.bodySm,color:l.TextColor.errorDefault},_))))),a.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,width:l.BlockSize.Full,textAlign:l.TextAlign.Left},a.default.createElement(h.Button,{width:l.BlockSize.Full,size:h.ButtonSize.Lg,type:"primary","data-testid":"import-srp-confirm",onClick:O,disabled:!t.trim()||Boolean(_)},k("continue"))))}v.propTypes={submitSecretRecoveryPhrase:i.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/import-srp/import-srp.js"}],[6771,{"../../../../shared/constants/app":4975,"../../../../shared/constants/metametrics":4989,"../../../../shared/constants/onboarding":4995,"../../../../shared/modules/browser-runtime.utils":5080,"../../../components/component-library":5637,"../../../contexts/metametrics":6115,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"../../../store/actions":6981,loglevel:4096,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,c.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,i.useHistory)(),a=(0,r.useSelector)(d.getFirstTimeFlowType),m=(0,r.useSelector)(d.getDataCollectionForMarketing),E=(0,r.useSelector)(d.getCurrentKeyring),b=(0,o.useContext)(g.MetaMetricsContext);let v=(0,r.useSelector)(d.getFirstTimeFlowTypeRouteAfterMetaMetricsOptIn);_&&a!==y.FirstTimeFlowType.restore&&(v=E&&a===y.FirstTimeFlowType.socialCreate?f.ONBOARDING_COMPLETION_ROUTE:f.ONBOARDING_WELCOME_ROUTE);return o.default.createElement("div",{className:"onboarding-metametrics","data-testid":"onboarding-metametrics"},o.default.createElement(h.Text,{variant:l.TextVariant.headingLg,textAlign:l.TextAlign.Left,fontWeight:l.FontWeight.Bold,marginBottom:4},e("onboardingMetametricsTitle")),o.default.createElement(h.Text,{className:"onboarding-metametrics__desc",textAlign:l.TextAlign.Left},e("onboardingMetametricsDescription")),o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,paddingBottom:4},o.default.createElement(h.Icon,{marginInlineEnd:2,name:h.IconName.Check,size:h.IconSize.Sm,color:l.IconColor.successDefault}),o.default.createElement(h.Text,{color:l.TextColor.textAlternative},e("onboardingMetametricsNeverCollect",[o.default.createElement(h.Text,{variant:l.TextVariant.inherit,key:"never",fontWeight:l.FontWeight.Bold,color:l.TextColor.textDefault,marginTop:0},e("onboardingMetametricsNeverCollectEmphasis"))])))),o.default.createElement("li",null,o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,paddingBottom:4},o.default.createElement(h.Icon,{marginInlineEnd:2,name:h.IconName.Check,size:h.IconSize.Sm,color:l.IconColor.successDefault}),o.default.createElement(h.Text,{color:l.TextColor.textAlternative},e("onboardingMetametricsNeverCollectIP",[o.default.createElement(h.Text,{variant:l.TextVariant.inherit,key:"never-collect",fontWeight:l.FontWeight.Bold,color:l.TextColor.textDefault},e("onboardingMetametricsNeverCollectIPEmphasis"))])))),o.default.createElement("li",null,o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,paddingBottom:4},o.default.createElement(h.Icon,{marginInlineEnd:2,name:h.IconName.Check,size:h.IconSize.Sm,color:l.IconColor.successDefault}),o.default.createElement(h.Text,{color:l.TextColor.textAlternative},e("onboardingMetametricsNeverSellData",[o.default.createElement(h.Text,{variant:l.TextVariant.inherit,key:"never-sell",fontWeight:l.FontWeight.Bold,color:l.TextColor.textDefault},e("onboardingMetametricsNeverSellDataEmphasis"))]))))),o.default.createElement(h.Checkbox,{id:"metametrics-opt-in","data-testid":"metametrics-data-collection-checkbox",isChecked:m,onClick:()=>t((0,u.setDataCollectionForMarketing)(!m)),label:o.default.createElement(h.Text,{fontWeight:l.FontWeight.Medium},e("onboardingMetametricsUseDataCheckbox")),paddingBottom:3,alignItems:l.AlignItems.flexStart}),o.default.createElement(h.Text,{color:l.TextColor.textAlternative,textAlign:l.TextAlign.Left,variant:l.TextVariant.bodySm,paddingTop:4,className:"onboarding-metametrics__terms"},e("onboardingMetametricsInfuraTerms",[o.default.createElement("a",{href:_?"https://addons.mozilla.org/en-CA/firefox/addon/ether-metamask/privacy/":"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",key:"privacy-link"},e("onboardingMetametricsInfuraTermsPolicy"))])),o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,width:l.BlockSize.Full,className:"onboarding-metametrics__buttons",marginTop:6,gap:4},o.default.createElement(h.Button,{"data-testid":"metametrics-no-thanks",variant:h.ButtonVariant.Secondary,size:h.ButtonSize.Lg,width:l.BlockSize.Full,onClick:async e=>{e.preventDefault(),await t((0,u.setParticipateInMetaMetrics)(!1)),await t((0,u.setDataCollectionForMarketing)(!1)),n.push(v)}},e("noThanks")),o.default.createElement(h.Button,{"data-testid":"metametrics-i-agree",size:h.ButtonSize.Lg,width:l.BlockSize.Full,onClick:async e=>{e.preventDefault(),null===m&&await t((0,u.setDataCollectionForMarketing)(!1)),await t((0,u.setParticipateInMetaMetrics)(!0));try{await b({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AppInstalled}),await b({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(m),location:"onboarding_metametrics"}})}catch(e){s.default.error("onConfirm::error",e)}finally{n.push(v)}}},e("onboardingMetametricsAgree"))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../selectors"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/constants/app"),f=e("../../../helpers/constants/routes"),g=e("../../../contexts/metametrics"),h=e("../../../components/component-library"),y=e("../../../../shared/constants/onboarding");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const _=(0,e("../../../../shared/modules/browser-runtime.utils").getBrowserName)()===m.PLATFORM_FIREFOX}}},{package:"$root$",file:"ui/pages/onboarding-flow/metametrics/metametrics.js"}],[6772,{"../../../../app/_locales/index.json":2,"../../../../shared/constants/preferences":4997,"../../../components/component-library":5637,"../../../components/ui/dropdown":6010,"../../../components/ui/metafox-logo":6055,"../../../ducks/locale/locale":6138,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../store/actions":6981,"../welcome/types":6787,classnames:3351,"prop-types":4257,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=E(e("react")),o=E(e("prop-types")),r=e("react-redux"),i=e("react-router-dom"),s=E(e("classnames")),l=E(e("../../../components/ui/metafox-logo")),c=E(e("../../../components/ui/dropdown")),u=e("../../../ducks/locale/locale"),d=e("../../../store/actions"),p=E(e("../../../../app/_locales/index.json")),m=e("../../../helpers/constants/routes"),f=e("../../../components/component-library"),g=e("../../../helpers/constants/design-system"),h=e("../welcome/types"),y=e("../../../../shared/constants/preferences");function E(e){return e&&e.__esModule?e:{default:e}}function _({pageState:e}){const t=(0,r.useDispatch)(),{pathname:n}=(0,i.useLocation)(),o=(0,r.useSelector)(u.getCurrentLocale),E=p.default.map(e=>({name:e.name,value:e.code}));return a.default.createElement(f.Box,{display:g.Display.Flex,alignItems:g.AlignItems.center,backgroundColor:g.BackgroundColor.backgroundDefault,width:g.BlockSize.Full,padding:4,className:(0,s.default)("onboarding-app-header",{"onboarding-app-header--welcome":n===m.ONBOARDING_WELCOME_ROUTE})},a.default.createElement(f.Box,{display:g.Display.Flex,width:g.BlockSize.Full,justifyContent:g.JustifyContent.spaceBetween,className:"onboarding-app-header__contents"},a.default.createElement(l.default,{theme:n===m.ONBOARDING_WELCOME_ROUTE?y.ThemeType.light:undefined,unsetIconHeight:!0,isOnboarding:!0}),a.default.createElement(c.default,{"data-testid":"select-locale",className:(0,s.default)("onboarding-app-header__dropdown",{"onboarding-app-header__dropdown--welcome--banner":e===h.WelcomePageState.Banner,"onboarding-app-header__dropdown--welcome--login":e===h.WelcomePageState.Login}),options:E,selectedOption:o,onChange:async e=>t((0,d.updateCurrentLocale)(e))})))}_.propTypes={pageState:o.default.oneOf(Object.values(h.WelcomePageState))}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-app-header/onboarding-app-header.js"}],[6773,{"../../../../shared/constants/app":4975,"../../../../shared/constants/onboarding":4995,"../../../../shared/modules/browser-runtime.utils":5080,"../../../ducks/metamask/metamask":6139,"../../../helpers/constants/routes":6157,"../../../selectors":6959,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useSelector)(l.getCompletedOnboarding),t=(0,r.useSelector)(l.getIsInitialized),n=(0,r.useSelector)(d.getIsSocialLoginUserAuthenticated),a=(0,r.useSelector)(l.getSeedPhraseBackedUp),m=(0,r.useSelector)(d.getFirstTimeFlowType),f=(0,r.useSelector)(d.getIsSocialLoginFlow),g=(0,r.useSelector)(l.getIsUnlocked),h=(0,r.useSelector)(d.getIsParticipateInMetaMetricsSet);if(e)return o.default.createElement(i.Redirect,{to:{pathname:s.DEFAULT_ROUTE}});if(null!==a||g&&f)return o.default.createElement(i.Redirect,{to:{pathname:h?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS}});if(g)return o.default.createElement(i.Redirect,{to:{pathname:s.LOCK_ROUTE}});if(!t&&!n){let e;return e=(0,u.getBrowserName)()===c.PLATFORM_FIREFOX?o.default.createElement(i.Redirect,{to:{pathname:s.ONBOARDING_METAMETRICS}}):o.default.createElement(i.Redirect,{to:{pathname:s.ONBOARDING_WELCOME_ROUTE}}),e}if(!t&&n&&m===p.FirstTimeFlowType.socialCreate)return o.default.createElement(i.Redirect,{to:{pathname:s.ONBOARDING_CREATE_PASSWORD_ROUTE}});return o.default.createElement(i.Redirect,{to:{pathname:s.ONBOARDING_UNLOCK_ROUTE}})};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("react-router-dom"),s=e("../../../helpers/constants/routes"),l=e("../../../ducks/metamask/metamask"),c=e("../../../../shared/constants/app"),u=e("../../../../shared/modules/browser-runtime.utils"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding")}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow-switch/onboarding-flow-switch.js"}],[6774,{"../../../app/scripts/lib/util":220,"../../../shared/constants/app":4975,"../../../shared/constants/onboarding":4995,"../../../shared/lib/trace":5071,"../../../shared/modules/environment":5084,"../../components/app/toast-master/utils":5529,"../../components/component-library":5637,"../../components/ui/loading-screen":6043,"../../contexts/metametrics":6115,"../../ducks/metamask/metamask":6139,"../../helpers/constants/design-system":6152,"../../helpers/constants/routes":6157,"../../selectors":6959,"../../store/actions":6981,"../unlock-page":6943,"./account-exist/account-exist":6765,"./account-not-found/account-not-found":6766,"./create-password/create-password":6767,"./creation-successful/creation-successful":6768,"./download-app/download-app":6769,"./import-srp/import-srp":6770,"./metametrics/metametrics":6771,"./onboarding-app-header/onboarding-app-header":6772,"./onboarding-flow-switch/onboarding-flow-switch":6773,"./pin-extension/pin-extension":6775,"./privacy-settings/privacy-settings":6776,"./recovery-phrase/confirm-recovery-phrase":6778,"./recovery-phrase/reveal-recovery-phrase":6781,"./recovery-phrase/review-recovery-phrase":6782,"./secure-your-wallet/secure-your-wallet":6783,"./welcome/types":6787,"./welcome/welcome":6790,classnames:3351,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const[e,t]=(0,a.useState)(""),[n,j]=(0,a.useState)(!1),W=(0,r.useDispatch)(),{pathname:z,search:$}=(0,o.useLocation)(),V=(0,o.useHistory)(),G=(0,r.useSelector)(c.getCompletedOnboarding),q=(0,r.useSelector)(d.getFirstTimeFlowTypeRouteAfterUnlock),J=new URLSearchParams($).get("isFromReminder"),H=new URLSearchParams($).get("isFromSettingsSecurity"),K=(0,a.useContext)(p.MetaMetricsContext),{bufferedTrace:Y,onboardingParentContext:X}=K,Q=(0,r.useSelector)(c.getIsUnlocked),Z=(0,r.useSelector)(d.getShowTermsOfUse),ee=(0,r.useSelector)(d.getFirstTimeFlowType),te=(0,_.getIsSeedlessOnboardingFeatureEnabled)(),ne=(0,r.useSelector)(c.getIsPrimarySeedPhraseBackedUp),ae=(0,h.getEnvironmentType)()===y.ENVIRONMENT_TYPE_POPUP,[oe,re]=(0,a.useState)(B.WelcomePageState.Banner);(0,a.useEffect)(()=>{(0,m.submitRequestToBackgroundAndCatch)("setOnboardingDate")},[]),(0,a.useEffect)(()=>{G&&!J&&V.push(l.DEFAULT_ROUTE)},[V,G,J]),(0,a.useEffect)(()=>{const t=[l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,l.ONBOARDING_REVIEW_SRP_ROUTE,l.ONBOARDING_CONFIRM_SRP_ROUTE].some(e=>null==z?void 0:z.startsWith(e));!Q||G||e||t&&V.push(l.ONBOARDING_UNLOCK_ROUTE),ne&&t&&G&&V.replace(H?l.SECURITY_ROUTE:l.DEFAULT_ROUTE),z===l.ONBOARDING_WELCOME_ROUTE?re(Z?B.WelcomePageState.Banner:B.WelcomePageState.Login):re(null)},[Q,G,e,z,V,Z,ne,H]),(0,a.useEffect)(()=>{const e=null==Y?void 0:Y({name:b.TraceName.OnboardingJourneyOverall,op:b.TraceOperation.OnboardingUserJourney});X&&(X.current=e)},[X,Y]);const ie=async e=>{try{let n;j(!0),te&&ee===E.FirstTimeFlowType.socialCreate?n=await W((0,u.createNewVaultAndSyncWithSocial)(e)):ee===E.FirstTimeFlowType.create&&(n=await W((0,u.createNewVaultAndGetSeedPhrase)(e))),t(n)}finally{j(!1)}},se=async e=>{try{let n;j(!0),n=te&&ee===E.FirstTimeFlowType.socialImport?await W((0,u.restoreSocialBackupAndGetSeedPhrase)(e)):await W((0,u.unlockAndGetSeedPhrase)(e)),t(n),V.replace(q)}finally{j(!1)}},le=async(e,t)=>await W((0,u.createNewVaultAndRestore)(e,t));let ce=z===l.ONBOARDING_WELCOME_ROUTE||z===l.ONBOARDING_UNLOCK_ROUTE;return a.default.createElement(f.Box,{backgroundColor:g.BackgroundColor.backgroundDefault,width:g.BlockSize.Full,height:g.BlockSize.Full,display:g.Display.Flex,flexDirection:g.FlexDirection.Column,alignItems:z===l.ONBOARDING_WELCOME_ROUTE?g.AlignItems.flexStart:g.AlignItems.center,justifyContent:g.JustifyContent.flexStart,className:(0,i.default)("onboarding-flow",{"onboarding-flow--welcome-banner":oe===B.WelcomePageState.Banner,"onboarding-flow--welcome-login":oe===B.WelcomePageState.Login})},!ae&&a.default.createElement(R.default,{pageState:oe}),a.default.createElement(f.Box,{className:(0,i.default)("onboarding-flow__container",{"onboarding-flow__container--full":ce,"onboarding-flow__container--popup":ae}),width:g.BlockSize.Full,borderStyle:ce||ae?g.BorderStyle.none:g.BorderStyle.solid,borderRadius:g.BorderRadius.LG,marginTop:z===l.ONBOARDING_WELCOME_ROUTE||ae?0:3,marginInline:"auto",borderColor:g.BorderColor.borderMuted},a.default.createElement(o.Switch,null,a.default.createElement(o.Route,{path:l.ONBOARDING_ACCOUNT_EXIST,component:D.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_ACCOUNT_NOT_FOUND,component:P.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_CREATE_PASSWORD_ROUTE,render:t=>a.default.createElement(x.default,U({},t,{createNewAccount:ie,importWithRecoveryPhrase:le,secretRecoveryPhrase:e}))}),a.default.createElement(o.Route,{path:l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,component:C.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_REVEAL_SRP_ROUTE,render:()=>a.default.createElement(L.default,{setSecretRecoveryPhrase:t})}),a.default.createElement(o.Route,{path:l.ONBOARDING_REVIEW_SRP_ROUTE,render:()=>a.default.createElement(k.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:l.ONBOARDING_CONFIRM_SRP_ROUTE,render:()=>a.default.createElement(w.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,render:e=>a.default.createElement(N.default,U({},e,{submitSecretRecoveryPhrase:t}))}),a.default.createElement(o.Route,{path:l.ONBOARDING_UNLOCK_ROUTE,render:e=>a.default.createElement(s.default,U({},e,{onSubmit:se}))}),a.default.createElement(o.Route,{path:l.ONBOARDING_PRIVACY_SETTINGS_ROUTE,component:S.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_COMPLETION_ROUTE,component:O.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_WELCOME_ROUTE,render:e=>a.default.createElement(I.default,U({},e,{pageState:oe,setPageState:re}))}),a.default.createElement(o.Route,{path:l.ONBOARDING_PIN_EXTENSION_ROUTE,component:A.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_METAMETRICS,component:M.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_DOWNLOAD_APP_ROUTE,component:F.default}),a.default.createElement(o.Route,{exact:!0,path:"*",component:T.default}))),n&&a.default.createElement(v.default,null))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=j(e("classnames")),s=j(e("../unlock-page")),l=e("../../helpers/constants/routes"),c=e("../../ducks/metamask/metamask"),u=e("../../store/actions"),d=e("../../selectors"),p=e("../../contexts/metametrics"),m=e("../../components/app/toast-master/utils"),f=e("../../components/component-library"),g=e("../../helpers/constants/design-system"),h=e("../../../app/scripts/lib/util"),y=e("../../../shared/constants/app"),E=e("../../../shared/constants/onboarding"),_=e("../../../shared/modules/environment"),b=e("../../../shared/lib/trace"),v=j(e("../../components/ui/loading-screen")),T=j(e("./onboarding-flow-switch/onboarding-flow-switch")),x=j(e("./create-password/create-password")),k=j(e("./recovery-phrase/review-recovery-phrase")),C=j(e("./secure-your-wallet/secure-your-wallet")),w=j(e("./recovery-phrase/confirm-recovery-phrase")),S=j(e("./privacy-settings/privacy-settings")),O=j(e("./creation-successful/creation-successful")),I=j(e("./welcome/welcome")),N=j(e("./import-srp/import-srp")),A=j(e("./pin-extension/pin-extension")),M=j(e("./metametrics/metametrics")),R=j(e("./onboarding-app-header/onboarding-app-header")),B=e("./welcome/types"),D=j(e("./account-exist/account-exist")),P=j(e("./account-not-found/account-not-found")),L=j(e("./recovery-phrase/reveal-recovery-phrase")),F=j(e("./download-app/download-app"));function j(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},U.apply(null,arguments)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow.js"}],[6775,{"../../../../shared/constants/metametrics":4989,"../../../../shared/constants/onboarding":4995,"../../../../shared/modules/browser-runtime.utils":5080,"../../../components/component-library":5637,"../../../contexts/metametrics":6115,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"../../../store/actions":6981,classnames:3351,react:4439,"react-redux":4385,"react-responsive-carousel":4401,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,u.useI18nContext)(),t=(0,r.useHistory)(),[n,a]=(0,o.useState)(0),_=(0,i.useDispatch)(),b=(0,o.useContext)(f.MetaMetricsContext),v=(0,i.useSelector)(g.getFirstTimeFlowType),T=(0,i.useSelector)(g.getCurrentKeyring),x=(0,i.useSelector)(g.getExternalServicesOnboardingToggleState);return(0,o.useEffect)(()=>{T||t.replace(p.ONBOARDING_WELCOME_ROUTE)},[T,t]),o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.spaceBetween,height:d.BlockSize.Full,gap:6,className:"onboarding-pin-extension","data-testid":"onboarding-pin-extension"},o.default.createElement(m.Box,null,o.default.createElement(s.Carousel,{selectedItem:n,showThumbs:!1,showStatus:!1,dynamicHeight:!0,renderArrowPrev:(t,n,a)=>o.default.createElement(m.ButtonIcon,{iconName:m.IconName.Arrow2Left,size:m.ButtonIconSize.Lg,borderRadius:d.BorderRadius.full,borderWidth:2,borderColor:d.IconColor.iconDefault,className:(0,l.default)("onboarding-pin-extension__arrow",{"onboarding-pin-extension__arrow--disabled":!n}),disabled:!n,title:a,onClick:t,ariaLabel:e("prev")}),renderArrowNext:(t,n,a)=>o.default.createElement(m.ButtonIcon,{iconName:m.IconName.Arrow2Right,size:m.ButtonIconSize.Lg,borderRadius:d.BorderRadius.full,borderWidth:2,borderColor:d.IconColor.iconDefault,className:(0,l.default)("onboarding-pin-extension__arrow","onboarding-pin-extension__arrow--next",{"onboarding-pin-extension__arrow--disabled":!n}),disabled:!n,title:a,onClick:t,ariaLabel:e("next"),"data-testid":"pin-extension-next"}),onChange:e=>a(e)},o.default.createElement(m.Box,{display:d.Display.Flex,alignItems:d.AlignItems.flexStart,justifyContent:d.JustifyContent.center,className:"onboarding-pin-extension__image-container"},o.default.createElement("img",{src:"/images/onboarding-extension-pin.svg",alt:e("onboardingPinExtensionAltPin")})),o.default.createElement(m.Box,{display:d.Display.Flex,alignItems:d.AlignItems.flexStart,justifyContent:d.JustifyContent.center,className:"onboarding-pin-extension__image-container"},o.default.createElement("img",{src:"/images/onboarding-extension-launch.svg",alt:e("onboardingPinExtensionAltLaunch")}))),o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.flexStart,width:d.BlockSize.Full,marginTop:4,gap:4},o.default.createElement(m.Text,{variant:d.TextVariant.headingLg,fontWeight:d.FontWeight.Medium,as:"h2"},e("onboardingPinExtensionTitle")),0===n?o.default.createElement(m.Box,null,o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription"))):o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,gap:4},o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription2")),o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription3",[(0,E.getBrowserName)()]))))),o.default.createElement(m.Box,null,o.default.createElement(m.Button,{variant:m.ButtonVariant.Primary,size:m.ButtonSize.Lg,block:!0,"data-testid":"pin-extension-done",onClick:async()=>{await _((0,c.toggleExternalServices)(x)),await _((0,c.setCompletedOnboarding)()),b({category:h.MetaMetricsEventCategory.Onboarding,event:h.MetaMetricsEventName.ExtensionPinned,properties:{wallet_setup_type:v===y.FirstTimeFlowType.import?"import":"new",new_wallet:v===y.FirstTimeFlowType.create}}),t.push(p.DEFAULT_ROUTE)}},e("done"))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=e("react-responsive-carousel"),l=(a=e("classnames"))&&a.__esModule?a:{default:a},c=e("../../../store/actions"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/constants/routes"),m=e("../../../components/component-library"),f=e("../../../contexts/metametrics"),g=e("../../../selectors"),h=e("../../../../shared/constants/metametrics"),y=e("../../../../shared/constants/onboarding"),E=e("../../../../shared/modules/browser-runtime.utils");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/pin-extension/pin-extension.js"}],[6776,{"../../../../app/scripts/lib/util":220,"../../../../shared/constants/metametrics":4989,"../../../../shared/constants/network":4992,"../../../../shared/lib/ui-utils":5077,"../../../../shared/modules/selectors/networks":5100,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":5257,"../../../components/component-library":5637,"../../../components/ui/button":5986,"../../../contexts/metametrics":6115,"../../../ducks/app/app":6124,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../helpers/constants/zendesk-url":6164,"../../../hooks/identity/useBackupAndSync":6240,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"../../../selectors/identity/backup-and-sync":6958,"../../../store/actions":6981,"./setting":6777,"@metamask/profile-sync-controller/user-storage":1875,"@metamask/snaps-sdk":2131,classnames:3351,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,_.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,r.useHistory)(),[O,I]=(0,a.useState)(!1),[A,M]=(0,a.useState)(null),[R,B]=(0,a.useState)(!0),D=(0,o.useSelector)(e=>e.metamask),{use4ByteResolution:P,useTokenDetection:L,useCurrencyRateCheck:F,useMultiAccountBalanceChecker:j,ipfsGateway:W,useAddressBarEnsResolution:U,useTransactionSimulations:z}=D,$=(0,o.useSelector)(b.getUseExternalNameSources),[V,G]=(0,a.useState)(P),[q,J]=(0,a.useState)(L),[H,K]=(0,a.useState)(F),[Y,X]=(0,a.useState)(j),[Q,Z]=(0,a.useState)(z),[ee,te]=(0,a.useState)(W),[ne,ae]=(0,a.useState)(null),[oe,re]=(0,a.useState)(U),[ie,se]=(0,a.useState)($),le=(0,a.useContext)(h.MetaMetricsContext),ce=(0,o.useSelector)(v.getNetworkConfigurationsByChainId),ue=(0,o.useSelector)(b.getExternalServicesOnboardingToggleState),de=(0,o.useSelector)(C.selectIsBackupAndSyncEnabled),{setIsBackupAndSyncFeatureEnabled:pe,error:me}=(0,u.useBackupAndSync)();(0,a.useEffect)(()=>{pe(l.BACKUPANDSYNC_FEATURES.main,!!ue)},[ue,pe]);const fe=e=>{M(e),I(!0),setTimeout(()=>{B(!1)},N)},ge=[{id:1,title:e("general"),subtitle:e("generalDescription")},{id:2,title:e("assets"),subtitle:e("assetsDescription")},{id:3,title:e("security"),subtitle:e("securityDescription")}];return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"privacy-settings","data-testid":"privacy-settings"},a.default.createElement("div",{className:(0,i.default)("container",{"show-detail":O,"show-list":!O})},a.default.createElement("div",{className:"list-view"},a.default.createElement(g.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:6,display:y.Display.Flex,flexDirection:y.FlexDirection.Column,justifyContent:y.JustifyContent.flexStart},a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.center,flexDirection:y.FlexDirection.Row,justifyContent:y.JustifyContent.flexStart},a.default.createElement(f.default,{type:"inline",icon:a.default.createElement(g.Icon,{name:g.IconName.ArrowLeft,size:g.IconSize.Lg,color:y.IconColor.iconDefault}),"data-testid":"privacy-settings-back-button",onClick:()=>{if(t((0,T.setUse4ByteResolution)(V)),t((0,T.setUseTokenDetection)(q)),t((0,T.setUseMultiAccountBalanceChecker)(Y)),t((0,T.setUseCurrencyRateCheck)(H)),t((0,T.setUseAddressBarEnsResolution)(oe)),(0,T.setUseTransactionSimulations)(Q),(0,T.setUseExternalNameSources)(ie),ue||pe(l.BACKUPANDSYNC_FEATURES.main,!1),ee&&!ne){const{host:e}=new URL((0,c.addUrlProtocolPrefix)(ee));t((0,T.setIpfsGateway)(e))}le({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{settings_group:"onboarding_advanced_configuration",is_profile_syncing_enabled:de,is_basic_functionality_enabled:ue,turnon_token_detection:q}}),n.push(E.ONBOARDING_COMPLETION_ROUTE)}}),a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.center,justifyContent:y.JustifyContent.center,width:y.BlockSize.Full},a.default.createElement(g.Text,{variant:y.TextVariant.headingLg,as:"h2"},e("defaultSettingsTitle")))),a.default.createElement(g.Text,{variant:y.TextVariant.bodyLgMedium,marginTop:5},e("defaultSettingsSubTitle")),a.default.createElement("a",{href:"https://support.metamask.io/privacy-and-security/privacy-best-practices",target:"_blank",rel:"noreferrer",key:"learnMoreAboutPrivacy",style:{fontSize:"var(--font-size-5)"}},e("learnMoreAboutPrivacy"))),a.default.createElement(g.Box,null,a.default.createElement(g.Box,{as:"ul",marginTop:4,marginBottom:4,style:{listStyleType:"none"},className:"privacy-settings__categories-list"},ge.map(e=>a.default.createElement(g.Box,{marginTop:5,marginBottom:5,key:e.id,className:"categories-item",onClick:()=>fe(e)},a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.flexStart,justifyContent:y.JustifyContent.spaceBetween,"data-testid":`category-item-${e.title}`},a.default.createElement(g.Text,{variant:y.TextVariant.bodyLgMedium},e.title),a.default.createElement(f.default,{type:"inline",icon:a.default.createElement(g.Icon,{name:g.IconName.ArrowRight,color:y.IconColor.iconDefault}),onClick:()=>fe(e)})),a.default.createElement(g.Text,{className:"description",variant:y.TextVariant.bodyMd,color:y.TextColor.textAlternative},e.subtitle)))))),a.default.createElement("div",{className:(0,i.default)("detail-view",{hidden:!O&&R})},a.default.createElement(g.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:5,display:y.Display.Flex,flexDirection:y.FlexDirection.Row,justifyContent:y.JustifyContent.flexStart},a.default.createElement(f.default,{"data-testid":"category-back-button",type:"inline",icon:a.default.createElement(g.Icon,{name:g.IconName.ArrowLeft,size:g.IconSize.Lg,color:y.IconColor.iconDefault}),onClick:()=>{I(!1),setTimeout(()=>{B(!0)},N)}}),a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.center,justifyContent:y.JustifyContent.center,width:y.BlockSize.Full},a.default.createElement(g.Text,{variant:y.TextVariant.headingLg,as:"h2"},null==A?void 0:A.title))),a.default.createElement("div",{className:"privacy-settings__settings","data-testid":"privacy-settings-settings"},1===(null==A?void 0:A.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(S.Setting,{dataTestId:"basic-functionality-toggle",value:ue,setValue:e=>{e?(t((0,x.onboardingToggleBasicFunctionalityOn)()),le({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_profile_syncing_on:!1}})):t((0,x.openBasicFunctionalityModal)())},title:e("basicConfigurationLabel"),description:e("basicConfigurationDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))])}),a.default.createElement(w.BackupAndSyncToggle,null),me&&a.default.createElement(g.Box,{paddingBottom:4},a.default.createElement(g.Text,{as:"p",color:y.TextColor.errorDefault,variant:y.TextVariant.bodySm},e("notificationsSettingsBoxError"))),a.default.createElement(S.Setting,{title:e("onboardingAdvancedPrivacyNetworkTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyNetworkDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy/",key:"link",target:"_blank",rel:"noopener noreferrer"},e("privacyMsg")),a.default.createElement("a",{href:m.default.ADD_SOLANA_ACCOUNTS,key:"link",target:"_blank",rel:"noopener noreferrer"},e("onboardingAdvancedPrivacyNetworkDescriptionCallToAction"))]),a.default.createElement(g.Box,{paddingTop:4},a.default.createElement(g.Box,{display:y.Display.Flex,flexDirection:y.FlexDirection.Column,gap:5},Object.values(ce).filter(({chainId:e})=>!k.TEST_CHAINS.includes(e)).map(e=>{var n,o;return a.default.createElement(g.Box,{key:e.chainId,className:"privacy-settings__customizable-network",onClick:()=>{t((0,T.setEditedNetwork)({chainId:e.chainId})),t((0,T.toggleNetworkMenu)())},display:y.Display.Flex,alignItems:y.AlignItems.center,justifyContent:y.JustifyContent.spaceBetween},a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.center},a.default.createElement(g.AvatarNetwork,{src:k.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId]}),a.default.createElement(g.Box,{textAlign:y.TextAlign.Left,marginLeft:3},a.default.createElement(g.Text,{variant:y.TextVariant.bodySmMedium},e.name),a.default.createElement(g.Text,{variant:y.TextVariant.bodyXs,color:y.TextColor.textAlternative},null===(n=new URL(null==e||null===(o=e.rpcEndpoints[null==e?void 0:e.defaultRpcEndpointIndex])||void 0===o?void 0:o.url))||void 0===n?void 0:n.origin))),a.default.createElement(g.ButtonIcon,{iconName:g.IconName.ArrowRight,size:g.IconSize.Md}))}),a.default.createElement(g.ButtonLink,{onClick:()=>{t((0,T.toggleNetworkMenu)({isAddingNewNetwork:!0}))},justifyContent:y.JustifyContent.Left,variant:s.ButtonVariant.link},a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.center},a.default.createElement(g.Icon,{name:g.IconName.Add,marginRight:3}),a.default.createElement(g.Text,{color:y.TextColor.primaryDefault},e("addANetwork")))))))})):null,2===(null==A?void 0:A.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(S.Setting,{value:q,setValue:J,title:e("turnOnTokenDetection"),description:e("useTokenDetectionPrivacyDesc")}),a.default.createElement(S.Setting,{value:Q,setValue:Z,title:e("simulationsSettingSubHeader"),description:e("simulationsSettingDescription",[a.default.createElement("a",{key:"learn_more_link",href:p.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))])}),a.default.createElement(S.Setting,{title:e("onboardingAdvancedPrivacyIPFSTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyIPFSDescription"),a.default.createElement(g.Box,{paddingTop:2},a.default.createElement(g.TextField,{value:ee,style:{width:"100%"},inputProps:{"data-testid":"ipfs-input"},onChange:t=>{(t=>{te(t);try{const{host:e}=new URL((0,c.addUrlProtocolPrefix)(t));if(!e||"gateway.ipfs.io"===e)throw new Error;ae(null)}catch(t){ae(e("onboardingAdvancedPrivacyIPFSInvalid"))}})(t.target.value)}}),ee?a.default.createElement(g.Text,{variant:y.TextVariant.bodySm,color:ne?y.TextColor.errorDefault:y.TextColor.successDefault},ne||e("onboardingAdvancedPrivacyIPFSValid")):null))}),a.default.createElement(S.Setting,{value:H,setValue:K,title:e("currencyRateCheckToggle"),dataTestId:"currency-rate-check-toggle",description:e("currencyRateCheckToggleDescription",[a.default.createElement("a",{key:"coingecko_link",href:p.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),a.default.createElement("a",{key:"cryptocompare_link",href:p.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),a.default.createElement("a",{key:"privacy_policy_link",href:p.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))])}),a.default.createElement(S.Setting,{value:oe,setValue:re,title:e("ensDomainsSettingTitle"),description:a.default.createElement(a.default.Fragment,null,a.default.createElement(g.Text,{variant:y.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),a.default.createElement(g.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},a.default.createElement(g.Text,{variant:y.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart1")),a.default.createElement(g.Text,{variant:y.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart2"))),a.default.createElement(g.Text,{variant:y.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))}),a.default.createElement(S.Setting,{value:Y,setValue:X,title:e("useMultiAccountBalanceChecker"),description:e("useMultiAccountBalanceCheckerSettingDescription")})):null,3===(null==A?void 0:A.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(S.Setting,{value:V,setValue:G,title:e("use4ByteResolution"),description:e("toggleDecodeDescription")}),a.default.createElement(S.Setting,{value:ie,setValue:se,title:e("externalNameSourcesSetting"),description:e("externalNameSourcesSettingDescription")})):null)))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=O(e("classnames")),s=e("@metamask/snaps-sdk"),l=e("@metamask/profile-sync-controller/user-storage"),c=e("../../../../app/scripts/lib/util"),u=e("../../../hooks/identity/useBackupAndSync"),d=e("../../../../shared/constants/metametrics"),p=e("../../../../shared/lib/ui-utils"),m=O(e("../../../helpers/constants/zendesk-url")),f=O(e("../../../components/ui/button")),g=e("../../../components/component-library"),h=e("../../../contexts/metametrics"),y=e("../../../helpers/constants/design-system"),E=e("../../../helpers/constants/routes"),_=e("../../../hooks/useI18nContext"),b=e("../../../selectors"),v=e("../../../../shared/modules/selectors/networks"),T=e("../../../store/actions"),x=e("../../../ducks/app/app"),k=e("../../../../shared/constants/network"),C=e("../../../selectors/identity/backup-and-sync"),w=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle"),S=e("./setting");function O(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}const N=500}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/privacy-settings.js"}],[6777,{"../../../components/component-library":5637,"../../../components/ui/toggle-button":6092,"../../../helpers/constants/design-system":6152,"../../../hooks/useI18nContext":6278,"prop-types":4257,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Setting=void 0;var a=c(e("react")),o=c(e("prop-types")),r=e("../../../components/component-library"),i=c(e("../../../components/ui/toggle-button")),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}const u=({value:e,setValue:t,title:n,description:o,showToggle:c=!0,dataTestId:u,disabled:d=!1})=>{const p=(0,l.useI18nContext)();return a.default.createElement(r.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.flexStart,marginTop:3,marginBottom:3,className:"privacy-settings__setting__wrapper","data-testid":u},a.default.createElement("div",{className:"privacy-settings__setting"},a.default.createElement(r.Text,{variant:s.TextVariant.bodyMdMedium},n),a.default.createElement(r.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative,as:"div"},o)),c?a.default.createElement("div",{className:"privacy-settings__setting__toggle"},a.default.createElement(i.default,{value:e,onToggle:e=>t(!e),offLabel:p("off"),onLabel:p("on"),disabled:d})):null)};n.Setting=u,u.propTypes={value:o.default.bool,setValue:o.default.func,title:o.default.string,description:o.default.oneOfType([o.default.object,o.default.string]),showToggle:o.default.bool,dataTestId:o.default.string,disabled:o.default.bool}}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/setting.js"}],[6778,{"../../../../shared/constants/app":4975,"../../../../shared/constants/metametrics":4989,"../../../../shared/lib/trace":5071,"../../../../shared/modules/browser-runtime.utils":5080,"../../../components/component-library":5637,"../../../contexts/metametrics":6115,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors/selectors":6973,"../../../store/actions":6981,"./confirm-srp-modal":6779,"./recovery-phrase-chips":6780,"prop-types":4257,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=b(e("prop-types")),s=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../selectors/selectors"),f=e("../../../helpers/constants/routes"),g=e("../../../../shared/constants/app"),h=e("../../../../shared/lib/trace"),y=e("../../../../shared/modules/browser-runtime.utils"),E=b(e("./confirm-srp-modal")),_=b(e("./recovery-phrase-chips"));function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const T=e=>{const t=new Set,n=e.length;if(0===n)return[];for(;t.size<3;){const e=Math.floor(Math.random()*n);t.add(e)}return Array.from(t).map(t=>({index:t,word:e[t]}))};function x({secretRecoveryPhrase:e=""}){const t=(0,o.useHistory)(),n=(0,c.useI18nContext)(),i=(0,r.useDispatch)(),b=(0,a.useContext)(d.MetaMetricsContext),{bufferedEndTrace:v}=b,{search:x}=(0,o.useLocation)(),k=(0,r.useSelector)(m.getHDEntropyIndex),C=(0,a.useMemo)(()=>e?e.split(" "):[],[e]),w=new URLSearchParams(x),S=w.get("isFromReminder"),O=w.get("isFromSettingsSecurity"),I=new URLSearchParams;S&&I.set("isFromReminder",S),O&&I.set("isFromSettingsSecurity",O);const N=I.toString(),[A,M]=(0,a.useState)(!1),[R,B]=(0,a.useState)(!1),[D,P]=(0,a.useState)(T(C)),[L,F]=(0,a.useState)("");(0,a.useEffect)(()=>{e||t.replace(`${f.ONBOARDING_REVEAL_SRP_ROUTE}/${N?`?${N}`:""}`)},[t,e,N]);const j=(0,a.useCallback)(()=>{const e=T(C);P(e)},[C]),W=(0,a.useCallback)(e=>{if(e.some(e=>!e.word))F("");else{const t=[...C];e.forEach(e=>{t[e.index]=e.word}),F(t.join(" "))}},[C]),U=(0,a.useCallback)(()=>{B(L===e),M(!0)},[L,e]),z=(0,a.useCallback)(()=>{i((0,u.setSeedPhraseBackedUp)(!0)),b({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:k}}),null==v||v({name:h.TraceName.OnboardingNewSrpCreateWallet}),null==v||v({name:h.TraceName.OnboardingJourneyOverall});const e=(0,y.getBrowserName)()===g.PLATFORM_FIREFOX||S?f.ONBOARDING_COMPLETION_ROUTE:f.ONBOARDING_METAMETRICS;t.replace(`${e}${N?`?${N}`:""}`)},[i,k,t,b,S,N,v]);return a.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:6,className:"recovery-phrase recovery-phrase__confirm","data-testid":"confirm-recovery-phrase"},a.default.createElement(s.Box,null,A&&a.default.createElement(E.default,{isError:!R,onContinue:z,onClose:()=>{j(),M(!1)}}),a.default.createElement(s.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},a.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"confirm-recovery-phrase-back-button",onClick:()=>t.goBack(),ariaLabel:n("back")})),a.default.createElement(s.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},!S&&a.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},n("stepOf",[3,3])),a.default.createElement(s.Text,{variant:l.TextVariant.headingLg,as:"h2"},n("confirmRecoveryPhraseTitle"))),a.default.createElement(s.Box,{marginBottom:6},a.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},n("confirmRecoveryPhraseDetails"))),C.length>0&&a.default.createElement(_.default,{secretRecoveryPhrase:C,quizWords:D,confirmPhase:!0,setInputValue:W})),a.default.createElement(s.Box,{width:l.BlockSize.Full},a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,width:l.BlockSize.Full,"data-testid":"recovery-phrase-confirm",size:s.ButtonSize.Lg,className:"recovery-phrase__footer__confirm--button",onClick:()=>U(),disabled:""===L.trim()},n("continue"))))}x.propTypes={secretRecoveryPhrase:i.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-recovery-phrase.js"}],[6779,{"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../hooks/useI18nContext":6278,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onContinue:e,onClose:t,isError:n}){const a=(0,i.useI18nContext)();return o.default.createElement(s.Modal,{isOpen:!0,onClose:()=>null,className:"confirm-srp-modal","data-testid":"confirm-srp-modal"},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,{alignItems:r.AlignItems.center},o.default.createElement(s.ModalHeader,null,o.default.createElement(s.Box,{textAlign:r.TextAlign.Center},o.default.createElement(s.Icon,{name:n?s.IconName.CircleX:s.IconName.Confirmation,size:s.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:n?r.IconColor.errorDefault:r.IconColor.successDefault}),o.default.createElement(s.Text,{variant:r.TextVariant.headingMd,textAlign:r.TextAlign.Center,marginTop:2,as:"h2"},a(n?"confirmSrpErrorTitle":"confirmSrpSuccessTitle")))),o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(s.Text,{variant:r.TextVariant.bodyMd},a(n?"confirmSrpErrorDescription":"confirmSrpSuccessDescription")),o.default.createElement(s.Box,{marginTop:6},o.default.createElement(s.Button,{"data-testid":"confirm-srp-modal-button",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,onClick:()=>{n?t():e()},block:!0},a(n?"tryAgain":"gotIt"))))))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),s=e("../../../components/component-library")}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-srp-modal.tsx"}],[6780,{"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../hooks/useI18nContext":6278,classnames:3351,"prop-types":4257,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p,n.fakeSeedPhraseWords=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=c(e("classnames")),r=c(e("prop-types")),i=e("../../../components/component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=n.fakeSeedPhraseWords=["candy","maple","cake","sugar","pudding","cream","honey","rich","smooth","crumble","sweet","treat"];function p({secretRecoveryPhrase:e,phraseRevealed:t=!0,revealPhrase:n,confirmPhase:r,quizWords:c=[],setInputValue:u}){const p=(0,s.useI18nContext)(),m=(0,a.useMemo)(()=>c.map(e=>e.index),[c]),[f,g]=(0,a.useState)(m.map(e=>({index:e,word:"",actualIndexInSrp:-1}))),h=e=>{const t=e.reduce((e,t)=>(""===t.word&&e.push(t.index),e),[]);return t.length?Math.min(...t):-1},[y,E]=(0,a.useState)(h(f)),_=(0,a.useCallback)((e,t)=>{const n=[...f],a=n.findIndex(e=>e.index===y);n[a]={index:y,word:e,actualIndexInSrp:t},g(n),E(h(n))},[f,y]),b=(0,a.useCallback)(e=>{const t=[...f],n=t.findIndex(t=>t.word===e);t[n]={...t[n],word:"",actualIndexInSrp:-1},g(t),E(t[n].index)},[f]);(0,a.useEffect)(()=>{null==u||u(f)},[f,u]),(0,a.useEffect)(()=>{if(c.length){const e=c.map(e=>({index:e.index,word:"",actualIndexInSrp:-1}));g(e),E(h(e))}},[c]);const v=t?e:e.map((e,t)=>d[t%d.length]);return a.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},a.default.createElement(i.Box,{padding:4,borderRadius:l.BorderRadius.LG,display:l.Display.Grid,width:l.BlockSize.Full,backgroundColor:l.BackgroundColor.backgroundSection,className:"recovery-phrase__secret"},a.default.createElement(i.Box,{key:"recovery-phrase-chips",display:l.Display.Grid,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,gap:2,"data-testid":"recovery-phrase-chips","data-recovery-phrase":e.join(":"),"data-quiz-words":JSON.stringify(c),className:(0,o.default)("recovery-phrase__chips",{"recovery-phrase__chips--hidden":!t})},v.map((e,t)=>{var n;const o=m.includes(t),s=o?(null===(n=f.find(e=>e.index===t))||void 0===n?void 0:n.word)||"":e,c=t===y;return o||!r?a.default.createElement(i.Box,{as:o?"button":"div","data-testid":`recovery-phrase-chip-${t}`,className:"recovery-phrase__text",display:l.Display.Flex,alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundDefault,borderColor:c?l.BorderColor.primaryDefault:l.BorderColor.borderMuted,borderWidth:c?2:1,borderRadius:l.BorderRadius.LG,paddingInline:2,paddingTop:1,paddingBottom:1,gap:1,onClick:()=>{o&&(""===s?E(t):b(s))}},a.default.createElement(i.Text,{color:l.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),a.default.createElement(i.Text,null,o?s:e)):a.default.createElement(i.TextField,{testId:`recovery-phrase-chip-${t}`,key:t,value:s,startAccessory:a.default.createElement(i.Text,{color:l.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),type:"password",disabled:!0,readOnly:!0})})),!t&&a.default.createElement(i.Box,{key:"recovery-phrase__secret-blocker-container",width:l.BlockSize.Full,height:l.BlockSize.Full,className:"recovery-phrase__secret-blocker-container"},a.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,borderRadius:l.BorderRadius.SM,width:l.BlockSize.Full,height:l.BlockSize.Full,paddingTop:2,paddingBottom:9,paddingInline:0,className:"recovery-phrase__secret-blocker"}),a.default.createElement(i.Box,{as:"button",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,backgroundColor:l.BackgroundColor.transparent,height:l.BlockSize.Full,width:l.BlockSize.Full,gap:2,className:"recovery-phrase__secret-blocker-text",onClick:()=>{null==n||n()},"data-testid":"recovery-phrase-reveal"},a.default.createElement(i.Icon,{name:i.IconName.EyeSlash,color:l.IconColor.iconDefault,size:i.IconSize.Md}),a.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,fontWeight:l.FontWeight.Medium},p("tapToReveal")),a.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textDefault},p("tapToRevealNote"))))),3===c.length&&a.default.createElement(i.Box,{display:l.Display.Flex,gap:2,width:l.BlockSize.Full},c.map(t=>{const n=t.index;return f.some(e=>e.actualIndexInSrp===n)?a.default.createElement(i.ButtonBase,{"data-testid":`recovery-phrase-quiz-answered-${n}`,key:t.index,color:l.TextColor.textAlternative,borderRadius:l.BorderRadius.LG,block:!0,onClick:()=>{b(t.word)}},e[n]):a.default.createElement(i.Button,{"data-testid":`recovery-phrase-quiz-unanswered-${n}`,key:t.index,variant:i.ButtonVariant.Secondary,borderRadius:l.BorderRadius.LG,block:!0,onClick:()=>{_(t.word,n)}},e[n])})))}p.propTypes={secretRecoveryPhrase:r.default.array,phraseRevealed:r.default.bool,revealPhrase:r.default.func,confirmPhase:r.default.bool,quizWords:r.default.array,setInputValue:r.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/recovery-phrase-chips.js"}],[6781,{"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../store/actions":6981,react:4439,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({setSecretRecoveryPhrase:e}){const t=(0,o.useHistory)(),n=(0,r.useI18nContext)(),{search:u}=(0,o.useLocation)(),d=new URLSearchParams(u),p=d.get("isFromReminder"),m=d.get("isFromSettingsSecurity"),f=new URLSearchParams;p&&f.set("isFromReminder",p);m&&f.set("isFromSettingsSecurity",m);const g=f.toString(),[h,y]=(0,a.useState)(""),[E,_]=(0,a.useState)(!1),b=(0,a.useCallback)(async n=>{try{const a=await(0,l.getSeedPhrase)(n);e(a),t.replace(`${c.ONBOARDING_REVIEW_SRP_ROUTE}/${g?`?${g}`:""}`)}catch(e){_(!0)}},[e,t,g]),v=(0,a.useCallback)(()=>{m?t.replace(c.REVEAL_SRP_LIST_ROUTE):t.replace(c.DEFAULT_ROUTE)},[t,m]);return a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,height:s.BlockSize.Full,gap:6,className:"reveal-recovery-phrase","data-testid":"reveal-recovery-phrase"},a.default.createElement(i.Box,{width:s.BlockSize.Full},a.default.createElement(i.Box,{className:"recovery-phrase__header",display:s.Display.Grid,alignItems:s.AlignItems.center,gap:3,marginBottom:4,width:s.BlockSize.Full},a.default.createElement(i.ButtonIcon,{iconName:i.IconName.ArrowLeft,color:s.IconColor.iconDefault,size:i.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-back-button",onClick:v,ariaLabel:n("back")}),a.default.createElement(i.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center},n("revealSecretRecoveryPhrase")),a.default.createElement(i.ButtonIcon,{iconName:i.IconName.Close,color:s.IconColor.iconDefault,size:i.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-close-button",onClick:v,ariaLabel:n("close")})),a.default.createElement(i.Box,{width:s.BlockSize.Full,as:"form",onSubmit:e=>{e.preventDefault(),b(h)}},a.default.createElement(i.FormTextField,{size:i.FormTextFieldSize.Lg,id:"account-details-authenticate",label:n("enterYourPasswordContinue"),onChange:e=>{y(e.target.value),_(!1)},value:h,error:E,helpText:E?n("unlockPageIncorrectPassword"):null,type:i.TextFieldType.Password,labelProps:{fontWeight:s.FontWeight.Medium},autoFocus:!0}))),a.default.createElement(i.Box,{width:s.BlockSize.Full},a.default.createElement(i.Button,{width:s.BlockSize.Full,variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,"data-testid":"reveal-recovery-phrase-continue",className:"reveal-recovery-phrase__footer--button",onClick:()=>b(h)},n("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("../../../hooks/useI18nContext"),i=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../store/actions"),c=e("../../../helpers/constants/routes");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/reveal-recovery-phrase.tsx"}],[6782,{"../../../../shared/constants/metametrics":4989,"../../../components/app/srp-details-modal":5509,"../../../components/component-library":5637,"../../../contexts/metametrics":6115,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors/selectors":6973,"./recovery-phrase-chips":6780,"prop-types":4257,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=h(e("prop-types")),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/metametrics"),p=e("../../../contexts/metametrics"),m=e("../../../selectors/selectors"),f=h(e("../../../components/app/srp-details-modal")),g=h(e("./recovery-phrase-chips"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function E({secretRecoveryPhrase:e}){const t=(0,o.useHistory)(),n=(0,s.useI18nContext)(),{search:i}=(0,o.useLocation)(),h=(0,r.useSelector)(m.getHDEntropyIndex),[y,E]=(0,a.useState)(!1),[_,b]=(0,a.useState)(!1),v=new URLSearchParams(i),T=v.get("isFromReminder"),x=v.get("isFromSettingsSecurity"),k=new URLSearchParams;T&&k.set("isFromReminder",T),x&&k.set("isFromSettingsSecurity",x);const C=k.toString();(0,a.useEffect)(()=>{e||t.replace(`${l.ONBOARDING_REVEAL_SRP_ROUTE}/${C?`?${C}`:""}`)},[t,e,C]);const w=(0,a.useContext)(p.MetaMetricsContext),S=(0,a.useCallback)(()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecurityPhraseWrittenDown,properties:{hd_entropy_index:h}}),t.push(`${l.ONBOARDING_CONFIRM_SRP_ROUTE}${C?`?${C}`:""}`)},[h,t,w,C]),O=(0,a.useCallback)(()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"review_recovery_phrase"}}),b(!0)},[w]);return a.default.createElement(c.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.Center,height:u.BlockSize.Full,gap:6,className:"recovery-phrase","data-testid":"recovery-phrase"},a.default.createElement(c.Box,null,_&&a.default.createElement(f.default,{onClose:()=>b(!1)}),a.default.createElement(c.Box,{justifyContent:u.JustifyContent.flexStart,marginBottom:4,width:u.BlockSize.Full},a.default.createElement(c.ButtonIcon,{iconName:c.IconName.ArrowLeft,color:u.IconColor.iconDefault,size:c.ButtonIconSize.Md,"data-testid":"review-srp-back-button",onClick:()=>t.goBack(),ariaLabel:n("back")})),a.default.createElement(c.Box,{justifyContent:u.JustifyContent.flexStart,marginBottom:4,width:u.BlockSize.Full},!T&&a.default.createElement(c.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textAlternative},n("stepOf",[2,3])),a.default.createElement(c.Text,{variant:u.TextVariant.headingLg,as:"h2"},n("seedPhraseReviewTitle"))),a.default.createElement(c.Box,{marginBottom:6},a.default.createElement(c.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textAlternative,marginBottom:6},n("seedPhraseReviewDetails",[a.default.createElement(c.ButtonLink,{key:"seedPhraseReviewDetails",size:c.ButtonLinkSize.Inherit,onClick:O},n("secretRecoveryPhrase")),a.default.createElement(c.Text,{key:"seedPhraseReviewDetails2",fontWeight:u.FontWeight.Medium,color:u.TextColor.textAlternative},n("seedPhraseReviewDetails2"))]))),a.default.createElement(g.default,{secretRecoveryPhrase:e.split(" "),phraseRevealed:y,revealPhrase:()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecurityPhraseRevealed,properties:{hd_entropy_index:h}}),E(!0)}})),a.default.createElement(c.Box,{width:u.BlockSize.Full},a.default.createElement(c.Button,{width:u.BlockSize.Full,variant:c.ButtonVariant.Primary,size:c.ButtonSize.Lg,"data-testid":"recovery-phrase-continue",className:"recovery-phrase__footer--button",disabled:!y,onClick:S},n("continue"))))}E.propTypes={secretRecoveryPhrase:i.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/review-recovery-phrase.js"}],[6783,{"../../../../shared/constants/metametrics":4989,"../../../components/app/srp-details-modal":5509,"../../../components/component-library":5637,"../../../contexts/metametrics":6115,"../../../ducks/metamask/metamask":6139,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"./skip-srp-backup-popover":6784,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useHistory)(),t=(0,s.useI18nContext)(),{search:n}=(0,o.useLocation)(),h=(0,r.useSelector)(p.getHDEntropyIndex),[y,E]=(0,a.useState)(!1),[_,b]=(0,a.useState)(!1),v=new URLSearchParams(n).get("isFromReminder")?"/?isFromReminder=true":"",T=(0,r.useSelector)(p.getIsSocialLoginFlow),x=(0,r.useSelector)(f.getCompletedOnboarding),k=(0,a.useContext)(l.MetaMetricsContext),C=(0,a.useCallback)(()=>{k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"secure_your_wallet"}}),b(!0)},[k]),w=()=>{k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecurityStarted,properties:{hd_entropy_index:h??0}}),e.push(`${c.ONBOARDING_REVIEW_SRP_ROUTE}/${v}`)};return(0,a.useEffect)(()=>{!x&&T&&e.replace(c.ONBOARDING_WELCOME_ROUTE)},[x,e,T]),a.default.createElement(d.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.flexStart,flexDirection:i.FlexDirection.Column,gap:4,height:i.BlockSize.Full,className:"secure-your-wallet","data-testid":"secure-your-wallet"},a.default.createElement(d.Box,null,y&&a.default.createElement(g.default,{onClose:()=>E(!1),secureYourWallet:w}),_&&a.default.createElement(m.default,{onClose:()=>b(!1)}),a.default.createElement(d.Box,{justifyContent:i.JustifyContent.flexStart,marginBottom:4,width:i.BlockSize.Full},a.default.createElement(d.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textAlternative},t("stepOf",[2,3])),a.default.createElement(d.Text,{variant:i.TextVariant.headingLg,as:"h2"},t("seedPhraseIntroTitle"))),a.default.createElement(d.Box,{className:"secure-your-wallet__srp-design-container",marginBottom:6,width:i.BlockSize.Full,textAlign:i.TextAlign.Center},a.default.createElement("img",{className:"secure-your-wallet__srp-design-image",src:"./images/srp-lock-design.png",alt:t("srpDesignImageAlt")})),a.default.createElement(d.Box,null,a.default.createElement(d.Text,{color:i.TextColor.textAlternative,marginBottom:6,as:"div"},t("secureWalletWalletSaveSrp",[[a.default.createElement(d.ButtonLink,{key:"secureWalletWalletSaveSrp",size:d.ButtonLinkSize.Inherit,onClick:C},t("secretRecoveryPhrase"))]])),a.default.createElement(d.Text,{color:i.TextColor.textAlternative},t("secureWalletWalletRecover")))),a.default.createElement(d.Box,{width:i.BlockSize.Full,display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4},a.default.createElement(d.Button,{"data-testid":"secure-wallet-recommended",size:d.ButtonSize.Lg,block:!0,onClick:w},t("secureWalletGetStartedButton")),a.default.createElement(d.Button,{"data-testid":"secure-wallet-later",variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,block:!0,onClick:()=>{k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipInitiated,properties:{hd_entropy_index:h??0}}),E(!0)}},t("secureWalletRemindLaterButton"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../contexts/metametrics"),c=e("../../../helpers/constants/routes"),u=e("../../../../shared/constants/metametrics"),d=e("../../../components/component-library"),p=e("../../../selectors"),m=h(e("../../../components/app/srp-details-modal")),f=e("../../../ducks/metamask/metamask"),g=h(e("./skip-srp-backup-popover"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/secure-your-wallet/secure-your-wallet.js"}],[6784,{"../../../../shared/constants/app":4975,"../../../../shared/constants/metametrics":4989,"../../../../shared/constants/onboarding":4995,"../../../../shared/lib/trace":5071,"../../../../shared/modules/browser-runtime.utils":5080,"../../../components/component-library":5637,"../../../contexts/metametrics":6115,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"../../../selectors/selectors":6973,"../../../store/actions":6981,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,secureYourWallet:t}){const[n,_]=(0,r.useState)(!1),b=(0,i.useI18nContext)(),v=(0,o.useDispatch)(),T=(0,o.useSelector)(d.getHDEntropyIndex),x=(0,o.useSelector)(g.getFirstTimeFlowType),k=(0,r.useContext)(c.MetaMetricsContext),{bufferedEndTrace:C}=k,w=(0,a.useHistory)(),S=(0,r.useCallback)(async()=>{await v((0,p.setSeedPhraseBackedUp)(!1)),k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipConfirmed,properties:{hd_entropy_index:T}}),null==C||C({name:E.TraceName.OnboardingNewSrpCreateWallet}),null==C||C({name:E.TraceName.OnboardingJourneyOverall}),(0,y.getBrowserName)()===f.PLATFORM_FIREFOX||x===h.FirstTimeFlowType.restore?w.push(m.ONBOARDING_COMPLETION_ROUTE):w.push(m.ONBOARDING_METAMETRICS)},[v,x,T,w,k,C]);return r.default.createElement(l.Modal,{isOpen:!0,onClose:e,className:"skip-srp-backup-modal","data-testid":"skip-srp-backup-modal"},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,{alignItems:s.AlignItems.center},r.default.createElement(l.ModalHeader,{onClose:e},r.default.createElement(l.Box,{textAlign:s.TextAlign.Center},r.default.createElement(l.Icon,{name:l.IconName.Danger,size:l.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:s.IconColor.errorDefault}),r.default.createElement(l.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center,marginTop:4,as:"h3"},b("skipAccountSecurity")))),r.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},r.default.createElement(l.Checkbox,{id:"skip-srp-backup__checkbox",className:"skip-srp-backup__checkbox","data-testid":"skip-srp-backup-checkbox",isChecked:n,alignItems:s.AlignItems.flexStart,onChange:()=>{_(!n)},label:b("skipAccountSecurityDetails")}),r.default.createElement(l.Box,{display:s.Display.Flex,marginTop:6,gap:4},r.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,size:l.ButtonSize.Lg,onClick:()=>{k({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipCanceled,properties:{hd_entropy_index:T}}),t()},block:!0},b("skipAccountSecuritySecureNow")),r.default.createElement(l.Button,{"data-testid":"skip-srp-backup-button",size:l.ButtonSize.Lg,disabled:!n,onClick:S,block:!0,danger:!0},b("skipAccountSecuritySkip"))))))};var a=e("react-router-dom"),o=e("react-redux"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../../selectors/selectors"),p=e("../../../store/actions"),m=e("../../../helpers/constants/routes"),f=e("../../../../shared/constants/app"),g=e("../../../selectors"),h=e("../../../../shared/constants/onboarding"),y=e("../../../../shared/modules/browser-runtime.utils"),E=e("../../../../shared/lib/trace");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/secure-your-wallet/skip-srp-backup-popover.tsx"}],[6785,{"../../../../shared/constants/metametrics":4989,"../../../components/component-library":5637,"../../../contexts/metametrics":6115,"../../../helpers/constants/common":6150,"../../../helpers/constants/design-system":6152,"../../../hooks/useI18nContext":6278,"./types":6787,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,loginError:t}){const n=(0,r.useI18nContext)(),d=(0,a.useContext)(c.MetaMetricsContext);return a.default.createElement(i.Modal,{isOpen:!0,onClose:e,"data-testid":"login-error-modal"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,{alignItems:o.AlignItems.center},a.default.createElement(i.ModalHeader,{onClose:e},a.default.createElement(i.Box,{textAlign:o.TextAlign.Center},a.default.createElement(i.Icon,{name:i.IconName.Danger,size:i.IconSize.Xl,color:o.IconColor.warningDefault}),a.default.createElement(i.Text,{variant:o.TextVariant.headingMd,textAlign:o.TextAlign.Center,marginTop:4},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectTitle"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredTitle"):n("loginErrorGenericTitle")))),a.default.createElement(i.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(i.Text,{variant:o.TextVariant.bodyMd},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectDescription"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredDescription"):n("loginErrorGenericDescription",[a.default.createElement(i.ButtonLink,{key:"loginErrorGenericDescription",size:i.ButtonLinkSize.Inherit,externalLink:!0,href:l.SUPPORT_LINK,onClick:()=>{d({category:s.MetaMetricsEventCategory.Onboarding,event:s.MetaMetricsEventName.SupportLinkClicked,properties:{url:l.SUPPORT_LINK,location:"Welcome page"}},{contextPropsIntoEventProperties:[s.MetaMetricsContextProp.PageTitle]})}},n("loginErrorGenericSupport"))])),a.default.createElement(i.Box,{marginTop:6},a.default.createElement(i.Button,{"data-testid":"login-error-modal-button",variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,onClick:e,block:!0},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectButton"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredButton"):n("loginErrorGenericButton"))))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../helpers/constants/design-system"),r=e("../../../hooks/useI18nContext"),i=e("../../../components/component-library"),s=e("../../../../shared/constants/metametrics"),l=e("../../../helpers/constants/common"),c=e("../../../contexts/metametrics"),u=e("./types");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-error-modal.tsx"}],[6786,{"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../hooks/useI18nContext":6278,"./types":6787,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialButton=void 0,n.default=function({onClose:e,loginOption:t,handleLogin:n}){const a=(0,s.useI18nContext)();return o.default.createElement(r.Modal,{isOpen:!0,onClose:e,className:"options-modal",isClosedOnOutsideClick:!1},o.default.createElement(r.ModalOverlay,null),o.default.createElement(r.ModalContent,{size:r.ModalContentSize.Sm,alignItems:i.AlignItems.center},o.default.createElement(r.ModalHeader,{onClose:e},a("onboardingOptionTitle")),o.default.createElement(r.Box,{paddingInline:4},o.default.createElement(u,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-google-button":"onboarding-create-with-google-button",icon:o.default.createElement("img",{src:"images/icons/google.svg",className:"options-modal__social-icon",alt:a("onboardingOptionIcon",["Google"])}),label:t===l.LOGIN_OPTION.EXISTING?a("onboardingSignInWith",["Google"]):a("onboardingContinueWith",["Google"]),marginBottom:4,onClick:()=>n(l.LOGIN_TYPE.GOOGLE)}),o.default.createElement(u,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-apple-button":"onboarding-create-with-apple-button",icon:o.default.createElement(r.Icon,{name:r.IconName.Apple,color:i.IconColor.iconDefault,size:r.IconSize.Lg}),label:t===l.LOGIN_OPTION.EXISTING?a("onboardingSignInWith",["Apple"]):a("onboardingContinueWith",["Apple"]),marginBottom:2,onClick:()=>n(l.LOGIN_TYPE.APPLE)}),o.default.createElement(r.Box,{alignItems:i.AlignItems.center,marginBottom:4,className:"options-modal__or"},o.default.createElement(r.Text,{width:i.BlockSize.Min,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium,color:i.TextColor.textMuted,backgroundColor:i.BackgroundColor.backgroundDefault,paddingInline:2,marginInline:"auto",textTransform:i.TextTransform.Uppercase,as:"div",style:{position:"relative",zIndex:1}},a("or"))),o.default.createElement(r.Button,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-srp-button":"onboarding-create-with-srp-button",variant:r.ButtonVariant.Secondary,width:i.BlockSize.Full,size:r.ButtonSize.Lg,onClick:()=>n(l.LOGIN_TYPE.SRP)},t===l.LOGIN_OPTION.EXISTING?a("onboardingSrpImport"):a("onboardingSrpCreate")))))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("./types");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}const u=n.SocialButton=o.default.forwardRef(({icon:e,label:t,...n},a)=>o.default.createElement(r.Text,c({ref:a,as:"button",className:"options-modal__plain-button",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,borderRadius:i.BorderRadius.XL,borderColor:i.BorderColor.borderMuted,backgroundColor:i.BackgroundColor.transparent,gap:2},n),e,o.default.createElement(r.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium},t)))}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-options.tsx"}],[6787,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomePageState=n.LOGIN_TYPE=n.LOGIN_OPTION=n.LOGIN_ERROR=void 0;n.LOGIN_TYPE={GOOGLE:"google",APPLE:"apple",SRP:"srp"},n.LOGIN_OPTION={NEW:"new",EXISTING:"existing"},n.WelcomePageState={Banner:"Banner",Login:"Login"},n.LOGIN_ERROR={UNABLE_TO_CONNECT:"unable_to_connect",GENERIC:"generic",SESSION_EXPIRED:"session_expired"}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/types.ts"}],[6788,{"../../../components/app/terms-of-use-popup":5525,"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../hooks/useI18nContext":6278,"../../../store/actions":6981,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onAccept:e}){const t=(0,c.useI18nContext)(),n=(0,r.useDispatch)(),[a,d]=(0,o.useState)(!1),p=(0,o.useCallback)(()=>{d(!1),n((0,u.setTermsOfUseLastAgreed)((new Date).getTime())),e()},[n,e]);return o.default.createElement(i.Box,{className:"welcome-banner",paddingInline:6},o.default.createElement(i.Box,{className:"welcome-banner__wrapper",width:s.BlockSize.Full},o.default.createElement(i.Text,{"data-testid":"onboarding-welcome-banner-title",className:"welcome-banner__title",as:"h2",textTransform:s.TextTransform.Uppercase,marginBottom:8},t("welcomeTitle")),o.default.createElement(i.Text,{variant:s.TextVariant.bodyLgMedium,className:"welcome-banner__description",marginBottom:6},t("welcomeDescription")),o.default.createElement(i.Button,{"data-testid":"onboarding-get-started-button",className:"welcome-banner__button",size:i.ButtonSize.Lg,onClick:()=>d(!0),endIconName:i.IconName.Arrow2Right,textTransform:s.TextTransform.Uppercase,borderRadius:s.BorderRadius.pill},t("welcomeGetStarted"))),a&&o.default.createElement(l.default,{onAccept:p,onClose:()=>d(!1)}))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),l=(a=e("../../../components/app/terms-of-use-popup"))&&a.__esModule?a:{default:a},c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-banner.tsx"}],[6789,{"../../../../shared/constants/preferences":4997,"../../../../shared/modules/environment":5084,"../../../components/component-library":5637,"../../../components/ui/mascot":6049,"../../../helpers/constants/design-system":6152,"../../../helpers/utils/build-types":6177,"../../../hooks/useI18nContext":6278,"./login-options":6786,"./types":6787,classnames:3351,events:3630,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onLogin:e}){const t=(0,c.useI18nContext)(),n=(0,o.useRef)(new a.default),[g,h]=(0,o.useState)(!1),[y,E]=(0,o.useState)(null),_=(0,d.getIsSeedlessOnboardingFeatureEnabled)(),b=(0,o.useCallback)(async t=>{y&&(h(!1),await e(t,y))},[y,e]);return o.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,gap:4,marginInline:"auto",marginTop:2,padding:6,className:"welcome-login","data-testid":"get-started"},o.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,className:"welcome-login__content"},o.default.createElement(s.Box,{className:(0,r.default)("welcome-login__mascot",{"welcome-login__mascot--image":(0,u.isFlask)()||(0,u.isBeta)()})},(0,u.isFlask)()||(0,u.isBeta)()?o.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"178",height:"178"}):o.default.createElement(i.default,{animationEventEmitter:n.current,width:"268",height:"268"})),o.default.createElement(s.Text,{marginInline:5,textAlign:l.TextAlign.Center,as:"h2",className:"welcome-login__title","data-testid":"onboarding-welcome"},t("welcomeToMetaMask"),"!")),o.default.createElement(s.Box,{"data-theme":p.ThemeType.light,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},o.default.createElement(s.Button,{"data-testid":"onboarding-create-wallet",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,block:!0,onClick:async()=>{h(!0),E(f.LOGIN_OPTION.NEW),_||await e(f.LOGIN_TYPE.SRP,f.LOGIN_OPTION.NEW)}},t("onboardingCreateWallet")),o.default.createElement(s.Button,{"data-testid":"onboarding-import-wallet",variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,block:!0,onClick:async()=>{h(!0),E(f.LOGIN_OPTION.EXISTING),_||await e(f.LOGIN_TYPE.SRP,f.LOGIN_OPTION.EXISTING)}},t(_?"onboardingImportWallet":"onboardingSrpImport"))),_&&g&&y&&o.default.createElement(m.default,{loginOption:y,onClose:()=>{E(null)},handleLogin:b}))};var a=h(e("events")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=h(e("classnames")),i=h(e("../../../components/ui/mascot")),s=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/utils/build-types"),d=e("../../../../shared/modules/environment"),p=e("../../../../shared/constants/preferences"),m=h(e("./login-options")),f=e("./types");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-login.tsx"}],[6790,{"../../../../shared/constants/app":4975,"../../../../shared/constants/metametrics":4989,"../../../../shared/constants/onboarding":4995,"../../../../shared/lib/trace":5071,"../../../../shared/modules/browser-runtime.utils":5080,"../../../../shared/modules/environment":5084,"../../../../shared/modules/error":5085,"../../../components/ui/loading-screen":6043,"../../../contexts/metametrics":6115,"../../../helpers/constants/routes":6157,"../../../selectors":6959,"../../../store/actions":6981,"./login-error-modal":6785,"./types":6787,"./welcome-banner":6788,"./welcome-login":6789,loglevel:4096,"prop-types":4257,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=k(e("prop-types")),r=e("react-redux"),i=e("react-router-dom"),s=k(e("loglevel")),l=e("../../../helpers/constants/routes"),c=e("../../../selectors"),u=e("../../../../shared/constants/onboarding"),d=e("../../../contexts/metametrics"),p=e("../../../store/actions"),m=k(e("../../../components/ui/loading-screen")),f=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/modules/environment"),h=e("../../../../shared/modules/browser-runtime.utils"),y=e("../../../../shared/constants/app"),E=e("../../../../shared/modules/error"),_=e("../../../../shared/lib/trace"),b=k(e("./welcome-login")),v=k(e("./welcome-banner")),T=e("./types"),x=k(e("./login-error-modal"));function k(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function w({pageState:e=T.WelcomePageState.Banner,setPageState:t}){const n=(0,r.useDispatch)(),o=(0,i.useHistory)(),k=(0,r.useSelector)(c.getCurrentKeyring),C=(0,g.getIsSeedlessOnboardingFeatureEnabled)(),w=(0,r.useSelector)(c.getFirstTimeFlowType),S=(0,r.useSelector)(c.getIsSocialLoginUserAuthenticated),O=(0,r.useSelector)(c.getIsParticipateInMetaMetricsSet),[I,N]=(0,a.useState)(!1),[A,M]=(0,a.useState)(!1),[R,B]=(0,a.useState)(null);(0,a.useEffect)(()=>{k&&!I?w===u.FirstTimeFlowType.import||w===u.FirstTimeFlowType.socialImport||w===u.FirstTimeFlowType.restore?o.replace(O?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS):w===u.FirstTimeFlowType.socialCreate?(0,h.getBrowserName)()===y.PLATFORM_FIREFOX?o.replace(l.ONBOARDING_COMPLETION_ROUTE):o.replace(l.ONBOARDING_METAMETRICS):o.replace(l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE):S&&(w===u.FirstTimeFlowType.socialCreate?o.replace(l.ONBOARDING_CREATE_PASSWORD_ROUTE):o.replace(l.ONBOARDING_UNLOCK_ROUTE))},[k,o,w,I,O,S]);const D=(0,a.useContext)(d.MetaMetricsContext),{bufferedTrace:P,bufferedEndTrace:L,onboardingParentContext:F}=D,j=(0,a.useCallback)(async()=>{M(!0),N(!0),await n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.create)),D({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:f.MetaMetricsEventAccountType.Default}}),null==P||P({name:_.TraceName.OnboardingNewSrpCreateWallet,op:_.TraceOperation.OnboardingUserJourney,parentContext:null==F?void 0:F.current}),o.push(l.ONBOARDING_CREATE_PASSWORD_ROUTE)},[n,o,D,F,P]),W=(0,a.useCallback)(async()=>{M(!0),await n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.import)),D({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletImportStarted,properties:{account_type:f.MetaMetricsEventAccountType.Imported}}),null==P||P({name:_.TraceName.OnboardingExistingSrpImport,op:_.TraceOperation.OnboardingUserJourney,parentContext:null==F?void 0:F.current}),o.push(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE)},[n,o,D,F,P]),U=(0,a.useCallback)(async e=>{if(C){null==P||P({name:_.TraceName.OnboardingSocialLoginAttempt,op:_.TraceOperation.OnboardingUserJourney,tags:{provider:e},parentContext:null==F?void 0:F.current});const t=await n((0,p.startOAuthLogin)(e,P,L));return null==L||L({name:_.TraceName.OnboardingSocialLoginAttempt}),t}return!0},[n,C,F,P,L]),z=(0,a.useCallback)((e,t)=>{const n=e instanceof Error?e.message:"Unknown error";null==P||P({name:_.TraceName.OnboardingSocialLoginError,op:_.TraceOperation.OnboardingError,tags:{provider:t,errorMessage:n},parentContext:F.current}),null==L||L({name:_.TraceName.OnboardingSocialLoginError}),null==L||L({name:_.TraceName.OnboardingSocialLoginAttempt,data:{success:!1}})},[F,P,L]),$=(0,a.useCallback)(async e=>{M(!0),N(!0),await n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.socialCreate)),D({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${f.MetaMetricsEventAccountType.Default}_${e}`}});try{const t=await U(e);D({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${f.MetaMetricsEventAccountType.Default}_${e}`}}),t?(null==P||P({name:_.TraceName.OnboardingNewSocialCreateWallet,op:_.TraceOperation.OnboardingUserJourney,parentContext:F.current}),o.replace(l.ONBOARDING_CREATE_PASSWORD_ROUTE)):o.replace(l.ONBOARDING_ACCOUNT_EXIST)}catch(t){z(t,e)}finally{M(!1)}},[n,U,D,o,F,z,P]),V=(0,a.useCallback)(async e=>{M(!0),n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.socialImport)),D({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${f.MetaMetricsEventAccountType.Imported}_${e}`}});try{const t=await U(e);D({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${f.MetaMetricsEventAccountType.Imported}_${e}`}}),t?o.push(l.ONBOARDING_ACCOUNT_NOT_FOUND):(null==P||P({name:_.TraceName.OnboardingExistingSocialLogin,op:_.TraceOperation.OnboardingUserJourney,parentContext:F.current}),o.push(l.ONBOARDING_UNLOCK_ROUTE))}catch(t){z(t,e)}finally{M(!1)}},[n,U,D,o,F,z,P]),G=(0,a.useCallback)(e=>{s.default.error("handleLoginError::error",e);e.message===E.OAuthErrorMessages.USER_CANCELLED_LOGIN_ERROR?B(null):B(T.LOGIN_ERROR.GENERIC)},[]),q=(0,a.useCallback)(async(e,t)=>{try{t===T.LOGIN_OPTION.NEW&&e===T.LOGIN_TYPE.SRP?await j():t===T.LOGIN_OPTION.EXISTING&&e===T.LOGIN_TYPE.SRP?await W():C&&(t===T.LOGIN_OPTION.NEW?await $(e):t===T.LOGIN_OPTION.EXISTING&&await V(e))}catch(e){G(e)}},[j,W,$,V,C,G]);return a.default.createElement(a.default.Fragment,null,e===T.WelcomePageState.Banner&&a.default.createElement(v.default,{onAccept:()=>t(T.WelcomePageState.Login)}),e===T.WelcomePageState.Login&&a.default.createElement(b.default,{onLogin:q}),A&&a.default.createElement(m.default,null),null!==R&&a.default.createElement(x.default,{onClose:()=>B(null),loginError:R}))}w.propTypes={pageState:o.default.oneOf(Object.values(T.WelcomePageState)),setPageState:o.default.func.isRequired}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome.js"}],[6791,{"../../../components/app/permissions-connect-footer":5364,"../../../components/component-library":5637,"../../../components/ui/account-list":5975,"../../../components/ui/page-container":6061,"../../../helpers/constants/design-system":6152,"../../../hooks/useI18nContext":6278,"@metamask/keyring-api":1559,"@metamask/permission-controller":1819,"prop-types":4257,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/permission-controller"),i=e("@metamask/keyring-api"),s=e("../../../hooks/useI18nContext"),l=f(e("../../../components/app/permissions-connect-footer")),c=f(e("../../../components/ui/account-list")),u=e("../../../components/ui/page-container"),d=e("../../../helpers/constants/design-system"),p=e("../../../components/component-library");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}const g=({selectedAccountAddresses:e,addressLastConnectedMap:t={},accounts:n,selectAccounts:a,selectNewAccountViaModal:m,cancelPermissionsRequest:f,permissionsRequestId:g,targetSubjectMetadata:h,nativeCurrency:y})=>{const[E,_]=(0,o.useState)(e),b=n.filter(e=>(0,i.isEvmAccountType)(e.type)),v=(0,s.useI18nContext)(),T=Object.keys(e).length>b.length,x=0===n.length?v("connectAccountOrCreate"):(null==h?void 0:h.subjectType)===r.SubjectType.Snap?v("selectAccountsForSnap"):v("selectAccounts");return o.default.createElement(o.default.Fragment,null,o.default.createElement(p.Box,{className:"permissions-connect-choose-account__content",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative,width:d.BlockSize.Full,height:d.BlockSize.Full,paddingLeft:6,paddingRight:6},o.default.createElement(p.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.center,alignItems:d.AlignItems.center,paddingTop:4,paddingBottom:4},o.default.createElement(p.Text,{variant:d.TextVariant.headingMd},v("connectWithMetaMask")),o.default.createElement(p.Text,{variant:d.TextVariant.bodyMd},x)),o.default.createElement(c.default,{accounts:n,selectNewAccountViaModal:m,addressLastConnectedMap:t,nativeCurrency:y,selectedAccounts:E,allAreSelected:()=>b.length===E.size,deselectAll:()=>{_(new Set)},selectAll:()=>{const e=new Set(b.map(e=>e.address));_(e)},handleAccountClick:e=>{const t=new Set(E);t.has(e)?t.delete(e):t.add(e),_(t)}})),o.default.createElement(p.Box,{backgroundColor:d.BackgroundColor.backgroundAlternative,className:"permissions-connect-choose-account__footer",paddingTop:4},(null==h?void 0:h.subjectType)!==r.SubjectType.Snap&&o.default.createElement(l.default,null),o.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>f(g),cancelText:v("cancel"),onSubmit:()=>a(E),submitText:v("next"),disabled:T||0===E.size})))};g.propTypes={accounts:a.default.arrayOf(a.default.shape({address:a.default.string,addressLabel:a.default.string,lastConnectedDate:a.default.string,balance:a.default.string})).isRequired,selectAccounts:a.default.func.isRequired,selectNewAccountViaModal:a.default.func.isRequired,nativeCurrency:a.default.string.isRequired,addressLastConnectedMap:a.default.object,cancelPermissionsRequest:a.default.func.isRequired,permissionsRequestId:a.default.string.isRequired,selectedAccountAddresses:a.default.object.isRequired,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,subjectType:a.default.string})};n.default=g}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/choose-account.js"}],[6792,{"./choose-account":6791},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./choose-account"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/index.js"}],[6793,{"../../../../shared/constants/metametrics":4989,"../../../../shared/constants/network":4992,"../../../../shared/lib/caip25-caveat-merger":5021,"../../../../shared/modules/selectors/networks":5100,"../../../components/component-library":5637,"../../../components/multichain":5837,"../../../components/multichain/create-solana-account-modal/create-solana-account-modal":5811,"../../../components/multichain/pages/page":5931,"../../../components/multichain/pages/review-permissions-page/site-cell/site-cell":5938,"../../../components/ui/tabs":6084,"../../../contexts/metametrics":6115,"../../../helpers/constants/design-system":6152,"../../../helpers/utils/util":6206,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"../../../selectors/multichain":6966,"./utils":6794,"@metamask/chain-agnostic-permission":1295,"@metamask/utils":2361,lodash:4088,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/chain-agnostic-permission"),i=e("@metamask/utils"),s=e("lodash"),l=e("../../../hooks/useI18nContext"),c=e("../../../selectors"),u=e("../../../../shared/modules/selectors/networks"),d=e("../../../components/component-library"),p=e("../../../components/multichain/pages/page"),m=e("../../../components/multichain/pages/review-permissions-page/site-cell/site-cell"),f=e("../../../helpers/constants/design-system"),g=e("../../../../shared/constants/network"),h=e("../../../selectors/multichain"),y=e("../../../components/ui/tabs"),E=e("../../../components/multichain"),_=e("../../../helpers/utils/util"),b=e("../../../../shared/constants/metametrics"),v=e("../../../contexts/metametrics"),T=e("../../../components/multichain/create-solana-account-modal/create-solana-account-modal"),x=e("../../../../shared/lib/caip25-caveat-merger"),k=e("./utils");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}n.ConnectPage=({request:e,permissionsRequestId:t,rejectPermissionsRequest:n,approveConnection:C,targetSubjectMetadata:w})=>{const S=(0,l.useI18nContext)(),O=(0,a.useContext)(v.MetaMetricsContext),I=(0,o.useSelector)(t=>{var n;return(0,c.getPermissions)(t,null===(n=e.metadata)||void 0===n?void 0:n.origin)}),N=(0,a.useMemo)(()=>I?(0,k.getCaip25CaveatValueFromPermissions)(I):null,[I]),A=(0,k.getCaip25CaveatValueFromPermissions)(e.permissions),M=N?(0,x.mergeCaip25CaveatValues)(A,N):A,R=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(M),B=(0,r.getAllScopesFromCaip25CaveatValue)(M),{promptToCreateSolanaAccount:D,isEip1193Request:P}=e.metadata??{},L=(0,o.useSelector)(u.getAllNetworkConfigurationsByCaipChainId),[F,j]=(0,a.useMemo)(()=>Object.entries(L).reduce(([e,t],[n,a])=>{const o=n;return(g.CAIP_FORMATTED_EVM_TEST_CHAINS.includes(o)?t:e).push({...a,caipChainId:o}),[e,t]},[[],[]]),[L]),W=(0,a.useMemo)(()=>[...F,...j].map(({caipChainId:e})=>e),[F,j]),[U,z]=(0,a.useState)(!1),[$,V]=(0,a.useState)(!1),[G,q]=(0,a.useState)(!1),J=(0,o.useSelector)(h.getMultichainNetwork).chainId,H=j.find(e=>e.caipChainId===J);let K=H?[...F,H].map(({caipChainId:e})=>e):F.map(({caipChainId:e})=>e),Y=B.filter(e=>W.includes(e));if(P){K=K.filter(e=>{const{namespace:t}=(0,i.parseCaipChainId)(e);return t===i.KnownCaipNamespace.Eip155});!Y.some(e=>{const{namespace:t}=(0,i.parseCaipChainId)(e);return t===i.KnownCaipNamespace.Eip155})&&N&&(Y=Array.from(new Set([...K,...Y])))}const X=Y.length>0?Y:K,[Q,Z]=(0,a.useState)(X),ee=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&z(!0),Z(e)},[z,Z]),te=(0,o.useSelector)(c.getUpdatedAndSortedAccountsWithCaipAccountId),ne=(0,r.getAllNamespacesFromCaip25CaveatValue)(M).filter(e=>e!==i.KnownCaipNamespace.Wallet),ae=te.filter(e=>{const{chain:{namespace:t}}=(0,i.parseCaipAccountId)(e.caipAccountId);return ne.includes(t)}),oe=ae.filter(e=>(0,r.isCaipAccountIdInPermittedAccountIds)(e.caipAccountId,R)),re=(0,k.getDefaultAccounts)(ne,oe,ae).map(({caipAccountId:e})=>e),[ie,se]=(0,a.useState)(re),le=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&z(!0);let n=[...Q];e.forEach(e=>{const{chain:{namespace:t}}=(0,i.parseCaipAccountId)(e);if(!n.some(e=>{try{const{namespace:n}=(0,i.parseCaipChainId)(e);return t===n}catch(e){return!1}})){const e=W.filter(e=>{try{const{namespace:n}=(0,i.parseCaipChainId)(e);return t===n}catch(e){return!1}});n=Array.from(new Set([...n,...e]))}}),ee(n,{isUserModified:t}),se(e)},[z,se,Q,ee,W]);(0,a.useEffect)(()=>{U||(0,s.isEqual)(re,ie)||le(re,{isUserModified:!1})},[U,le,ie,JSON.stringify(re)]);const ce=te.filter(({caipAccountId:e})=>ie.some(t=>t===e)),ue=(0,a.useMemo)(()=>te.some(({caipAccountId:e})=>{const{chain:t}=(0,i.parseCaipAccountId)(e);return t.namespace===i.KnownCaipNamespace.Solana}),[te]),de=(0,a.useCallback)(()=>{V(!0),O({category:b.MetaMetricsEventCategory.Navigation,event:b.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (accounts tab), Permissions toast, Permissions (dapp)"}})},[O]),pe=(0,a.useCallback)(()=>{q(!0)},[]),me=(0,a.useCallback)(()=>{q(!1)},[]),fe=(0,a.useCallback)(()=>{V(!1)},[]),ge=(0,a.useCallback)(()=>{n(t)},[t,n]),he=(0,a.useCallback)(()=>{const t={...e,permissions:{...e.permissions,...(0,r.generateCaip25Caveat)(M,ie,Q)}};C(t)},[e,M,ie,Q,C]),ye=(0,_.transformOriginToTitle)(w.origin);return a.default.createElement(p.Page,{"data-testid":"connect-page",className:"main-container connect-page",backgroundColor:f.BackgroundColor.backgroundDefault},a.default.createElement(p.Header,{paddingTop:8,paddingBottom:0},a.default.createElement(d.Box,{display:f.Display.Flex,justifyContent:f.JustifyContent.center,marginBottom:8},w.iconUrl?a.default.createElement(a.default.Fragment,null,a.default.createElement(d.Box,{style:{filter:"blur(16px) brightness(1.1)",position:"absolute"}},a.default.createElement(d.AvatarFavicon,{backgroundColor:f.BackgroundColor.backgroundMuted,size:d.AvatarFaviconSize.Xl,src:w.iconUrl,name:ye})),a.default.createElement(d.AvatarFavicon,{backgroundColor:f.BackgroundColor.backgroundMuted,size:d.AvatarFaviconSize.Lg,src:w.iconUrl,name:ye,style:{zIndex:1,background:"transparent"}})):a.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Lg,display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.center,color:f.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:f.BackgroundColor.backgroundMuted},(0,_.isIpAddress)(ye)?"?":(0,_.getAvatarFallbackLetter)(ye))),a.default.createElement(d.Text,{variant:f.TextVariant.headingLg,marginBottom:1},ye),a.default.createElement(d.Box,{display:f.Display.Flex,justifyContent:f.JustifyContent.center},a.default.createElement(d.Text,{color:f.TextColor.textAlternative},S("connectionDescription")))),a.default.createElement(p.Content,{paddingLeft:4,paddingRight:4,backgroundColor:f.BackgroundColor.transparent},a.default.createElement(y.Tabs,{onTabClick:()=>null,backgroundColor:f.BackgroundColor.transparent,justifyContent:f.JustifyContent.center,defaultActiveTabKey:"accounts",tabListProps:{backgroundColor:f.BackgroundColor.transparent}},a.default.createElement(y.Tab,{name:S("accounts"),tabKey:"accounts",width:f.BlockSize.Full,"data-testid":"accounts-tab"},a.default.createElement(d.Box,{marginTop:4},a.default.createElement(d.Box,{backgroundColor:f.BackgroundColor.backgroundDefault,borderRadius:f.BorderRadius.XL,style:{overflow:"auto",maxHeight:"268px",scrollbarColor:"var(--color-icon-muted) transparent"}},ce.map(e=>a.default.createElement(E.AccountListItem,{showConnectedStatus:!1,account:e,key:e.caipAccountId,selected:!1})),0===ce.length&&!D&&a.default.createElement(d.Box,{className:"connect-page__accounts-empty",display:f.Display.Flex,justifyContent:f.JustifyContent.center,alignItems:f.AlignItems.center,borderRadius:f.BorderRadius.XL},a.default.createElement(d.ButtonLink,{onClick:de,"data-testid":"edit"},S("selectAccountToConnect")))),ce.length>0&&a.default.createElement(d.Box,{marginTop:4,display:f.Display.Flex,justifyContent:f.JustifyContent.center},a.default.createElement(d.ButtonLink,{onClick:de,"data-testid":"edit"},S("editAccounts"))),D&&!ue&&a.default.createElement(d.Box,{display:f.Display.Flex,flexDirection:f.FlexDirection.Column,justifyContent:f.JustifyContent.center,alignItems:f.AlignItems.center,marginTop:4,gap:2},a.default.createElement(d.Text,{variant:f.TextVariant.bodyMd,color:f.TextColor.textAlternative,textAlign:f.TextAlign.Center},0===ce.length?S("solanaAccountRequired"):S("solanaAccountRequested")),a.default.createElement(d.Button,{variant:d.ButtonVariant.Secondary,width:f.BlockSize.Full,size:d.ButtonSize.Lg,onClick:pe,"data-testid":"create-solana-account"},S("createSolanaAccount"))),G&&a.default.createElement(T.CreateSolanaAccountModal,{onClose:me}),$&&a.default.createElement(E.EditAccountsModal,{accounts:te,defaultSelectedAccountAddresses:ie,onClose:fe,onSubmit:le}))),a.default.createElement(y.Tab,{name:S("permissions"),tabKey:"permissions",width:f.BlockSize.Full,"data-testid":"permissions-tab",disabled:D&&!ue&&0===ce.length},a.default.createElement(d.Box,{marginTop:4},a.default.createElement(m.SiteCell,{nonTestNetworks:F,testNetworks:j,accounts:te,onSelectAccountAddresses:le,onSelectChainIds:ee,selectedAccountAddresses:ie,selectedChainIds:Q,isConnectFlow:!0}))))),a.default.createElement(p.Footer,null,a.default.createElement(d.Box,{display:f.Display.Flex,flexDirection:f.FlexDirection.Column,gap:4,width:f.BlockSize.Full},a.default.createElement(d.Box,{display:f.Display.Flex,gap:4,width:f.BlockSize.Full},a.default.createElement(d.Button,{block:!0,variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"cancel-btn",onClick:ge},S("cancel")),a.default.createElement(d.Button,{block:!0,"data-testid":"confirm-btn",size:d.ButtonSize.Lg,onClick:he,disabled:0===ie.length||0===Q.length},S("connect"))))))}}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/connect-page.tsx"}],[6794,{"../../../helpers/utils/util":6206,"@metamask/chain-agnostic-permission":1295,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaip25CaveatValueFromPermissions=function(e){var t;return(null==e||null===(t=e[o.Caip25EndowmentPermissionName])||void 0===t||null===(t=t.caveats)||void 0===t||null===(t=t.find(e=>e.type===o.Caip25CaveatType))||void 0===t?void 0:t.value)??{optionalScopes:{},requiredScopes:{},sessionProperties:{},isMultichainOrigin:!1}},n.getCaip25PermissionsResponse=function(e,t,n){const a=(0,o.setPermittedEthChainIds)(e,n),r=(0,o.setEthAccounts)(a,t);return{[o.Caip25EndowmentPermissionName]:{caveats:[{type:o.Caip25CaveatType,value:r}]}}},n.getDefaultAccounts=function(e,t,n){const o=[],i=new Set;t.forEach(t=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(t.caipAccountId);e.includes(n)&&(o.push(t),i.add(n))});const s=e.filter(e=>!i.has(e));if(s.length>0){const e=(0,r.sortSelectedInternalAccounts)(n);for(const t of s){const n=e.find(e=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(e.caipAccountId);return n===t});n&&o.push(n)}}return o};var a=e("@metamask/utils"),o=e("@metamask/chain-agnostic-permission"),r=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/utils.ts"}],[6795,{"./permissions-connect.container":6797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/index.js"}],[6796,{"../../../app/scripts/lib/multichain/address":148,"../../../shared/constants/time":5007,"../../components/app/permission-page-container":5358,"../../components/app/snaps/snap-authorship-header/snap-authorship-header":5391,"../../components/component-library":5637,"../../helpers/constants/routes":6157,"./choose-account":6792,"./connect-page/connect-page":6793,"./connect-page/utils":6794,"./redirect":6798,"./snaps/snap-install":6800,"./snaps/snap-result":6802,"./snaps/snap-update":6804,"./snaps/snaps-connect":6806,"@metamask/chain-agnostic-permission":1295,"@metamask/permission-controller":1819,"@metamask/rpc-errors":1958,"@metamask/snaps-utils":2245,"prop-types":4257,react:4439,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=C(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("@metamask/rpc-errors"),s=e("@metamask/permission-controller"),l=e("@metamask/snaps-utils"),c=e("@metamask/chain-agnostic-permission"),u=e("../../../app/scripts/lib/multichain/address"),d=e("../../../shared/constants/time"),p=e("../../helpers/constants/routes"),m=C(e("../../components/app/permission-page-container")),f=e("../../components/component-library"),g=C(e("../../components/app/snaps/snap-authorship-header/snap-authorship-header")),h=C(e("./choose-account")),y=C(e("./redirect")),E=C(e("./snaps/snaps-connect")),_=C(e("./snaps/snap-install")),b=C(e("./snaps/snap-update")),v=C(e("./snaps/snap-result")),T=e("./connect-page/connect-page"),x=e("./connect-page/utils");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function C(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=1200*d.MILLISECOND;function O(e,t){const n=(0,x.getCaip25CaveatValueFromPermissions)(t),a=(0,c.getEthAccounts)(n);return a.length>0?new Set(a.map(e=>e.toLowerCase()).filter(u.isEthAddress)):new Set((0,u.isEthAddress)(e)?[e]:[])}function I(e){const t=(0,x.getCaip25CaveatValueFromPermissions)(e);return(0,c.getPermittedEthChainIds)(t)}class N extends o.Component{constructor(...e){var t;super(...e),w(this,"state",{redirecting:!1,selectedAccountAddresses:O(this.props.currentAddress,null===(t=this.props.permissionsRequest)||void 0===t?void 0:t.permissions),permissionsApproved:null,origin:this.props.origin,targetSubjectMetadata:this.props.targetSubjectMetadata||{},snapsInstallPrivacyWarningShown:this.props.snapsInstallPrivacyWarningShown}),w(this,"selectAccounts",e=>{const{confirmPermissionPath:t,requestType:n,snapsConnectPath:a,snapInstallPath:o,snapUpdatePath:r,snapResultPath:i}=this.props;this.setState({selectedAccountAddresses:e},()=>{switch(n){case"wallet_installSnap":this.props.history.push(o);break;case"wallet_updateSnap":this.props.history.push(r);break;case"wallet_installSnapResult":this.props.history.push(i);break;case"wallet_connectSnaps":this.props.history.replace(a);break;default:this.props.history.push(t)}})}),w(this,"cancelPermissionsRequest",async e=>{const{rejectPermissionsRequest:t}=this.props;e&&(await t(e),this.redirect(!1))}),w(this,"approveConnection",(...e)=>{const{approvePermissionsRequest:t}=this.props;t(...e),this.redirect(!0)})}componentDidMount(){const{connectPath:e,confirmPermissionPath:t,snapsConnectPath:n,snapInstallPath:a,snapUpdatePath:o,snapResultPath:r,requestType:i,getRequestAccountTabIds:s,permissionsRequest:l,history:c,isRequestingAccounts:u}=this.props;if(s(),l){if(c.location.pathname===e&&!u)switch(i){case"wallet_installSnap":c.replace(a);break;case"wallet_updateSnap":c.replace(o);break;case"wallet_installSnapResult":c.replace(r);break;case"wallet_connectSnaps":c.replace(n);break;default:c.replace(t)}}else c.replace(p.DEFAULT_ROUTE)}componentDidUpdate(e){var t;const{permissionsRequest:n,lastConnectedInfo:a,targetSubjectMetadata:o}=this.props,{redirecting:r,origin:i}=this.state;if(null!=o&&o.origin&&(null===(t=e.targetSubjectMetadata)||void 0===t?void 0:t.origin)!==(null==o?void 0:o.origin)&&this.setState({targetSubjectMetadata:o}),!n&&e.permissionsRequest&&!r){var s,l;const t=((null===(s=a[i])||void 0===s?void 0:s.lastApproved)||0)>((null===(l=e.lastConnectedInfo[i])||void 0===l?void 0:l.lastApproved)||0);this.redirect(t)}}redirect(e){const{history:t,permissionsRequest:n}=this.props;let a=!0;a=!((null==n?void 0:n.permissions)&&Object.keys(n.permissions).includes("wallet_snap")),this.setState({redirecting:a,permissionsApproved:e}),a&&e?setTimeout(()=>t.push(p.DEFAULT_ROUTE),S):t.push(p.DEFAULT_ROUTE)}goBack(){const{history:e,connectPath:t}=this.props;e.push(t)}renderTopBar(e){const{targetSubjectMetadata:t}=this.state;return o.default.createElement(f.Box,{style:{boxShadow:t.subjectType===s.SubjectType.Snap&&"var(--shadow-size-lg) var(--color-shadow-default)"}},t.subjectType===s.SubjectType.Snap&&o.default.createElement(g.default,{snapId:t.origin,boxShadow:"none",onCancel:()=>{this.cancelPermissionsRequest(e)}}))}render(){var e;const{accounts:t,showNewAccountModal:n,newAccountNumber:a,nativeCurrency:s,permissionsRequest:c,addressLastConnectedMap:u,permissionsRequestId:d,connectPath:p,confirmPermissionPath:f,hideTopBar:g,targetSubjectMetadata:x,snapsConnectPath:k,snapInstallPath:C,snapUpdatePath:w,snapResultPath:S,requestState:O,approvePendingApproval:N,rejectPendingApproval:A,setSnapsInstallPrivacyWarningShownStatus:M,approvePermissionsRequest:R,history:B}=this.props,{selectedAccountAddresses:D,permissionsApproved:P,redirecting:L,snapsInstallPrivacyWarningShown:F}=this.state,j=(0,l.isSnapId)(null==c||null===(e=c.metadata)||void 0===e?void 0:e.origin);return o.default.createElement("div",{className:"permissions-connect"},!g&&this.renderTopBar(d),L&&P?o.default.createElement(y.default,{subjectMetadata:x}):o.default.createElement(r.Switch,null,o.default.createElement(r.Route,{path:p,exact:!0,render:()=>j?o.default.createElement(h.default,{accounts:t,nativeCurrency:s,selectAccounts:e=>this.selectAccounts(e),selectNewAccountViaModal:e=>{n({onCreateNewAccount:t=>e(t),newAccountNumber:a})},addressLastConnectedMap:u,cancelPermissionsRequest:e=>this.cancelPermissionsRequest(e),permissionsRequestId:d,selectedAccountAddresses:D,targetSubjectMetadata:x}):o.default.createElement(T.ConnectPage,{rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),activeTabOrigin:this.state.origin,request:c||{},permissionsRequestId:d,approveConnection:this.approveConnection,targetSubjectMetadata:x})}),o.default.createElement(r.Route,{path:f,exact:!0,render:()=>o.default.createElement(m.default,{request:c||{},approvePermissionsRequest:(...e)=>{R(...e),this.redirect(!0)},rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),selectedAccounts:t.filter(e=>D.has(e.address)),requestedChainIds:I(null==c?void 0:c.permissions),targetSubjectMetadata:x,history:B,connectPath:p,snapsInstallPrivacyWarningShown:F,setSnapsInstallPrivacyWarningShownStatus:M})}),o.default.createElement(r.Route,{path:k,exact:!0,render:()=>o.default.createElement(E.default,{request:c||{},approveConnection:this.approveConnection,rejectConnection:e=>this.cancelPermissionsRequest(e),targetSubjectMetadata:x,snapsInstallPrivacyWarningShown:F,setSnapsInstallPrivacyWarningShownStatus:M})}),o.default.createElement(r.Route,{path:C,exact:!0,render:()=>o.default.createElement(_.default,{request:c||{},requestState:O||{},approveSnapInstall:e=>{N(e,{...c,permissions:O.permissions,approvedAccounts:[...D]}),this.setState({permissionsApproved:!0})},rejectSnapInstall:e=>{A(e,(0,i.serializeError)(i.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!0})},targetSubjectMetadata:x})}),o.default.createElement(r.Route,{path:w,exact:!0,render:()=>o.default.createElement(b.default,{request:c||{},requestState:O||{},approveSnapUpdate:e=>{N(e,{...c,permissions:O.permissions,approvedAccounts:[...D]}),this.setState({permissionsApproved:!0})},rejectSnapUpdate:e=>{A(e,(0,i.serializeError)(i.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!1})},targetSubjectMetadata:x})}),o.default.createElement(r.Route,{path:S,exact:!0,render:()=>o.default.createElement(v.default,{request:c||{},requestState:O||{},approveSnapResult:e=>{N(e),this.setState({permissionsApproved:!0})},targetSubjectMetadata:x})})))}}n.default=N,w(N,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,getRequestAccountTabIds:a.default.func.isRequired,accounts:a.default.arrayOf(a.default.shape({id:a.default.string.isRequired,address:a.default.string.isRequired,metadata:a.default.shape({name:a.default.string.isRequired,snap:a.default.shape({id:a.default.string.isRequired,name:a.default.string,enabled:a.default.bool}),keyring:a.default.shape({type:a.default.string.isRequired}).isRequired}).isRequired,addressLabel:a.default.string.isRequired,label:a.default.string.isRequired,balance:a.default.string.isRequired})).isRequired,currentAddress:a.default.string.isRequired,origin:a.default.string,showNewAccountModal:a.default.func.isRequired,newAccountNumber:a.default.number.isRequired,nativeCurrency:a.default.string,permissionsRequest:a.default.object,addressLastConnectedMap:a.default.object.isRequired,lastConnectedInfo:a.default.object.isRequired,permissionsRequestId:a.default.string,history:a.default.object.isRequired,connectPath:a.default.string.isRequired,confirmPermissionPath:a.default.string.isRequired,requestType:a.default.string.isRequired,snapsConnectPath:a.default.string.isRequired,snapInstallPath:a.default.string.isRequired,snapUpdatePath:a.default.string.isRequired,snapResultPath:a.default.string.isRequired,requestState:a.default.object.isRequired,approvePendingApproval:a.default.func.isRequired,rejectPendingApproval:a.default.func.isRequired,setSnapsInstallPrivacyWarningShownStatus:a.default.func.isRequired,snapsInstallPrivacyWarningShown:a.default.bool.isRequired,hideTopBar:a.default.bool,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string,subjectType:a.default.string}),isRequestingAccounts:a.default.bool.isRequired}),w(N,"defaultProps",{origin:"",nativeCurrency:"",permissionsRequest:undefined,permissionsRequestId:""}),w(N,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.component.js"}],[6797,{"../../ducks/metamask/metamask":6139,"../../helpers/constants/routes":6157,"../../helpers/utils/util":6206,"../../selectors":6959,"../../store/actions":6981,"./permissions-connect.component":6796,"@metamask/chain-agnostic-permission":1295,"@metamask/keyring-api":1559,"@metamask/permission-controller":1819,"@metamask/snaps-rpc-methods":2075,"prop-types":4257,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/permission-controller"),o=e("@metamask/snaps-rpc-methods"),r=e("react-redux"),i=g(e("prop-types")),s=e("@metamask/keyring-api"),l=e("@metamask/chain-agnostic-permission"),c=e("../../selectors"),u=e("../../ducks/metamask/metamask"),d=e("../../helpers/utils/util"),p=e("../../store/actions"),m=e("../../helpers/constants/routes"),f=g(e("./permissions-connect.component"));function g(e){return e&&e.__esModule?e:{default:e}}const h=(0,r.connect)((e,t)=>{var n,r,i;const{match:{params:{id:p}},location:{pathname:f}}=t;let g=(0,c.getPermissionsRequests)(e);g=[...g,...(0,c.getSnapInstallOrUpdateRequests)(e)];const{address:h}=(0,c.getSelectedInternalAccount)(e),y=g.find(e=>e.metadata.id===p),{metadata:E={},diff:_={}}=y||{},{origin:b}=E,v=(0,u.getNativeCurrency)(e),T=Boolean(null==_?void 0:_.permissionDiffMap),x=Boolean((null==y||null===(n=y.permissions)||void 0===n?void 0:n[l.Caip25EndowmentPermissionName])&&!T),k=(0,c.getTargetSubjectMetadata)(e,b)??{name:(0,d.getURLHostName)(b)||b,origin:b,iconUrl:null,extensionId:null,subjectType:a.SubjectType.Unknown};let C=(0,c.getRequestType)(e,p);y&&1===Object.keys(y.permissions||{}).length&&null!==(r=y.permissions)&&void 0!==r&&r[o.WALLET_SNAP_PERMISSION_KEY]&&(C="wallet_connectSnaps");const w=(0,c.getRequestState)(e,p)||{},S=(0,c.getAccountsWithLabels)(e).filter(e=>(0,s.isEvmAccountType)(e.type)),O=(0,c.getLastConnectedInfo)(e)||{},I=(null===(i=O[b])||void 0===i?void 0:i.accounts)||{};Object.keys(I).forEach(e=>{I[e]=(0,d.formatDate)(I[e],"yyyy-MM-dd")});const N=`${m.CONNECT_ROUTE}/${p}`,A=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`,M=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAPS_CONNECT_ROUTE}`,R=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_INSTALL_ROUTE}`,B=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_UPDATE_ROUTE}`,D=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_RESULT_ROUTE}`,P=f===R||f===B||f===D;let L=1+x;L+=P,L=L.toString();let F="";if(f===N)F="1";else if(f===A)F=x?"2":"1";else if(P)F=x?"3":"2";else{if(f!==M)throw new Error("Incorrect path for permissions-connect component");F=1}return{isRequestingAccounts:x,requestType:C,snapsConnectPath:M,snapInstallPath:R,snapUpdatePath:B,snapResultPath:D,requestState:w,hideTopBar:P,snapsInstallPrivacyWarningShown:(0,c.getSnapsInstallPrivacyWarningShown)(e),permissionsRequest:y,permissionsRequestId:p,accounts:S,currentAddress:h,origin:b,newAccountNumber:S.length+1,nativeCurrency:v,addressLastConnectedMap:I,lastConnectedInfo:O,connectPath:N,confirmPermissionPath:A,totalPages:L,page:F,targetSubjectMetadata:k}},e=>({approvePermissionsRequest:t=>e((0,p.approvePermissionsRequest)(t)),rejectPermissionsRequest:t=>e((0,p.rejectPermissionsRequest)(t)),approvePendingApproval:(t,n)=>e((0,p.resolvePendingApproval)(t,n)),rejectPendingApproval:(t,n)=>e((0,p.rejectPendingApproval)(t,n)),setSnapsInstallPrivacyWarningShownStatus:t=>{e((0,p.setSnapsInstallPrivacyWarningShownStatus)(t))},showNewAccountModal:({onCreateNewAccount:t,newAccountNumber:n})=>e((0,p.showModal)({name:"NEW_ACCOUNT",onCreateNewAccount:t,newAccountNumber:n})),getRequestAccountTabIds:()=>e((0,p.getRequestAccountTabIds)())}))(f.default);h.propTypes={history:i.default.object.isRequired,match:i.default.shape({params:i.default.shape({id:i.default.string}).isRequired}).isRequired};n.default=h}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.container.js"}],[6798,{"./permissions-redirect.component":6799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-redirect.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/index.js"}],[6799,{"../../../components/app/permissions-connect-footer":5364,"../../../components/component-library":5637,"../../../contexts/i18n":6110,"../../../helpers/constants/design-system":6152,"prop-types":4257,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=c(e("prop-types")),r=e("../../../helpers/constants/design-system"),i=e("../../../contexts/i18n"),s=e("../../../components/component-library"),l=c(e("../../../components/app/permissions-connect-footer"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({subjectMetadata:e}){const t=(0,a.useContext)(i.I18nContext),[n,o]=(0,a.useState)(e);return(0,a.useEffect)(()=>{e&&e.origin&&o(e)},[e]),a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,width:r.BlockSize.Full,height:r.BlockSize.Full,justifyContent:r.JustifyContent.spaceBetween},a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,width:r.BlockSize.Full,height:r.BlockSize.Full,backgroundColor:r.BackgroundColor.backgroundDefault,borderRadius:r.BorderRadius.XS,border:`1px solid ${r.BorderColor.borderMuted}`,boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},a.default.createElement(s.Box,{display:r.Display.Flex,marginBottom:4},a.default.createElement(s.Text,{variant:r.TextVariant.headingMd},t("connecting"))),a.default.createElement(s.Box,{display:r.Display.Flex,backgroundColor:r.BackgroundColor.infoMuted,borderRadius:r.BorderRadius.pill,padding:2},a.default.createElement(s.AvatarToken,{src:n.iconUrl,name:n.name,size:s.AvatarTokenSize.Lg}),a.default.createElement(s.Box,{display:r.Display.Flex,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,paddingLeft:4,paddingRight:4},a.default.createElement(s.Icon,{name:s.IconName.Confirmation,size:s.IconSize.Xl,color:r.IconColor.infoDefault})),a.default.createElement(s.AvatarToken,{src:"/images/logo/metamask-fox.svg",size:s.AvatarTokenSize.Lg,name:"metamask-fox"}))),a.default.createElement(s.Box,{backgroundColor:r.BackgroundColor.backgroundDefault,padding:4},a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column},a.default.createElement(l.default,null),a.default.createElement(s.Box,{display:r.Display.Flex,paddingTop:4,width:r.BlockSize.Full,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center},a.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,width:r.BlockSize.Full,marginRight:2,disabled:!0},t("back")),a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:r.BlockSize.Full,marginLeft:2,disabled:!0,loading:!0},a.default.createElement(s.Icon,{name:s.IconName.Loading,size:s.IconSize.Lg,color:r.IconColor.infoDefault}))))))}d.propTypes={subjectMetadata:o.default.shape({extensionId:o.default.string,iconUrl:o.default.string,subjectType:o.default.string,name:o.default.string.isRequired,origin:o.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/permissions-redirect.component.js"}],[6800,{"./snap-install":6801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-install"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/index.js"}],[6801,{"../../../../components/app/permission-connect-header":5356,"../../../../components/app/snaps/install-error/install-error":5382,"../../../../components/app/snaps/snap-authorship-header":5390,"../../../../components/app/snaps/snap-install-warning":5403,"../../../../components/app/snaps/snap-permissions-list":5415,"../../../../components/component-library":5637,"../../../../components/ui/page-container":6061,"../../../../components/ui/pulse-loader/pulse-loader":6070,"../../../../helpers/constants/design-system":6152,"../../../../helpers/utils/util":6206,"../../../../hooks/useI18nContext":6278,"../../../../hooks/useOriginMetadata":6293,"../../../../hooks/useScrollRequired":6297,"../../../../selectors":6959,"../util":6808,"@metamask/snaps-utils":2245,"prop-types":4257,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=x(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("@metamask/snaps-utils"),s=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=x(e("../../../../components/app/snaps/snap-install-warning")),u=e("../../../../helpers/constants/design-system"),d=e("../util"),p=x(e("../../../../components/ui/pulse-loader/pulse-loader")),m=x(e("../../../../components/app/snaps/snap-authorship-header")),f=e("../../../../components/component-library"),g=x(e("../../../../components/app/snaps/snap-permissions-list")),h=e("../../../../hooks/useScrollRequired"),y=x(e("../../../../components/app/snaps/install-error/install-error")),E=e("../../../../hooks/useOriginMetadata"),_=e("../../../../selectors"),b=e("../../../../helpers/utils/util"),v=x(e("../../../../components/app/permission-connect-header"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}function k({request:e,requestState:t,approveSnapInstall:n,rejectSnapInstall:a,targetSubjectMetadata:T}){var x,k,C;const w=(0,l.useI18nContext)(),S=(0,E.useOriginMetadata)(null==e||null===(x=e.metadata)||void 0===x?void 0:x.dappOrigin)||{},{origin:O,iconUrl:I}=S,[N,A]=(0,o.useState)(!1),M=(0,r.useSelector)(_.getSnapsMetadata),[R,B]=(0,o.useState)(!1),{isScrollable:D,hasScrolledToBottom:P,scrollToBottom:L,ref:F,onScroll:j}=(0,h.useScrollRequired)([t]),W=(0,o.useCallback)(()=>a(e.metadata.id),[e,a]),U=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),{name:z}=(0,r.useSelector)(e=>(0,_.getSnapMetadata)(e,T.origin)),$=!t.loading&&t.error,V=t.loading,G=(0,i.isSnapId)(null==e||null===(k=e.metadata)||void 0===k?void 0:k.dappOrigin),q=(0,d.getSnapInstallWarnings)((null==t?void 0:t.permissions)??{},w,z,(0,b.getSnapName)(M)),J=q.length>0;return o.default.createElement(f.Box,{className:"snap-install",display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},!V&&!$||G?o.default.createElement(m.default,{snapId:V&&G?null==e||null===(C=e.metadata)||void 0===C?void 0:C.dappOrigin:T.origin,onCancel:W}):o.default.createElement(v.default,{origin:O,iconUrl:I}),o.default.createElement(f.Box,{ref:V||$?undefined:F,onScroll:j,className:"snap-install__content",style:{overflowY:"auto",flex:!V&&!$&&"1"},paddingLeft:4,paddingRight:4},V&&o.default.createElement(f.Box,{display:u.Display.Flex,className:"snap-install__content__loader-container",flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},o.default.createElement(p.default,null)),$&&o.default.createElement(y.default,{iconName:f.IconName.Warning,title:w("connectionFailed"),description:w("connectionFailedDescription",[o.default.createElement(f.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},z)]),error:t.error}),!$&&!V&&o.default.createElement(o.default.Fragment,null,o.default.createElement(f.Text,{variant:u.TextVariant.headingMd,paddingTop:4,paddingBottom:2,textAlign:"center"},w("installRequest")),o.default.createElement(f.Text,{className:"snap-install__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:u.TextAlign.Center},w("snapInstallRequest",[o.default.createElement(f.Text,{as:"span",key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},z)])),o.default.createElement(f.Box,{display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:u.BorderRadius.XL},o.default.createElement(g.default,{snapId:T.origin,snapName:z,permissions:t.permissions||{},connections:t.connections||{},onShowAllPermissions:()=>{B(!0)}})),o.default.createElement(f.Box,{className:"snap-install__scroll-button-area"},!D||P||R?null:o.default.createElement(f.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-install-scroll",iconName:f.IconName.Arrow2Down,backgroundColor:u.BackgroundColor.infoDefault,color:u.IconColor.primaryInverse,onClick:L,style:{cursor:"pointer"}})))),o.default.createElement(f.Box,{className:"snap-install__footer",display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},o.default.createElement(s.PageContainerFooter,{cancelButtonType:"default",hideCancel:$,disabled:V||!$&&D&&!P,onCancel:W,cancelText:w("cancel"),onSubmit:()=>{!$&&J?A(!0):$?W():U()},submitText:w($?"ok":V?"connect":"confirm")})),N&&o.default.createElement(c.default,{onCancel:()=>A(!1),onSubmit:U,warnings:q,snapName:z}))}k.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapInstall:a.default.func.isRequired,rejectSnapInstall:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/snap-install.js"}],[6802,{"./snap-result":6803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-result"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/index.js"}],[6803,{"../../../../components/app/snaps/install-error/install-error":5382,"../../../../components/app/snaps/snap-authorship-header":5390,"../../../../components/component-library":5637,"../../../../components/ui/box/box":5981,"../../../../components/ui/page-container":6061,"../../../../components/ui/pulse-loader/pulse-loader":6070,"../../../../helpers/constants/design-system":6152,"../../../../hooks/useI18nContext":6278,"../../../../selectors":6959,"prop-types":4257,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=h(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../../components/ui/page-container"),s=e("../../../../hooks/useI18nContext"),l=h(e("../../../../components/ui/box/box")),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/component-library"),d=h(e("../../../../components/ui/pulse-loader/pulse-loader")),p=h(e("../../../../components/app/snaps/install-error/install-error")),m=h(e("../../../../components/app/snaps/snap-authorship-header")),f=e("../../../../selectors");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function y({request:e,requestState:t,approveSnapResult:n,targetSubjectMetadata:a}){const g=(0,s.useI18nContext)(),h=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),y=!t.loading&&t.error,E=t.loading,{name:_}=(0,r.useSelector)(e=>(0,f.getSnapMetadata)(e,a.origin));return o.default.createElement(l.default,{className:"page-container snap-result",justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,borderStyle:c.BorderStyle.none,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(m.default,{snapId:a.origin,onCancel:h}),o.default.createElement(l.default,{className:"snap-result__content",paddingLeft:4,paddingRight:4,alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative,height:c.BlockSize.Full,justifyContent:c.JustifyContent.center},E&&o.default.createElement(l.default,{className:"snap-result__content__loader-container",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,height:c.BlockSize.Full},o.default.createElement(d.default,null)),!E&&!y&&function(e,t){let n;switch(e){case"wallet_installSnap":n=g("snapInstallSuccess");break;case"wallet_updateSnap":n=g("snapUpdateSuccess");break;default:n=g("snapResultSuccess")}return o.default.createElement(l.default,{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,height:c.BlockSize.Full,paddingTop:2,paddingBottom:2,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(u.AvatarIcon,{className:"snap-result__header__icon",iconName:u.IconName.Confirmation,size:u.AvatarIconSize.Xl,color:c.IconColor.successDefault,backgroundColor:c.BackgroundColor.successMuted}),o.default.createElement(u.Text,{fontWeight:c.FontWeight.Bold,textAlign:c.TextAlign.Center,variant:c.TextVariant.headingLg,paddingBottom:2,marginTop:4},n),o.default.createElement(u.Text,{textAlign:c.TextAlign.Center},g("snapResultSuccessDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},t)])))}(t.type,_),y&&function(e,n){let a,r;switch(e){case"wallet_installSnap":a=g("snapInstallationErrorTitle"),r=g("snapInstallationErrorDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},n)]);break;case"wallet_updateSnap":a=g("snapUpdateErrorTitle"),r=g("snapUpdateErrorDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},n)]);break;default:a=g("snapResultError")}return o.default.createElement(p.default,{error:t.error,title:a,description:r,iconName:u.IconName.Warning})}(t.type,_)),o.default.createElement(l.default,{className:"snap-result__footer",alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(i.PageContainerFooter,{hideCancel:!0,disabled:E,onSubmit:h,submitText:g("ok").toUpperCase()})))}y.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapResult:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/snap-result.js"}],[6804,{"./snap-update":6805},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-update"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/index.js"}],[6805,{"../../../../components/app/snaps/install-error/install-error":5382,"../../../../components/app/snaps/snap-authorship-header":5390,"../../../../components/app/snaps/snap-install-warning":5403,"../../../../components/app/snaps/update-snap-permission-list":5507,"../../../../components/component-library":5637,"../../../../components/ui/page-container":6061,"../../../../components/ui/pulse-loader/pulse-loader":6070,"../../../../helpers/constants/design-system":6152,"../../../../helpers/utils/util":6206,"../../../../hooks/useI18nContext":6278,"../../../../hooks/useScrollRequired":6297,"../../../../selectors":6959,"../util":6808,"prop-types":4257,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=b(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../../components/ui/page-container"),s=e("../../../../hooks/useI18nContext"),l=b(e("../../../../components/app/snaps/snap-install-warning")),c=e("../../../../helpers/constants/design-system"),u=b(e("../../../../components/app/snaps/update-snap-permission-list")),d=e("../util"),p=b(e("../../../../components/ui/pulse-loader/pulse-loader")),m=b(e("../../../../components/app/snaps/install-error/install-error")),f=b(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../components/component-library"),h=e("../../../../hooks/useScrollRequired"),y=e("../../../../selectors"),E=e("../../../../helpers/utils/util");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}function v({request:e,requestState:t,approveSnapUpdate:n,rejectSnapUpdate:a,targetSubjectMetadata:_}){const b=(0,s.useI18nContext)(),[v,T]=(0,o.useState)(!1),[x,k]=(0,o.useState)(!1),{isScrollable:C,hasScrolledToBottom:w,scrollToBottom:S,ref:O,onScroll:I}=(0,h.useScrollRequired)([t]),N=(0,r.useSelector)(y.getSnapsMetadata),A=(0,o.useCallback)(()=>a(e.metadata.id),[e,a]),M=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),{name:R}=(0,r.useSelector)(e=>(0,y.getSnapMetadata)(e,_.origin)),B=t.approvedPermissions??{},D=t.unusedPermissions??{},P=t.newPermissions??{},L=t.approvedConnections??{},F=t.unusedConnections??{},j=t.newConnections??{},{newVersion:W}=t,U=t.loading,z=!U&&t.error,$=(0,d.getSnapInstallWarnings)(P,b,R,(0,E.getSnapName)(N)),V=$.length>0;return o.default.createElement(g.Box,{className:"snap-update",display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,borderStyle:c.BorderStyle.none,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(f.default,{snapId:_.origin,onCancel:A}),o.default.createElement(g.Box,{ref:O,onScroll:I,className:"snap-update__content",style:{overflowY:"auto",flex:!U&&"1"},paddingLeft:4,paddingRight:4},!U&&!z&&o.default.createElement(g.Text,{paddingTop:4,paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:"center"},b("updateRequest")),U&&o.default.createElement(g.Box,{className:"snap-update__content__loader-container",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center},o.default.createElement(p.default,null)),z&&o.default.createElement(m.default,{iconName:g.IconName.Warning,error:t.error,title:b("snapUpdateErrorTitle"),description:b("snapUpdateErrorDescription",[o.default.createElement(g.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},R)])}),!z&&!U&&o.default.createElement(o.default.Fragment,null,o.default.createElement(g.Text,{className:"snap-update__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:c.TextAlign.Center},b("snapUpdateRequest",[o.default.createElement(g.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},R),o.default.createElement(g.Text,{as:"span",key:"3",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},W)])),o.default.createElement(g.Box,{display:c.Display.Flex,backgroundColor:c.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:c.BorderRadius.XL},o.default.createElement(u.default,{approvedPermissions:B,revokedPermissions:D,newPermissions:P,approvedConnections:L,revokedConnections:F,newConnections:j,targetSubjectMetadata:_,showAllPermissions:()=>{k(!0)}})),o.default.createElement(g.Box,{className:"snap-update__scroll-button-area"},!C||w||x?null:o.default.createElement(g.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-update-scroll",iconName:g.IconName.Arrow2Down,backgroundColor:c.BackgroundColor.infoDefault,color:c.IconColor.primaryInverse,onClick:S,style:{cursor:"pointer"}})))),o.default.createElement(g.Box,{className:"snap-update__footer",display:c.Display.Flex,alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(i.PageContainerFooter,{cancelButtonType:"default",hideCancel:z,disabled:U||!z&&C&&!w,onCancel:A,cancelText:b("cancel"),onSubmit:()=>{!z&&V?T(!0):z?A():M()},submitText:b(z?"ok":"confirm")})),v&&o.default.createElement(l.default,{onCancel:()=>T(!1),onSubmit:M,snapName:R,warnings:$}))}v.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapUpdate:a.default.func.isRequired,rejectSnapUpdate:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/snap-update.js"}],[6806,{"./snaps-connect":6807},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snaps-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/index.js"}],[6807,{"../../../../components/app/snaps/snap-connect-cell/snap-connect-cell":5394,"../../../../components/app/snaps/snap-icon":5401,"../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning":5418,"../../../../components/component-library":5637,"../../../../components/ui/page-container":6061,"../../../../components/ui/pulse-loader/pulse-loader":6070,"../../../../helpers/constants/design-system":6152,"../../../../helpers/utils/util":6206,"../../../../hooks/useI18nContext":6278,"../../../../hooks/useOriginMetadata":6293,"../../../../selectors":6959,"@metamask/snaps-utils":2245,"prop-types":4257,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=E(e("prop-types")),i=e("@metamask/snaps-utils"),s=e("../../../../hooks/useI18nContext"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/ui/page-container"),d=E(e("../../../../components/app/snaps/snap-connect-cell/snap-connect-cell")),p=e("../../../../helpers/utils/util"),m=E(e("../../../../components/ui/pulse-loader/pulse-loader")),f=E(e("../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning")),g=e("../../../../selectors"),h=e("../../../../hooks/useOriginMetadata"),y=e("../../../../components/app/snaps/snap-icon");function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function b({request:e,approveConnection:t,rejectConnection:n,targetSubjectMetadata:r,snapsInstallPrivacyWarningShown:E,setSnapsInstallPrivacyWarningShownStatus:_}){const b=(0,s.useI18nContext)(),{origin:v}=r,[T,x]=(0,a.useState)(!1),k=(0,o.useSelector)(t=>{var n;return(0,g.getPermissions)(t,null==e||null===(n=e.metadata)||void 0===n?void 0:n.origin)}),C=(0,o.useSelector)(g.getPreinstalledSnaps),w=(0,p.getDedupedSnaps)(e,k),S=w[0],{name:O}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,S)),I=Object.keys(C).includes(S),[N,A]=(0,a.useState)(!I&&!E),M=(0,a.useCallback)(()=>{n(e.metadata.id)},[e,n]),R=(0,a.useCallback)(()=>{try{x(!0),t(e)}finally{x(!1)}},[e,t]),B=()=>{var e;let t=null===(e=(0,h.useOriginMetadata)(v)||{})||void 0===e?void 0:e.hostname;const{name:n}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,(0,i.isSnapId)(v)?v:`npm:${v}`));return(0,i.isSnapId)(v)&&(t=n),T?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,width:c.BlockSize.Full,height:c.BlockSize.Full},a.default.createElement(m.default,null)):(null==w?void 0:w.length)>1?a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,paddingTop:4,width:c.BlockSize.Full,style:{overflowY:"hidden"},backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:c.TextAlign.Center},b("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center},b("multipleSnapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},null==w?void 0:w.length)])),a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,display:c.Display.Flex,marginTop:4,width:c.BlockSize.Full,style:{overflowY:"auto",flex:1}},w.map(e=>a.default.createElement(d.default,{key:`snaps-connect-${e}`,snapId:e,origin:t})))):1===(null==w?void 0:w.length)?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Box,{paddingBottom:2},a.default.createElement(y.SnapIcon,{snapId:w[0],avatarSize:l.IconSize.Xl})),a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:"center"},b("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,padding:[0,4],overflowWrap:c.OverflowWrap.Anywhere},b("snapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},O)]))):null};return a.default.createElement(l.Box,{className:"snaps-connect",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,height:c.BlockSize.Full,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundAlternative},N&&a.default.createElement(f.default,{onAccepted:()=>{A(!1),_(!0)},onCanceled:M}),a.default.createElement(l.Box,{display:c.Display.Flex,height:c.BlockSize.Full,width:c.BlockSize.Full,paddingLeft:4,paddingRight:4},a.default.createElement(B,null)),a.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",hideCancel:!1,disabled:T,onCancel:M,cancelText:b("cancel"),onSubmit:R,submitText:b("connect")}))}b.propTypes={request:r.default.object.isRequired,approveConnection:r.default.func.isRequired,rejectConnection:r.default.func.isRequired,targetSubjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,name:r.default.string,origin:r.default.string,subjectType:r.default.string}),snapsInstallPrivacyWarningShown:r.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:r.default.func}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.js"}],[6808,{"../../../helpers/utils/permission":6195},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapInstallWarnings=function(e,t,n,o){return Object.entries(e).reduce((e,[r,i])=>{const s=(0,a.getPermissionDescription)({t:t,permissionName:r,permissionValue:i,subjectName:n,getSubjectName:o});return e.concat(s.filter(e=>e.weight<=2))},[])};var a=e("../../../helpers/utils/permission")}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/util.js"}],[6809,{"./remove-snap-account":6810,"./snap-account-card":6811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a={RemoveSnapAccount:!0};Object.defineProperty(n,"RemoveSnapAccount",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./remove-snap-account"))&&o.__esModule?o:{default:o},i=e("./snap-account-card");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))})}}},{package:"$root$",file:"ui/pages/remove-snap-account/index.ts"}],[6810,{"../../components/app/snaps/snap-authorship-header":5390,"../../components/component-library":5637,"../../helpers/constants/design-system":6152,"../../hooks/useI18nContext":6278,"./snap-account-card":6811,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),o=e("../../components/component-library"),r=e("../../helpers/constants/design-system"),i=e("../../hooks/useI18nContext"),s=c(e("../../components/app/snaps/snap-authorship-header")),l=e("./snap-account-card");function c(e){return e&&e.__esModule?e:{default:e}}n.default=({snapId:e,publicAddress:t,onCancel:n})=>{const c=(0,i.useI18nContext)();return a.default.createElement(o.Box,{className:"remove-snap-account-page",height:r.BlockSize.Full,width:r.BlockSize.Full,display:r.Display.Flex,borderStyle:r.BorderStyle.none,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,marginBottom:0},a.default.createElement(s.default,{snapId:e,onCancel:n}),a.default.createElement(o.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,padding:4,width:r.BlockSize.Full,style:{flexGrow:1}},a.default.createElement(o.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,width:r.BlockSize.Full},a.default.createElement(o.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,width:r.BlockSize.Full},a.default.createElement(o.Box,{paddingBottom:2},a.default.createElement(o.AvatarIcon,{iconName:o.IconName.UserCircleRemove,color:r.IconColor.errorDefault,backgroundColor:r.BackgroundColor.errorMuted,size:o.AvatarIconSize.Xl})),a.default.createElement(o.Text,{textAlign:r.TextAlign.Center,variant:r.TextVariant.headingLg,paddingBottom:2},c("removeSnapAccountTitle")),a.default.createElement(l.SnapAccountCard,{address:t,remove:!0}),a.default.createElement(o.Text,{variant:r.TextVariant.bodyMd,textAlign:r.TextAlign.Center,overflowWrap:r.OverflowWrap.Anywhere},c("removeSnapAccountDescription"))))))}}}},{package:"$root$",file:"ui/pages/remove-snap-account/remove-snap-account.tsx"}],[6811,{"../../components/component-library":5637,"../../components/multichain/account-list-item":5734,"../../helpers/constants/design-system":6152,"../../selectors":6959,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapAccountCard=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("../../selectors"),s=e("../../helpers/constants/design-system"),l=e("../../components/component-library"),c=e("../../components/multichain/account-list-item");n.SnapAccountCard=({address:e,remove:t})=>{const n=(0,r.useSelector)(i.getMetaMaskAccountsOrdered).find(t=>t.address===e);return o.default.createElement(l.Box,{className:t?"snap-account-card-remove":"snap-account-card",borderRadius:s.BorderRadius.LG,marginTop:4,marginBottom:4,width:s.BlockSize.Full,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},o.default.createElement(c.AccountListItem,{account:n,selected:t||!1}))}}}},{package:"$root$",file:"ui/pages/remove-snap-account/snap-account-card.tsx"}],[6812,{"./routes.component":6813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./routes.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/routes/index.js"}],[6813,{"../../../app/scripts/lib/util":220,"../../../shared/constants/app":4975,"../../../shared/constants/preferences":4997,"../../../shared/lib/confirmation.utils":5022,"../../../shared/modules/selectors/networks":5100,"../../components/app/alerts":5127,"../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal":5159,"../../components/app/assets/nfts/nft-details/nft-full-image.tsx":5164,"../../components/app/basic-configuration-modal":5192,"../../components/app/loading-network-screen":5269,"../../components/app/modals":5306,"../../components/app/modals/keyring-snap-removal-modal":5307,"../../components/app/qr-hardware-popover":5370,"../../components/app/toast-master/toast-master":5528,"../../components/component-library":5637,"../../components/multichain":5837,"../../components/multichain-accounts/multichain-account-list-menu":5713,"../../components/multichain/app-header/multichain-meta-fox-logo":5762,"../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover":5859,"../../components/multichain/pages/connections/index.js":5924,"../../components/multichain/pages/permissions-page/permissions-page.js":5934,"../../components/multichain/pages/review-permissions-page/review-permissions-page.tsx":5935,"../../components/multichain/pages/send/index.js":5955,"../../components/ui/alert":5980,"../../components/ui/deprecated-networks/deprecated-networks":6005,"../../components/ui/loading-screen":6043,"../../ducks/history/history":6136,"../../ducks/metamask/metamask":6139,"../../helpers/constants/routes":6157,"../../helpers/higher-order-components/authenticated":6167,"../../helpers/higher-order-components/initialized":6169,"../../helpers/utils/mm-lazy":6191,"../../hooks/useI18nContext":6278,"../../selectors":6959,"../../selectors/multi-srp/multi-srp":6962,"../../store/actions":6981,"../../store/store":6985,"../asset/index.js":6334,"../bridge/index.tsx":6343,"../bridge/transaction-details/transaction-details":6368,"../confirm-add-suggested-nft/index.js":6375,"../confirm-add-suggested-token/index.js":6377,"../confirmations/components/confirm/smart-account-update":6509,"../confirmations/confirm-transaction/index.js":6576,"../confirmations/confirmation/index.js":6588,"../create-account/create-account.component.js":6695,"../deep-link/deep-link.tsx":6698,"../defi/index.ts":6701,"../home/index.js":6705,"../keychains/restore-vault.js":6707,"../keychains/reveal-seed.js":6708,"../lock/index.js":6709,"../multi-srp/import-srp/index.ts":6713,"../multichain-accounts/account-details":6718,"../multichain-accounts/account-list":6724,"../multichain-accounts/address-qr-code":6726,"../multichain-accounts/wallet-details/index.ts":6728,"../nonevm-balance-check/index.tsx":6730,"../notification-details/index.js":6731,"../notifications-settings/index.js":6737,"../notifications/index.js":6743,"../onboarding-flow/onboarding-flow.js":6774,"../permissions-connect":6795,"../settings/deprecated-network-modal/DeprecatedNetworkModal":6834,"../settings/index.js":6843,"../snaps/snap-view/index.js":6881,"../snaps/snaps-list/index.js":6884,"../swaps/index.js":6904,"../unlock-page/index.js":6943,"./utils":6814,classnames:3351,react:4439,"react-idle-timer":4356,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,r.useDispatch)(),n=(0,i.useHistory)(),W=(0,i.useLocation)(),H=(0,l.useAppSelector)(e=>e.appState.alertOpen),K=(0,l.useAppSelector)(e=>e.appState.alertMessage),Y=(0,l.useAppSelector)(e=>e.appState.isLoading),Se=(0,l.useAppSelector)(e=>e.appState.loadingMessage),{autoLockTimeLimit:Oe=C.DEFAULT_AUTO_LOCK_TIME_LIMIT,privacyMode:Ie}=(0,l.useAppSelector)(b.getPreferences),Ne=(0,l.useAppSelector)(x.getCompletedOnboarding),Ae=(0,l.useAppSelector)(b.getSelectedInternalAccount),Me=(0,l.useAppSelector)(_.isNetworkLoading),Re=(0,l.useAppSelector)(b.getNetworkToAutomaticallySwitchTo),Be=(0,l.useAppSelector)(b.oldestPendingConfirmationSelector),De=(0,l.useAppSelector)(b.getPendingApprovals),Pe=(0,l.useAppSelector)(b.getUnapprovedTransactions),Le=(0,l.useAppSelector)(e=>(0,w.getShouldShowSeedPhraseReminder)(e,Ae)),Fe=(0,l.useAppSelector)(e=>e.metamask.textDirection),je=(0,l.useAppSelector)(x.getIsUnlocked),We=(0,l.useAppSelector)(e=>e.metamask.currentCurrency),Ue=(0,l.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.os}),ze=(0,l.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.browser}),$e=(0,l.useAppSelector)(b.getNetworkIdentifier),{type:Ve}=(0,l.useAppSelector)(_.getProviderConfig),Ge=(0,l.useAppSelector)(b.getTheme),qe=(0,l.useAppSelector)(b.getShowExtensionInFullSizeView),Je=(0,l.useAppSelector)(e=>e.metamask.forgottenPassword),He=(0,l.useAppSelector)(e=>e.appState.isAccountMenuOpen),Ke=(0,l.useAppSelector)(e=>e.appState.isNetworkMenuOpen),Ye=(0,l.useAppSelector)(e=>e.appState.importTokensModalOpen),Xe=(0,l.useAppSelector)(e=>e.appState.showBasicFunctionalityModal),Qe=(0,l.useAppSelector)(e=>e.appState.deprecatedNetworkModalOpen),Ze=(0,l.useAppSelector)(e=>e.appState.accountDetailsAddress),et=(0,l.useAppSelector)(e=>e.appState.importNftsModal.open),tt=(0,l.useAppSelector)(e=>e.appState.showIpfsModalOpen),nt=(0,l.useAppSelector)(b.getNumberOfAllUnapprovedTransactionsAndMessages),at=(0,l.useAppSelector)(e=>e.metamask.currentExtensionPopupId),ot=(0,l.useAppSelector)(e=>e.appState.showKeyringRemovalSnapModal),rt=(0,l.useAppSelector)(b.getUnapprovedConfirmations),it=(0,l.useAppSelector)(b.getIsMultichainAccountsState1Enabled),st=(0,o.useRef)({isUnlocked:je,totalUnapprovedConfirmationCount:nt});(0,o.useEffect)(()=>{const e=st.current;Re&&0===nt&&(e.totalUnapprovedConfirmationCount>0||!1===e.isUnlocked&&je)&&t((0,v.automaticallySwitchNetwork)(Re)),st.current={isUnlocked:je,totalUnapprovedConfirmationCount:nt}},[Re,je,nt,t]),(0,o.useEffect)(()=>{at!==undefined&&"metamask"in global&&"object"==typeof global.metamask&&global.metamask&&"id"in global.metamask&&global.metamask.id!==undefined&&at!==global.metamask.id&&window.close()},[at]),(0,o.useEffect)(()=>{const e=(0,O.getEnvironmentType)(),{openExtensionInBrowser:t}=globalThis.platform??{};qe&&e===S.ENVIRONMENT_TYPE_POPUP&&t&&t()},[qe]),(0,o.useEffect)(()=>{const e=n.listen((e,n)=>{"PUSH"===n&&t((0,T.pageChanged)(e.pathname))});return()=>{e()}},[n,t]),(0,o.useEffect)(()=>{(0,J.setTheme)(Ge)},[Ge]),(0,o.useEffect)(()=>{We||t((0,v.setCurrentCurrency)("usd"))},[We,t]);const lt=(0,o.useCallback)(()=>{const e=Je?i.Route:u.default,n=o.default.createElement(o.Suspense,{fallback:null},o.default.createElement(i.Switch,null,o.default.createElement(i.Route,{path:E.ONBOARDING_ROUTE,component:X}),o.default.createElement(i.Route,{path:E.LOCK_ROUTE,component:Q,exact:!0}),o.default.createElement(u.default,{path:E.UNLOCK_ROUTE,component:Z,exact:!0}),o.default.createElement(i.Route,{path:E.DEEP_LINK_ROUTE,component:ke}),o.default.createElement(e,{path:E.RESTORE_VAULT_ROUTE,component:ee,exact:!0}),o.default.createElement(c.default,{path:E.SMART_ACCOUNT_UPDATE,component:$.SmartAccountUpdate}),o.default.createElement(c.default,{path:`${E.REVEAL_SEED_ROUTE}/:keyringId?`,component:ne}),o.default.createElement(c.default,{path:E.IMPORT_SRP_ROUTE,component:te}),o.default.createElement(c.default,{path:E.SETTINGS_ROUTE,component:ae}),o.default.createElement(c.default,{path:E.NOTIFICATIONS_SETTINGS_ROUTE,component:oe}),o.default.createElement(c.default,{path:`${E.NOTIFICATIONS_ROUTE}/:uuid`,component:re}),o.default.createElement(c.default,{path:E.NOTIFICATIONS_ROUTE,component:ie}),o.default.createElement(c.default,{path:E.SNAPS_ROUTE,component:se,exact:!0}),o.default.createElement(c.default,{path:E.SNAPS_VIEW_ROUTE,component:le}),o.default.createElement(c.default,{path:`${E.CONFIRM_TRANSACTION_ROUTE}/:id?`,component:ce}),o.default.createElement(c.default,{path:E.SEND_ROUTE,component:ue,exact:!0}),o.default.createElement(c.default,{path:E.SWAPS_ROUTE,component:de}),o.default.createElement(c.default,{path:`${E.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/:srcTxMetaId`,component:U.default,exact:!0}),o.default.createElement(c.default,{path:E.CROSS_CHAIN_SWAP_ROUTE,component:pe}),o.default.createElement(c.default,{path:E.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,component:me,exact:!0}),o.default.createElement(c.default,{path:E.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,component:fe,exact:!0}),o.default.createElement(c.default,{path:`${E.CONFIRMATION_V_NEXT_ROUTE}/:id?`,component:ge}),o.default.createElement(c.default,{path:E.NEW_ACCOUNT_ROUTE,component:he}),o.default.createElement(c.default,{path:`${E.CONNECT_ROUTE}/:id`,component:d.default}),o.default.createElement(c.default,{path:`${E.ASSET_ROUTE}/image/:asset/:id`,component:ye}),o.default.createElement(c.default,{path:`${E.ASSET_ROUTE}/:chainId/:asset/:id`,component:Ee}),o.default.createElement(c.default,{path:`${E.ASSET_ROUTE}/:chainId/:asset/`,component:Ee}),o.default.createElement(c.default,{path:`${E.ASSET_ROUTE}/:chainId`,component:Ee}),o.default.createElement(c.default,{path:`${E.DEFI_ROUTE}/:chainId/:protocolId`,component:_e}),o.default.createElement(c.default,{path:`${E.CONNECTIONS}/:origin`,component:ve}),o.default.createElement(c.default,{path:E.PERMISSIONS,component:be,exact:!0}),o.default.createElement(c.default,{path:`${E.REVIEW_PERMISSIONS}/:origin`,component:Te,exact:!0}),o.default.createElement(c.default,{path:E.ACCOUNT_LIST_PAGE_ROUTE,component:q.AccountList,exact:!0}),o.default.createElement(c.default,{path:E.WALLET_DETAILS_ROUTE,component:Ce,exact:!0}),o.default.createElement(c.default,{path:`${E.ACCOUNT_DETAILS_ROUTE}/:address`,component:V.MultichainAccountDetails,exact:!0}),o.default.createElement(c.default,{path:`${E.ACCOUNT_DETAILS_QR_CODE_ROUTE}/:address`,component:G.AddressQRCode,exact:!0}),o.default.createElement(c.default,{path:E.NONEVM_BALANCE_CHECK_ROUTE,component:we}),o.default.createElement(c.default,{path:E.DEFAULT_ROUTE,component:xe})));return Oe>0?o.default.createElement(s.default,{onAction:()=>t((0,v.setLastActiveTime)()),throttle:1e3},n):n},[Oe,Je,t]),ct=(0,k.useI18nContext)(),ut=Se||Me?(0,J.getConnectingLabel)(Se,{providerType:Ve,providerId:$e},{t:ct}):null,dt=(0,O.getEnvironmentType)()!==S.ENVIRONMENT_TYPE_NOTIFICATION&&je&&!Le,pt=W.pathname.split("/confirm-transaction/")[1]??(null==Be?void 0:Be.id),mt=De.find(e=>e.id===pt),ft=(0,z.isCorrectSignatureApprovalType)(null==mt?void 0:mt.type),gt=(0,z.isCorrectDeveloperTransactionType)(null===(e=Pe[pt])||void 0===e?void 0:e.type),ht=W.pathname===E.DEEP_LINK_ROUTE,yt=Y&&Ne&&!rt.some(e=>e.type===S.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect)&&!ft&&!gt&&!ht,Et=it?o.default.createElement(D.MultichainAccountListMenu,{onClose:()=>t((0,v.toggleAccountMenu)()),privacyMode:Ie}):o.default.createElement(h.AccountListMenu,{onClose:()=>t((0,v.toggleAccountMenu)()),privacyMode:Ie});return o.default.createElement("div",{className:(0,a.default)("app",{[`os-${Ue}`]:Boolean(Ue),[`browser-${ze}`]:Boolean(ze)}),dir:Fe},dt?o.default.createElement(N.default,null):null,o.default.createElement(I.default,null),o.default.createElement(f.Modal,null),o.default.createElement(g.default,{visible:H,msg:K}),(0,J.showAppHeader)({location:W})&&o.default.createElement(h.AppHeader,{location:W}),(0,J.isConfirmTransactionRoute)(W.pathname)&&o.default.createElement(L.MultichainMetaFoxLogo,null),He?Et:null,Ke?o.default.createElement(h.NetworkListMenu,{onClose:()=>{t((0,v.toggleNetworkMenu)()),t((0,v.setEditedNetwork)())}}):null,o.default.createElement(F.default,null),!Ze||it?null:o.default.createElement(h.AccountDetails,{address:Ze}),et?o.default.createElement(h.ImportNftsModal,{onClose:()=>t((0,v.hideImportNftsModal)())}):null,tt?o.default.createElement(M.ToggleIpfsModal,{onClose:()=>t((0,v.hideIpfsModal)())}):null,Xe?o.default.createElement(R.BasicConfigurationModal,null):null,Ye?o.default.createElement(h.ImportTokensModal,{onClose:()=>t((0,v.hideImportTokensModal)())}):null,Qe?o.default.createElement(P.DeprecatedNetworkModal,{onClose:()=>t((0,v.hideDeprecatedNetworkModal)())}):null,ot&&o.default.createElement(B.default,{isOpen:ot,onClose:()=>t((0,v.hideKeyringRemovalResultModal)())}),o.default.createElement(A.Box,{className:"main-container-wrapper"},yt?o.default.createElement(p.default,{loadingMessage:ut}):null,!Y&&je&&Me&&Ne&&!ht?o.default.createElement(m.default,null):null,lt()),je?o.default.createElement(y.default,{history:n}):null,o.default.createElement(j.ToastMaster,null))};var a=H(e("classnames")),o=Y(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=H(e("react-idle-timer")),l=e("../../store/store"),c=H(e("../../helpers/higher-order-components/authenticated")),u=H(e("../../helpers/higher-order-components/initialized")),d=H(e("../permissions-connect")),p=H(e("../../components/ui/loading-screen")),m=H(e("../../components/app/loading-network-screen")),f=e("../../components/app/modals"),g=H(e("../../components/ui/alert")),h=e("../../components/multichain"),y=H(e("../../components/app/alerts")),E=e("../../helpers/constants/routes"),_=e("../../../shared/modules/selectors/networks"),b=e("../../selectors"),v=e("../../store/actions"),T=e("../../ducks/history/history"),x=e("../../ducks/metamask/metamask"),k=e("../../hooks/useI18nContext"),C=e("../../../shared/constants/preferences"),w=e("../../selectors/multi-srp/multi-srp"),S=e("../../../shared/constants/app"),O=e("../../../app/scripts/lib/util"),I=H(e("../../components/app/qr-hardware-popover")),N=H(e("../../components/ui/deprecated-networks/deprecated-networks")),A=e("../../components/component-library"),M=e("../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal"),R=e("../../components/app/basic-configuration-modal"),B=H(e("../../components/app/modals/keyring-snap-removal-modal")),D=e("../../components/multichain-accounts/multichain-account-list-menu"),P=e("../settings/deprecated-network-modal/DeprecatedNetworkModal"),L=e("../../components/multichain/app-header/multichain-meta-fox-logo"),F=H(e("../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover")),j=e("../../components/app/toast-master/toast-master"),W=e("../../helpers/utils/mm-lazy"),U=H(e("../bridge/transaction-details/transaction-details")),z=e("../../../shared/lib/confirmation.utils"),$=e("../confirmations/components/confirm/smart-account-update"),V=e("../multichain-accounts/account-details"),G=e("../multichain-accounts/address-qr-code"),q=e("../multichain-accounts/account-list"),J=e("./utils");function H(e){return e&&e.__esModule?e:{default:e}}function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const X=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../onboarding-flow/onboarding-flow.js")))),Q=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../lock/index.js")))),Z=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../unlock-page/index.js")))),ee=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../keychains/restore-vault.js")))),te=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../multi-srp/import-srp/index.ts")))),ne=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../keychains/reveal-seed.js")))),ae=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../settings/index.js")))),oe=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../notifications-settings/index.js")))),re=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../notification-details/index.js")))),ie=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../notifications/index.js")))),se=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../snaps/snaps-list/index.js")))),le=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../snaps/snap-view/index.js")))),ce=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../confirmations/confirm-transaction/index.js")))),ue=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../../components/multichain/pages/send/index.js")))),de=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../swaps/index.js")))),pe=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../bridge/index.tsx")))),me=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../confirm-add-suggested-token/index.js")))),fe=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../confirm-add-suggested-nft/index.js")))),ge=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../confirmations/confirmation/index.js")))),he=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../create-account/create-account.component.js")))),ye=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../../components/app/assets/nfts/nft-details/nft-full-image.tsx")))),Ee=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../asset/index.js")))),_e=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../defi/index.ts")))),be=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../../components/multichain/pages/permissions-page/permissions-page.js")))),ve=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../../components/multichain/pages/connections/index.js")))),Te=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../../components/multichain/pages/review-permissions-page/review-permissions-page.tsx")))),xe=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../home/index.js")))),ke=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../deep-link/deep-link.tsx")))),Ce=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../multichain-accounts/wallet-details/index.ts")))),we=(0,W.mmLazy)(()=>Promise.resolve().then(()=>Y(e("../nonevm-balance-check/index.tsx"))))}}},{package:"$root$",file:"ui/pages/routes/routes.component.tsx"}],[6814,{"../../../app/scripts/lib/util":220,"../../../shared/constants/app":4975,"../../../shared/constants/network":4992,"../../../shared/constants/preferences":4997,"../../helpers/constants/routes":6157,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getConnectingLabel=function(e,t,n){if(e)return e;const{providerType:a,providerId:o}=t,{t:r}=n;switch(a){case i.NETWORK_TYPES.MAINNET:return r("connectingToMainnet");case i.NETWORK_TYPES.GOERLI:return r("connectingToGoerli");case i.NETWORK_TYPES.SEPOLIA:return r("connectingToSepolia");case i.NETWORK_TYPES.LINEA_GOERLI:return r("connectingToLineaGoerli");case i.NETWORK_TYPES.LINEA_SEPOLIA:return r("connectingToLineaSepolia");case i.NETWORK_TYPES.LINEA_MAINNET:return r("connectingToLineaMainnet");default:return r("connectingTo",[o])}},n.hideAppHeader=function(e){const{location:t}=e;if(Boolean((0,a.matchPath)(t.pathname,{path:`${l.NOTIFICATIONS_ROUTE}`,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.DEEP_LINK_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.ONBOARDING_ROUTE,exact:!1})))return!0;const n=(0,o.getEnvironmentType)();if(n===r.ENVIRONMENT_TYPE_NOTIFICATION)return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.PERMISSIONS,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.CONNECTIONS,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.REVIEW_PERMISSIONS,exact:!1})))return!0;if(n===r.ENVIRONMENT_TYPE_POPUP&&function(e){const{location:t}=e;return Boolean((0,a.matchPath)(t.pathname,{path:l.CONFIRM_TRANSACTION_ROUTE,exact:!1}))}(e))return!0;const i=Boolean((0,a.matchPath)(t.pathname,{path:l.CONNECT_ROUTE,exact:!1}));if(Boolean((0,a.matchPath)(t.pathname,{path:l.SEND_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.WALLET_DETAILS_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.SNAPS_VIEW_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:`${l.CROSS_CHAIN_SWAP_ROUTE}`,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.ASSET_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.ACCOUNT_DETAILS_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.ACCOUNT_DETAILS_QR_CODE_ROUTE,exact:!1})))return!0;const s=Boolean((0,a.matchPath)(t.pathname,{path:l.CONFIRMATION_V_NEXT_ROUTE,exact:!1})),u=Boolean((0,a.matchPath)(t.pathname,{path:l.IMPORT_SRP_ROUTE,exact:!1}));return i||s||c(t.pathname)||u},n.isConfirmTransactionRoute=c,n.setTheme=function(e){document.documentElement.setAttribute("data-theme",function(e){if(e===s.ThemeType.os){var t;return null!==(t=window)&&void 0!==t&&null!==(t=t.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?s.ThemeType.dark:s.ThemeType.light}return e}(e))},n.showAppHeader=function(e){const{location:t}=e;return Boolean((0,a.matchPath)(t.pathname,{path:l.DEFAULT_ROUTE,exact:!0}))};var a=e("react-router-dom"),o=e("../../../app/scripts/lib/util"),r=e("../../../shared/constants/app"),i=e("../../../shared/constants/network"),s=e("../../../shared/constants/preferences"),l=e("../../helpers/constants/routes");function c(e){return Boolean((0,a.matchPath)(e,{path:l.CONFIRM_TRANSACTION_ROUTE,exact:!1}))}}}},{package:"$root$",file:"ui/pages/routes/utils.js"}],[6815,{"../../../../shared/constants/metametrics":4989,"../../../../shared/constants/preferences":4997,"../../../../shared/constants/smartTransactions":5001,"../../../components/component-library":5637,"../../../components/ui/button":5986,"../../../components/ui/text-field":6088,"../../../components/ui/toggle-button":6092,"../../../helpers/constants/design-system":6152,"../../../helpers/utils/export-utils":6182,"../../../helpers/utils/settings-search":6198,"prop-types":4257,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../shared/constants/metametrics"),i=e("../../../../shared/constants/preferences"),s=e("../../../../shared/constants/smartTransactions"),l=e("../../../components/component-library"),c=h(e("../../../components/ui/button")),u=h(e("../../../components/ui/text-field")),d=h(e("../../../components/ui/toggle-button")),p=e("../../../helpers/constants/design-system"),m=e("../../../helpers/utils/export-utils"),f=e("../../../helpers/utils/settings-search");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends o.PureComponent{constructor(...e){super(...e),y(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,autoLockTimeLimitBeforeNormalization:this.props.autoLockTimeLimit,lockTimeError:""}),y(this,"settingsRefs",Array((0,f.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("advanced"))).fill(undefined).map(()=>o.default.createRef())),y(this,"backupUserData",async()=>{const{fileName:e,data:t}=await this.props.backupUserData();(0,m.exportAsFile)(e,t,m.ExportableContentType.JSON),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})})}componentDidUpdate(){const{t:e}=this.context;(0,f.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context,{hideErrorInSettings:t}=this.props;(0,f.handleSettingsRefs)(e,e("advanced"),this.settingsRefs),t()}async getTextFromFile(e){return new Promise((t,n)=>{const a=new window.FileReader;a.onload=e=>{const n=e.target.result;t(n)},a.onerror=e=>{n(e)},a.readAsText(e)})}renderStateLogs(){const{t:e}=this.context,{displayErrorInSettings:t}=this.props;return o.default.createElement(l.Box,{className:"settings-page__content-row",display:p.Display.Flex,flexDirection:p.FlexDirection.Column,ref:this.settingsRefs[0],"data-testid":"advanced-setting-state-logs"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("stateLogs")),o.default.createElement("span",{className:"settings-page__content-description"},e("stateLogsDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.default,{type:"secondary",large:!0,"data-testid":"advanced-setting-state-logs-button",onClick:()=>{window.logStateString(async(n,a)=>{if(n)t(e("stateLogError"));else try{await(0,m.exportAsFile)(`${e("stateLogFileName")}.json`,a,m.ExportableContentType.JSON)}catch(e){t(e.message)}})}},e("downloadStateLogs")))))}renderResetAccount(){const{t:e}=this.context,{showResetAccountConfirmationModal:t}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:p.Display.Flex,flexDirection:p.FlexDirection.Column,"data-testid":"advanced-setting-reset-account"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("clearActivity")),o.default.createElement("span",{className:"settings-page__content-description"},e("clearActivityDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.default,{type:"danger",large:!0,className:"settings-tab__button--red",onClick:e=>{e.preventDefault(),this.context.trackEvent({category:r.MetaMetricsEventCategory.Settings,event:r.MetaMetricsEventName.AccountReset,properties:{}}),t()}},e("clearActivityButton")))))}renderToggleSmartAccountOptIn(){const{t:e}=this.context,{smartAccountOptIn:t,setSmartAccountOptIn:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:p.TextVariant.bodyMd,alignItems:p.AlignItems.flexStart},as:"a",href:s.SMART_ACCOUNT_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"advanced-setting-smart-account-optin",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("useSmartAccountTitle")),o.default.createElement("div",{className:"settings-page__content-description"},`${e("useSmartAccountDescription")} `,a)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-smart-account-optin"})))}renderToggleDismissSmartAccountSuggestion(){const{t:e}=this.context,{dismissSmartAccountSuggestionEnabled:t,setDismissSmartAccountSuggestionEnabled:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-smart-account-suggestion-enabled",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("dismissSmartAccountSuggestionEnabledTitle")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissSmartAccountSuggestionEnabledDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-dismiss-smart-account-suggestion-enabled-toggle"})))}renderToggleStxOptIn(){const{t:e}=this.context,{smartTransactionsEnabled:t,setSmartTransactionsEnabled:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:p.TextVariant.bodyMd,alignItems:p.AlignItems.flexStart},as:"a",href:s.SMART_TRANSACTIONS_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-enable-smart-transactions",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("smartTransactions")),o.default.createElement("div",{className:"settings-page__content-description"},e("stxOptInSupportedNetworksDescription",[a]))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-stx-opt-in-toggle"})))}renderHexDataOptIn(){const{t:e}=this.context,{sendHexData:t,setHexDataFeatureFlag:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-hex-data"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showHexData")),o.default.createElement("div",{className:"settings-page__content-description"},e("showHexDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"hex-data-toggle"})))}renderShowConversionInTestnets(){const{t:e}=this.context,{showFiatInTestnets:t,setShowFiatConversionOnTestnetsPreference:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[6],className:"settings-page__content-row",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-show-testnet-conversion"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showFiatConversionInTestnets")),o.default.createElement("div",{className:"settings-page__content-description"},e("showFiatConversionInTestnetsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"show-fiat-on-testnets-toggle"})))}renderToggleTestNetworks(){const{t:e}=this.context,{showTestNetworks:t,setShowTestNetworks:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showTestnetNetworks")),o.default.createElement("div",{className:"settings-page__content-description"},e("showTestnetNetworksDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderToggleExtensionInFullSizeView(){const{t:e}=this.context,{showExtensionInFullSizeView:t,setShowExtensionInFullSizeView:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-show-extension-in-full-size-view",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showExtensionInFullSizeView")),o.default.createElement("div",{className:"settings-page__content-description"},e("showExtensionInFullSizeViewDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderAutoLockTimeLimit(){const{t:e}=this.context,{lockTimeError:t}=this.state,{setAutoLockTimeLimit:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock",display:p.Display.Flex,flexDirection:p.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("autoLockTimeLimit")),o.default.createElement("div",{className:"settings-page__content-description"},e("autoLockTimeLimitDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"0",value:this.state.autoLockTimeLimitBeforeNormalization,onChange:e=>this.handleLockChange(e.target.value),error:t,fullWidth:!0,margin:"dense",min:0}),o.default.createElement(c.default,{type:"primary","data-testid":"auto-lockout-button",className:"settings-tab__rpc-save-button",disabled:""!==t,onClick:()=>{n(this.state.autoLockTimeLimit)}},e("save")))))}renderDismissSeedBackupReminderControl(){const{t:e}=this.context,{dismissSeedBackUpReminder:t,setDismissSeedBackUpReminder:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("dismissReminderField")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissReminderDescriptionField"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}handleLockChange(e){const{t:t}=this.context;if(""===e)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:i.DEFAULT_AUTO_LOCK_TIME_LIMIT,lockTimeError:""});const n=Number(e);if(Number.isNaN(n)||n<0||n>10080)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:null,lockTimeError:t("lockTimeInvalid")});const a=n;this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:a,lockTimeError:""})}renderUserDataBackup(){const{t:e}=this.context;return o.default.createElement(l.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup",display:p.Display.Flex,flexDirection:p.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("exportYourData")),o.default.createElement("span",{className:"settings-page__content-description"},e("exportYourDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.default,{"data-testid":"export-data-button",type:"secondary",large:!0,onClick:this.backupUserData},e("exportYourDataButton")))))}renderManageInstitutionalWallets(){const{t:e}=this.context,{manageInstitutionalWallets:t,setManageInstitutionalWallets:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("manageInstitutionalWallets")),o.default.createElement("div",{className:"settings-page__content-description"},e("manageInstitutionalWalletsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}render(){const{errorInSettings:e}=this.props;return o.default.createElement("div",{className:"settings-page__body"},e?o.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderStateLogs(),this.renderResetAccount(),this.renderToggleSmartAccountOptIn(),this.renderToggleDismissSmartAccountSuggestion(),this.renderToggleStxOptIn(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderManageInstitutionalWallets(),this.renderToggleExtensionInFullSizeView(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderDismissSeedBackupReminderControl())}}n.default=E,y(E,"contextTypes",{t:a.default.func,trackEvent:a.default.func}),y(E,"propTypes",{setHexDataFeatureFlag:a.default.func,displayErrorInSettings:a.default.func,hideErrorInSettings:a.default.func,showResetAccountConfirmationModal:a.default.func,errorInSettings:a.default.string,sendHexData:a.default.bool,showFiatInTestnets:a.default.bool,showTestNetworks:a.default.bool,smartTransactionsEnabled:a.default.bool,autoLockTimeLimit:a.default.number,setAutoLockTimeLimit:a.default.func.isRequired,setShowFiatConversionOnTestnetsPreference:a.default.func.isRequired,setShowTestNetworks:a.default.func.isRequired,setSmartTransactionsEnabled:a.default.func.isRequired,setDismissSeedBackUpReminder:a.default.func.isRequired,dismissSeedBackUpReminder:a.default.bool.isRequired,backupUserData:a.default.func.isRequired,showExtensionInFullSizeView:a.default.bool,setShowExtensionInFullSizeView:a.default.func.isRequired,manageInstitutionalWallets:a.default.bool,setManageInstitutionalWallets:a.default.func.isRequired,dismissSmartAccountSuggestionEnabled:a.default.bool.isRequired,setDismissSmartAccountSuggestionEnabled:a.default.func.isRequired,smartAccountOptIn:a.default.bool.isRequired,setSmartAccountOptIn:a.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.component.js"}],[6816,{"../../../../shared/constants/preferences":4997,"../../../../shared/modules/selectors":5099,"../../../ducks/app/app":6124,"../../../selectors":6959,"../../../store/actions":6981,"./advanced-tab.component":6815,"react-redux":4385,"react-router-dom":4409,redux:4457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapStateToProps=n.mapDispatchToProps=n.default=void 0;var a,o=e("react-redux"),r=e("react-router-dom"),i=e("redux"),s=e("../../../../shared/constants/preferences"),l=e("../../../selectors"),c=e("../../../store/actions"),u=e("../../../../shared/modules/selectors"),d=e("../../../ducks/app/app"),p=(a=e("./advanced-tab.component"))&&a.__esModule?a:{default:a};const m=e=>{const{appState:{errorInSettings:t},metamask:n}=e,{featureFlags:{sendHexData:a}={},dismissSeedBackUpReminder:o,manageInstitutionalWallets:r}=n,{showFiatInTestnets:i,showTestNetworks:c,showExtensionInFullSizeView:d,autoLockTimeLimit:p=s.DEFAULT_AUTO_LOCK_TIME_LIMIT,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}=(0,l.getPreferences)(e);return{errorInSettings:t,sendHexData:a,showFiatInTestnets:i,showTestNetworks:c,showExtensionInFullSizeView:d,smartTransactionsEnabled:(0,u.getSmartTransactionsPreferenceEnabled)(e),autoLockTimeLimit:p,dismissSeedBackUpReminder:o,manageInstitutionalWallets:r,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}};n.mapStateToProps=m;const f=e=>({backupUserData:()=>(0,c.backupUserData)(),setHexDataFeatureFlag:t=>e((0,c.setFeatureFlag)("sendHexData",t)),displayErrorInSettings:t=>e((0,d.displayErrorInSettings)(t)),hideErrorInSettings:()=>e((0,d.hideErrorInSettings)()),showResetAccountConfirmationModal:()=>e((0,c.showModal)({name:"CONFIRM_RESET_ACCOUNT"})),setShowFiatConversionOnTestnetsPreference:t=>e((0,c.setShowFiatConversionOnTestnetsPreference)(t)),setShowTestNetworks:t=>e((0,c.setShowTestNetworks)(t)),setShowExtensionInFullSizeView:t=>e((0,c.setShowExtensionInFullSizeView)(t)),setSmartTransactionsEnabled:t=>e((0,c.setSmartTransactionsPreferenceEnabled)(t)),setAutoLockTimeLimit:t=>e((0,c.setAutoLockTimeLimit)(t)),setDismissSeedBackUpReminder:t=>e((0,c.setDismissSeedBackUpReminder)(t)),setManageInstitutionalWallets:t=>e((0,c.setManageInstitutionalWallets)(t)),setDismissSmartAccountSuggestionEnabled:t=>e((0,c.setDismissSmartAccountSuggestionEnabled)(t)),setSmartAccountOptIn:t=>e((0,c.setSmartAccountOptIn)(t))});n.mapDispatchToProps=f;n.default=(0,i.compose)(r.withRouter,(0,o.connect)(m,f))(p.default)}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.container.js"}],[6817,{"./advanced-tab.container":6816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/index.js"}],[6818,{"../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles":5256,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":5257,"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../helpers/utils/settings-search":6198,"prop-types":4257,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../helpers/utils/settings-search"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles"),u=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,i.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("backupAndSync"))).fill(undefined).map(()=>o.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}render(){return o.default.createElement("div",{className:"settings-page__body"},o.default.createElement(u.BackupAndSyncToggle,null),o.default.createElement(l.Box,{borderColor:s.BorderColor.borderMuted,width:s.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(c.BackupAndSyncFeaturesToggles,null))}}n.default=m,p(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.component.tsx"}],[6819,{"./backup-and-sync-tab.component":6818,"react-redux":4385,"react-router-dom":4409,redux:4457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=(a=e("./backup-and-sync-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)(e=>({}),e=>({})))(s.default)}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.container.ts"}],[6820,{"./backup-and-sync-tab.container":6819},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./backup-and-sync-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/index.ts"}],[6821,{"../../../../../shared/modules/hexstring-utils":5089,"../../../../../shared/modules/selectors/networks":5100,"../../../../components/app/contact-list/utils":5235,"../../../../components/component-library":5637,"../../../../components/multichain/pages/send/components":5943,"../../../../components/ui/page-container/page-container-footer":6062,"../../../../components/ui/text-field":6088,"../../../../contexts/i18n":6110,"../../../../helpers/constants/design-system":6152,"../../../../helpers/constants/routes":6157,"../../../../helpers/utils/util":6206,"../../../../selectors/multichain":6966,"../../../confirmations/send/send-content/add-recipient/domain-input":6680,"../../../confirmations/send/send.constants":6681,"../contact-networks":6826,lodash:4088,"prop-types":4257,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=T(e("prop-types")),r=e("lodash"),i=e("react-redux"),s=T(e("../../../../components/ui/text-field")),l=e("../../../../helpers/constants/routes"),c=e("../../../../helpers/utils/util"),u=T(e("../../../confirmations/send/send-content/add-recipient/domain-input")),d=T(e("../../../../components/ui/page-container/page-container-footer")),p=e("../../../../../shared/modules/hexstring-utils"),m=e("../../../confirmations/send/send.constants"),f=e("../../../../components/multichain/pages/send/components"),g=e("../../../../components/app/contact-list/utils"),h=e("../../../../contexts/i18n"),y=e("../../../../components/component-library"),E=e("../../../../helpers/constants/design-system"),_=e("../../../../selectors/multichain"),b=e("../../../../../shared/modules/selectors/networks"),v=e("../contact-networks");function T(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const k=({addressBook:e,internalAccounts:t,addToAddressBook:n,history:o,scanQrCode:T,qrCodeData:x,qrCodeDetected:k,domainResolutions:C,domainError:w,resetDomainResolution:S})=>{var O,I;const N=(0,a.useContext)(h.I18nContext),[A,M]=(0,a.useState)(""),[R,B]=(0,a.useState)(""),[D,P]=(0,a.useState)(""),[L,F]=(0,a.useState)(""),[j,W]=(0,a.useState)(""),U=(0,i.useSelector)(b.getCurrentChainId),[z,$]=(0,a.useState)(U),[V,G]=(0,a.useState)(!1),q=(0,i.useSelector)(b.getNetworkConfigurationsByChainId),J=(0,a.useCallback)(e=>{const t=!(0,p.isBurnAddress)(e)&&(0,p.isValidHexAddress)(e,{mixedCaseUseChecksum:!0}),n=(0,c.isValidDomainName)(e);P(n||t?null:m.INVALID_RECIPIENT_ADDRESS_ERROR)},[]),H=(0,a.useMemo)(()=>(0,r.debounce)(J,500),[J]),K=n=>{const a=!(0,g.isDuplicateContact)(e,t,n);F(a?null:N("nameAlreadyInUse")),M(n)},Y=e=>{W(e),H(e)};(0,a.useEffect)(()=>{if("address"===(null==x?void 0:x.type)){const e=x.values.address.toLowerCase();[...C.map(({resolvedAddress:e})=>e),R].filter(Boolean).map(e=>e.toLowerCase()).includes(e)||(W(e),J(e),k(null))}},[x,C,R,J,k]);const X=w||D,Q=R||j,Z=!(0,p.isBurnAddress)(Q)&&(0,p.isValidHexAddress)(Q,{mixedCaseUseChecksum:!0});return a.default.createElement("div",{className:"settings-page__content-row address-book__add-contact"},a.default.createElement("div",{className:"address-book__add-contact__content"},a.default.createElement("div",{className:"address-book__view-contact__group address-book__add-contact__content__username"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},N("userName")),a.default.createElement(s.default,{type:"text",id:"nickname",placeholder:N("addAlias"),value:A,onChange:e=>K(e.target.value),fullWidth:!0,margin:"dense",error:L})),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},N("ethereumPublicAddress")),a.default.createElement(u.default,{scanQrCode:()=>T(),onChange:Y,onPaste:e=>{W(e),J(e)},onReset:()=>{S(),W(""),B("")},userInput:R||j}),a.default.createElement("div",{className:`address-book__view-contact__group__${1===(null==C?void 0:C.length)?"single-":""}resolution-list`},null==C?void 0:C.map(e=>{const{resolvedAddress:t,resolvingSnap:n,addressBookEntryName:o,protocol:r,domainName:i}=e;return a.default.createElement(f.DomainInputResolutionCell,{key:`${t}${n}${r}`,address:t,domainName:o??i,onClick:()=>{K(i),W(t),S()},protocol:r,resolvingSnap:n})})),X&&a.default.createElement("div",{className:"address-book__add-contact__error"},N(X))),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},N("network")),a.default.createElement(y.Box,{as:"button",padding:3,display:E.Display.Flex,alignItems:E.AlignItems.center,backgroundColor:E.BackgroundColor.transparent,borderColor:E.BorderColor.borderDefault,justifyContent:E.JustifyContent.spaceBetween,borderRadius:E.BorderRadius.XL,onClick:()=>G(!0),className:"network-selector","data-testid":"network-selector"},a.default.createElement(y.Box,{display:E.Display.Flex,gap:2},a.default.createElement(y.AvatarNetwork,{size:y.AvatarNetworkSize.Sm,src:(0,_.getImageForChainId)(z)||undefined,name:null==q||null===(O=q[z])||void 0===O?void 0:O.name}),a.default.createElement(y.Text,null,null==q||null===(I=q[z])||void 0===I?void 0:I.name)),a.default.createElement(y.Icon,{name:y.IconName.ArrowDown,color:E.IconColor.iconDefault,size:y.IconSize.Sm})),V&&a.default.createElement(v.ContactNetworks,{isOpen:!0,onClose:()=>G(!1),selectedChainId:z,onSelect:e=>$(e)}))),a.default.createElement(d.default,{cancelText:N("cancel"),disabled:Boolean(D||L||!Z||!A.trim()),onSubmit:async()=>{await n(Q,A,"",z),o.push(l.CONTACT_LIST_ROUTE)},onCancel:()=>{o.push(l.CONTACT_LIST_ROUTE)},submitText:N("save")}))};k.propTypes={addressBook:o.default.array,internalAccounts:o.default.array,addToAddressBook:o.default.func,history:o.default.object,scanQrCode:o.default.func,qrCodeData:o.default.object,qrCodeDetected:o.default.func,domainResolutions:o.default.arrayOf(o.default.object),domainError:o.default.string,resetDomainResolution:o.default.func};n.default=k}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.component.js"}],[6822,{"../../../../ducks/app/app":6124,"../../../../ducks/domains":6133,"../../../../selectors":6959,"../../../../store/actions":6981,"./add-contact.component":6821,"react-redux":4385,"react-router-dom":4409,redux:4457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../../store/actions"),l=e("../../../../ducks/app/app"),c=e("../../../../ducks/domains"),u=e("../../../../selectors"),d=(a=e("./add-contact.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)(e=>({addressBook:(0,u.getAddressBook)(e),internalAccounts:(0,u.getInternalAccounts)(e),qrCodeData:(0,l.getQrCodeData)(e),domainError:(0,c.getDomainError)(e),domainResolutions:(0,c.getDomainResolutions)(e)}),e=>({addToAddressBook:(t,n,a,o)=>e((0,s.addToAddressBook)(t,n,a,o)),scanQrCode:()=>e((0,s.showQrScanner)()),qrCodeDetected:t=>e((0,s.qrCodeDetected)(t)),resetDomainResolution:()=>e((0,c.resetDomainResolution)())})))(d.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.container.js"}],[6823,{"./add-contact.container":6822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./add-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/index.js"}],[6824,{"../../../components/app/contact-list":5233,"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../helpers/utils/settings-search":6198,"./add-contact":6823,"./edit-contact":6829,"./view-contact":6831,classnames:3351,"prop-types":4257,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=f(e("prop-types")),r=f(e("classnames")),i=f(e("../../../components/app/contact-list")),s=e("../../../helpers/constants/routes"),l=e("../../../helpers/utils/settings-search"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=f(e("./edit-contact")),p=f(e("./add-contact")),m=f(e("./view-contact"));function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(...e){super(...e),h(this,"settingsRefs",Array((0,l.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("contacts"))).fill(undefined).map(()=>a.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}renderAddresses(){const{completeAddressBook:e,internalAccounts:t,history:n,selectedAddress:o}=this.props,r=Object.entries(e).map(([e,t])=>t),l=r.filter(({name:e})=>Boolean(e)),d=r.filter(({name:e})=>!e),{t:p}=this.context;return r.length?a.default.createElement("div",null,a.default.createElement(i.default,{addressBook:r,internalAccounts:t,searchForContacts:()=>l,searchForRecents:()=>d,selectRecipient:e=>{n.push(`${s.CONTACT_VIEW_ROUTE}/${e}`)},selectedAddress:o})):a.default.createElement("div",{className:"address-book__container"},a.default.createElement("div",null,a.default.createElement(c.Icon,{name:c.IconName.Book,color:u.IconColor.iconMuted,className:"address-book__icon",size:c.IconSize.Xl}),a.default.createElement("h4",{className:"address-book__title"},p("buildContactList")),a.default.createElement("p",{className:"address-book__sub-title"},p("addFriendsAndAddresses")),a.default.createElement("button",{className:"address-book__link",onClick:()=>{n.push(s.CONTACT_ADD_ROUTE)}},"+ ",p("addContact"))))}renderAddButton(){const{history:e,viewingContact:t,editingContact:n}=this.props;return a.default.createElement(c.ButtonPrimary,{className:(0,r.default)("address-book-add-button__button",{"address-book-add-button__button--hidden":t||n}),onClick:()=>{e.push(s.CONTACT_ADD_ROUTE)},margin:4,size:u.Size.LG},this.context.t("addContact"))}renderContactContent(){const{viewingContact:e,editingContact:t,addingContact:n}=this.props;let o=null;return e?o=m.default:t?o=d.default:n&&(o=p.default),o&&a.default.createElement("div",{className:"address-book-contact-content"},a.default.createElement(o,null))}renderAddressBookContent(){const{hideAddressBook:e}=this.props;return e?null:a.default.createElement("div",{ref:this.settingsRefs[0],className:"address-book"},this.renderAddresses())}render(){const{addingContact:e,currentPath:t,completeAddressBook:n}=this.props,o=n;return a.default.createElement("div",{className:"address-book-wrapper"},this.renderAddressBookContent(),this.renderContactContent(),t===s.CONTACT_LIST_ROUTE&&!e&&o.length>0?this.renderAddButton():null)}}n.default=y,h(y,"contextTypes",{t:o.default.func}),h(y,"propTypes",{completeAddressBook:o.default.array,internalAccounts:o.default.array,history:o.default.object,selectedAddress:o.default.string,viewingContact:o.default.bool,editingContact:o.default.bool,addingContact:o.default.bool,hideAddressBook:o.default.bool,currentPath:o.default.string})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.component.js"}],[6825,{"../../../helpers/constants/routes":6157,"../../../selectors":6959,"./contact-list-tab.component":6824,"react-redux":4385,"react-router-dom":4409,redux:4457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../selectors"),l=e("../../../helpers/constants/routes"),c=(a=e("./contact-list-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)((e,t)=>{const{location:n}=t,{pathname:a}=n,o=a.match(/[^/]+$/u)[0],r=o.includes("0x"),i=Boolean(a.match(l.CONTACT_VIEW_ROUTE)),c=Boolean(a.match(l.CONTACT_EDIT_ROUTE)),u=Boolean(a.match(l.CONTACT_ADD_ROUTE)),d=i||c||u;return{viewingContact:i,editingContact:c,addingContact:u,addressBook:(0,s.getAddressBook)(e),completeAddressBook:(0,s.getCompleteAddressBook)(e),internalAccounts:(0,s.getInternalAccounts)(e),selectedAddress:r?o:"",hideAddressBook:d,currentPath:a}}))(c.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.container.js"}],[6826,{"../../../../shared/constants/bridge":4977,"../../../../shared/constants/network":4992,"../../../../shared/modules/selectors/networks":5100,"../../../components/component-library":5637,"../../../components/multichain":5837,"../../../helpers/constants/design-system":6152,"../../../hooks/useI18nContext":6278,"../../../selectors/multichain":6966,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ContactNetworks=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../helpers/constants/design-system"),i=e("../../../components/component-library"),s=e("../../../../shared/modules/selectors/networks"),l=e("../../../../shared/constants/network"),c=e("../../../hooks/useI18nContext"),u=e("../../../../shared/constants/bridge"),d=e("../../../components/multichain"),p=e("../../../selectors/multichain");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.ContactNetworks=({isOpen:e,onClose:t,selectedChainId:n,onSelect:m})=>{const f=(0,c.useI18nContext)(),g=(0,o.useSelector)(s.getNetworkConfigurationsByChainId),[h,y]=(0,a.useMemo)(()=>Object.entries(g).reduce(([e,t],[n,a])=>((l.TEST_CHAINS.includes(n)?t:e).push(a),[e,t]),[[],[]]),[g]),E=e=>e.map(({name:e,chainId:o})=>a.default.createElement(d.NetworkListItem,{key:o,name:u.NETWORK_TO_SHORT_NETWORK_NAME_MAP[o]??e,selected:n===o,onClick:()=>{null==m||m(o),t()},iconSrc:(0,p.getImageForChainId)(o),iconSize:i.AvatarNetworkSize.Sm,focus:!1,variant:r.TextVariant.bodyMdMedium}));return a.default.createElement(i.Modal,{isOpen:e,onClose:t,className:"multichain-asset-picker__network-modal"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,{modalDialogProps:{padding:0}},a.default.createElement(i.ModalHeader,{onBack:t,onClose:t},f("bridgeSelectNetwork")),a.default.createElement(i.Box,{className:"multichain-asset-picker__network-list",display:r.Display.Flex},a.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,width:r.BlockSize.Full},E(h),a.default.createElement(i.Box,{padding:4},a.default.createElement(i.Text,{variant:r.TextVariant.bodyMdMedium},f("testnets")),E(y))))))}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-networks.tsx"}],[6827,{"../../../../../shared/modules/hexstring-utils":5089,"../../../../components/app/contact-list/utils":5235,"../../../../components/component-library":5637,"../../../../components/ui/page-container/page-container-footer":6062,"../../../../components/ui/text-field":6088,"../../../../contexts/i18n":6110,"../../../../helpers/constants/design-system":6152,"../../../../selectors/multichain":6966,"../contact-networks":6826,"prop-types":4257,react:4439,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=g(e("prop-types")),r=e("react-router-dom"),i=g(e("../../../../components/ui/text-field")),s=g(e("../../../../components/ui/page-container/page-container-footer")),l=e("../../../../../shared/modules/hexstring-utils"),c=e("../../../../components/component-library"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../components/app/contact-list/utils"),p=e("../../../../selectors/multichain"),m=e("../../../../contexts/i18n"),f=e("../contact-networks");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=({addressBook:e,internalAccounts:t,networkConfigurations:n,addToAddressBook:o,removeFromAddressBook:g,name:h="",address:y,contactChainId:E,memo:_="",viewRoute:b,listRoute:v})=>{var T,x;const k=(0,a.useContext)(m.I18nContext),C=(0,r.useHistory)(),[w,S]=(0,a.useState)(h),[O,I]=(0,a.useState)(y),[N,A]=(0,a.useState)(_),[M,R]=(0,a.useState)(""),[B,D]=(0,a.useState)(""),[P,L]=(0,a.useState)(!1),[F,j]=(0,a.useState)(E),W=n;console.log(n,W);return y?a.default.createElement("div",{className:"settings-page__content-row address-book__edit-contact","data-testid":"edit-contact"},a.default.createElement(c.Box,{className:"settings-page__header address-book__header--edit",paddingLeft:6,paddingRight:6,width:u.BlockSize.Full,alignItems:u.AlignItems.center},a.default.createElement(c.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,style:{overflow:"hidden"},paddingRight:2},a.default.createElement(c.AvatarAccount,{size:c.AvatarAccountSize.Lg,address:y}),a.default.createElement(c.Text,{className:"address-book__header__name",variant:u.TextVariant.bodyLgMedium,marginInlineStart:4,style:{overflow:"hidden"},ellipsis:!0},h||y)),a.default.createElement(c.Box,{className:"settings-page__address-book-button"},a.default.createElement(c.Button,{variant:c.ButtonVariant.Link,danger:!0,style:{display:"contents"},onClick:async()=>{await g(E,y),C.push(v)},"data-testid":"delete-contact-button"},k("deleteContact")))),a.default.createElement("div",{className:"address-book__edit-contact__content"},a.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-alias"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},k("userName")),a.default.createElement(i.default,{id:"nickname",placeholder:k("addAlias"),value:w,onChange:n=>{const a=n.target.value;R((n=>n===h||!(0,d.isDuplicateContact)(e,t,n))(a)?"":k("nameAlreadyInUse")),S(a)},error:M,fullWidth:!0,className:"text-field-root",margin:"dense"})),a.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-address"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},k("ethereumPublicAddress")),a.default.createElement(i.default,{id:"address",value:O,onChange:e=>I(e.target.value),error:B,fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"})),a.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-memo"},a.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},k("memo")),a.default.createElement(i.default,{id:"memo",placeholder:_,value:N,onChange:e=>A(e.target.value),fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"})),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},k("network")),a.default.createElement(c.Box,{as:"button",padding:3,display:u.Display.Flex,alignItems:u.AlignItems.center,backgroundColor:u.BackgroundColor.transparent,borderColor:u.BorderColor.borderDefault,justifyContent:u.JustifyContent.spaceBetween,borderRadius:u.BorderRadius.XL,onClick:()=>L(!0),className:"network-selector","data-testid":"network-selector",marginTop:2},a.default.createElement(c.Box,{display:u.Display.Flex,gap:2},a.default.createElement(c.AvatarNetwork,{size:c.AvatarNetworkSize.Sm,src:(0,p.getImageForChainId)(F)||undefined,name:null==W||null===(T=W[F])||void 0===T?void 0:T.name}),a.default.createElement(c.Text,null,null==W||null===(x=W[F])||void 0===x?void 0:x.name)),a.default.createElement(c.Icon,{name:c.IconName.ArrowDown,color:u.IconColor.iconDefault,size:c.IconSize.Sm})))),a.default.createElement(s.default,{cancelText:k("cancel"),onSubmit:async()=>{const e=F!==E;O&&O!==y?!(0,l.isBurnAddress)(O)&&(0,l.isValidHexAddress)(O,{mixedCaseUseChecksum:!0})?(await g(E,y),await o(O,w||h,N||_,F),C.push(v)):D(k("invalidAddress")):e?(await g(E,y),await o(y,w||h,N||_,F),C.push(v)):(await o(y,w||h,N||_,F),C.push(v))},onCancel:()=>C.push(`${b}/${y}`),submitText:k("save"),disabled:Boolean(w===h&&O===y&&F===E&&N===_||!w.trim()||M)}),P&&a.default.createElement(f.ContactNetworks,{isOpen:!0,onClose:()=>L(!1),selectedChainId:F,onSelect:e=>j(e)})):a.default.createElement(r.Redirect,{to:{pathname:v}})};y.propTypes={addressBook:o.default.array,internalAccounts:o.default.array,networkConfigurations:o.default.array,addToAddressBook:o.default.func.isRequired,removeFromAddressBook:o.default.func.isRequired,name:o.default.string,address:o.default.string.isRequired,contactChainId:o.default.string,memo:o.default.string,viewRoute:o.default.string.isRequired,listRoute:o.default.string.isRequired};n.default=y}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.component.js"}],[6828,{"../../../../../shared/modules/selectors/networks":5100,"../../../../helpers/constants/routes":6157,"../../../../selectors":6959,"../../../../store/actions":6981,"./edit-contact.component":6827,"react-redux":4385,"react-router-dom":4409,redux:4457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../../selectors"),l=e("../../../../../shared/modules/selectors/networks"),c=e("../../../../helpers/constants/routes"),u=e("../../../../store/actions"),d=(a=e("./edit-contact.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)((e,t)=>{var n;const{location:a}=t,{pathname:o}=a,r=o.match(/[^/]+$/u)[0],i=r.includes("0x")?r.toLowerCase():t.match.params.id,u=(0,s.getAddressBookEntry)(e,i),d=(0,l.getNetworkConfigurationsByChainId)(e),{memo:p}=u||{},m=(null==u?void 0:u.name)||(null===(n=(0,s.getInternalAccountByAddress)(e,i))||void 0===n?void 0:n.metadata.name),{chainId:f}=(0,l.getProviderConfig)(e),g=(null==u?void 0:u.chainId)||f;return{address:u?i:null,addressBook:(0,s.getAddressBook)(e),internalAccounts:(0,s.getInternalAccounts)(e),contactChainId:g,name:m,memo:p,networkConfigurations:d,viewRoute:c.CONTACT_VIEW_ROUTE,listRoute:c.CONTACT_LIST_ROUTE}},e=>({addToAddressBook:(t,n,a,o)=>e((0,u.addToAddressBook)(t,n,a,o)),removeFromAddressBook:(t,n)=>e((0,u.removeFromAddressBook)(t,n)),toggleNetworkMenu:()=>e((0,u.toggleNetworkMenu)())})))(d.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.container.js"}],[6829,{"./edit-contact.container":6828},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/index.js"}],[6830,{"./contact-list-tab.container":6825},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./contact-list-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/index.js"}],[6831,{"./view-contact.container":6833},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./view-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/index.js"}],[6832,{"../../../../components/component-library":5637,"../../../../components/ui/tooltip":6096,"../../../../helpers/constants/design-system":6152,"../../../../hooks/useCopyToClipboard":6266,"../../../../hooks/useI18nContext":6278,"prop-types":4257,react:4439,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),o=d(e("prop-types")),r=e("react-router-dom"),i=e("../../../../components/component-library"),s=d(e("../../../../components/ui/tooltip")),l=e("../../../../hooks/useI18nContext"),c=e("../../../../hooks/useCopyToClipboard"),u=e("../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p({history:e,name:t,address:n,checkSummedAddress:o,memo:d,editRoute:p,listRoute:m}){const f=(0,l.useI18nContext)(),[g,h]=(0,c.useCopyToClipboard)();return n?a.default.createElement("div",{className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement(i.Box,{className:"settings-page__header address-book__header",paddingLeft:6,paddingRight:6},a.default.createElement(i.AvatarAccount,{size:i.AvatarAccountSize.Lg,address:n}),a.default.createElement(i.Text,{className:"address-book__header__name",variant:u.TextVariant.bodyLgMedium,marginInlineStart:4,style:{overflow:"hidden"},ellipsis:!0},t||n)),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement(i.Button,{variant:i.ButtonVariant.Secondary,onClick:()=>{e.push(`${p}/${n}`)}},f("edit"))),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},f("ethereumPublicAddress")),a.default.createElement("div",{className:"address-book__view-contact__group__value"},a.default.createElement("div",{className:"address-book__view-contact__group__static-address"},function(e){return`0x${e.slice(2).match(/.{1,4}/gu).join("")}`}(o)),a.default.createElement(s.default,{position:"bottom",title:f(g?"copiedExclamation":"copyToClipboard")},a.default.createElement(i.ButtonIcon,{ariaLabel:"copy",className:"address-book__view-contact__group__static-address--copy-icon",onClick:()=>{h(o)},iconName:g?i.IconName.CopySuccess:i.IconName.Copy,size:i.ButtonIconSize.Lg,color:u.IconColor.primaryDefault})))),d.length>0?a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},f("memo")),a.default.createElement("div",{className:"address-book__view-contact__group__static-address"},d)):null)):a.default.createElement(r.Redirect,{to:{pathname:m}})}p.propTypes={name:o.default.string,address:o.default.string,history:o.default.object,checkSummedAddress:o.default.string,memo:o.default.string,editRoute:o.default.string,listRoute:o.default.string.isRequired};n.default=a.default.memo(p)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.component.js"}],[6833,{"../../../../../shared/modules/hexstring-utils":5089,"../../../../helpers/constants/routes":6157,"../../../../selectors":6959,"./view-contact.component":6832,"react-redux":4385,"react-router-dom":4409,redux:4457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../../selectors"),l=e("../../../../helpers/constants/routes"),c=e("../../../../../shared/modules/hexstring-utils"),u=(a=e("./view-contact.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)((e,t)=>{const{location:n}=t,{pathname:a}=n,o=a.match(/[^/]+$/u)[0],r=o.includes("0x")?o.toLowerCase():t.match.params.id,i=(0,s.getInternalAccountByAddress)(e,r),u=(0,s.getAddressBookEntry)(e,r),{memo:d}=u||{};return{name:(null==u?void 0:u.name)||i.metadata.name,address:u?r:null,checkSummedAddress:(0,c.toChecksumHexAddress)(r),memo:d,editRoute:l.CONTACT_EDIT_ROUTE,listRoute:l.CONTACT_LIST_ROUTE}}))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.container.js"}],[6834,{"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/zendesk-url":6164,"../../../hooks/useI18nContext":6278,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DeprecatedNetworkModal=void 0;var a=l(e("react")),o=e("../../../hooks/useI18nContext"),r=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),s=l(e("../../../helpers/constants/zendesk-url"));function l(e){return e&&e.__esModule?e:{default:e}}n.DeprecatedNetworkModal=({onClose:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(r.Modal,{isOpen:!0,isClosedOnOutsideClick:!1,onClose:e},a.default.createElement(r.ModalOverlay,null),a.default.createElement(r.ModalContent,null,a.default.createElement(r.ModalHeader,{paddingTop:2,paddingBottom:2},t("deprecatedNetwork")),a.default.createElement(r.ModalBody,null,a.default.createElement(r.Box,{paddingBottom:2},a.default.createElement(r.Text,{textAlign:i.TextAlign.Center,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Normal},t("deprecatedNetworkDescription",[a.default.createElement(r.ButtonLink,{key:"import-token-fake-token-warning",rel:"noopener noreferrer",target:"_blank",href:s.default.NETWORK_DEPRECATED,variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Normal},t("learnMoreUpperCase"))])))),a.default.createElement(r.Box,{display:i.Display.Flex,paddingLeft:4,paddingRight:4,paddingBottom:2},a.default.createElement(r.ButtonPrimary,{block:!0,size:r.ButtonPrimarySize.Lg,onClick:e,textProps:{variant:i.TextVariant.bodyMdMedium},style:{fontSize:"14px"}},t("deprecatedNetworkButtonMsg")))))}}}},{package:"$root$",file:"ui/pages/settings/deprecated-network-modal/DeprecatedNetworkModal.tsx"}],[6835,{"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../hooks/identity/useAccountSyncing":6233,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDeleteAccountSyncDataProps=n.BackupAndSyncDevSettings=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),i=e("../../../hooks/identity/useAccountSyncing");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const l=({onDelete:e,deleteSuccessful:t,title:n,description:i})=>a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(o.Box,{className:"settings-page__content-row",display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,n),a.default.createElement("div",{className:"settings-page__content-description"},i)),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,onClick:e},"Reset")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.Box,{display:r.Display.Flex,alignItems:r.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(o.Icon,{className:"settings-page-developer-options__icon-check",name:o.IconName.Check,color:r.IconColor.successDefault,size:o.IconSize.Lg,hidden:!t}))))),c=()=>{const[e,t]=(0,a.useState)(!1),{dispatchDeleteAccountSyncingData:n}=(0,i.useDeleteAccountSyncingDataFromUserStorage)();return{deleteSuccessful:e,onDelete:(0,a.useCallback)(async()=>{await n(),t(!0)},[n,t]),title:"Account syncing",description:"Deletes all user storage entries for the current SRP. This can help if you tested Account Syncing early on and have corrupted data. This will not remove internal accounts already created and renamed. If you want to start from scratch with only the first account and restart syncing from this point on, you will need to reinstall the extension after this action."}};n.useDeleteAccountSyncDataProps=c;n.BackupAndSyncDevSettings=()=>a.default.createElement(a.default.Fragment,null,a.default.createElement(o.Text,{className:"settings-page__security-tab-sub-header__bold"},"Backup and sync"),a.default.createElement(l,c()))}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/backup-and-sync.tsx"}],[6836,{"../../../../app/scripts/lib/util":220,"../../../../shared/constants/app":4975,"../../../components/component-library":5637,"../../../helpers/constants/design-system":6152,"../../../helpers/constants/routes":6157,"../../../helpers/utils/settings-search":6198,"../../../hooks/useI18nContext":6278,"../../../selectors":6959,"../../../store/actions":6981,"./backup-and-sync":6835,"./developer-options-toggle-row-component":6837,"./sentry-test":6839,react:4439,"react-redux":4385,"react-router-dom":4409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),c=e("../../../helpers/utils/settings-search"),u=e("../../../hooks/useI18nContext"),d=e("../../../store/actions"),p=e("../../../../app/scripts/lib/util"),m=e("../../../../shared/constants/app"),f=e("../../../selectors"),g=E(e("./developer-options-toggle-row-component")),h=E(e("./sentry-test")),y=e("./backup-and-sync");function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,u.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,r.useHistory)(),[E,_]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),[T,x]=(0,a.useState)(!0),k=Array((0,c.getNumberOfSettingRoutesInTab)(e,e("developerOptions"))).fill(undefined).map(()=>a.default.createRef());(0,a.useEffect)(()=>{(0,c.handleSettingsRefs)(e,e("developerOptions"),k)},[e,k]);const C=(0,a.useCallback)(()=>{(0,d.resetViewedNotifications)(),_(!0)},[]),w=(0,a.useCallback)(async()=>{await t((0,d.resetOnboarding)()),v(!0);const e=`${l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE}/?isFromReminder=true`;if((0,p.getEnvironmentType)()===m.ENVIRONMENT_TYPE_POPUP){const{platform:t}=global;null!=t&&t.openExtensionInBrowser&&(null==t||t.openExtensionInBrowser(e,null,!0))}else n.push(e)},[t,n]),S=(0,o.useSelector)(f.getRemoteFeatureFlags);return a.default.createElement("div",{className:"settings-page__body"},a.default.createElement(i.Text,{className:"settings-page__security-tab-sub-header__bold"},"States"),a.default.createElement(i.Text,{className:"settings-page__security-tab-sub-header",color:s.TextColor.textAlternative,paddingTop:6,ref:k[0]},"Current States"),a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(i.Box,{className:"settings-page__content-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,"Remote feature flags"),a.default.createElement("div",{className:"settings-page__content-description"},"Remote feature flag values come from LaunchDarkly by default. If you need to update feature flag values locally for development purposes, you can change feature flag values in .manifest-overrides.json, which will override values coming from LaunchDarkly.")),a.default.createElement("div",{className:"settings-page__content-description","data-testid":"developer-options-remote-feature-flags"},JSON.stringify(S)))),a.default.createElement(i.Text,{className:"settings-page__security-tab-sub-header",color:s.TextColor.textAlternative,paddingTop:6,ref:k[0]},"Reset States"),a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(i.Box,{ref:k[1],className:"settings-page__content-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,"Announcements"),a.default.createElement("div",{className:"settings-page__content-description"},"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,onClick:C},"Reset")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(i.Icon,{className:"settings-page-developer-options__icon-check",name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Lg,hidden:!E})))),a.default.createElement(i.Box,{ref:k[2],className:"settings-page__content-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item",style:{flex:"1 1 auto"}},a.default.createElement("span",null,"Onboarding"),a.default.createElement("div",{className:"settings-page__content-description"},'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.')),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,onClick:w},"Reset")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(i.Icon,{className:"settings-page-developer-options__icon-check",name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Lg,hidden:!b})))),a.default.createElement(g.default,{title:"Service Worker Keep Alive",description:"Results in a timestamp being continuously saved to session.storage",isEnabled:T,onToggle:e=>(async e=>{await t((0,d.setServiceWorkerKeepAlivePreference)(e)),x(e)})(!e),dataTestId:"developer-options-service-worker-alive-toggle",settingsRef:k[3]})),a.default.createElement(y.BackupAndSyncDevSettings,null),a.default.createElement(h.default,null))}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-tab.tsx"}],[6837,{"../../../components/component-library":5637,"../../../components/ui/toggle-button":6092,"../../../helpers/constants/design-system":6152,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),o=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),i=s(e("../../../components/ui/toggle-button"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=({title:e,description:t,isEnabled:n,onToggle:s,dataTestId:l,settingsRef:c})=>a.default.createElement(o.Box,{ref:c,className:"settings-page__content-row",display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-description"},a.default.createElement("span",null,e),a.default.createElement("div",{className:"settings-page__content-description"},t))),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.default,{value:n,onToggle:s,offLabel:"Off",onLabel:"On",dataTestId:l})))}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-toggle-row-component.tsx"}],[6838,{"./developer-options-tab":6836},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./developer-options-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/index.tsx"}],[6839,{"../../../../shared/lib/trace":5071,"../../../../shared/modules/i18n":5090,"../../../components/component-library":5637,"../../../components/component-library/button/button.types":5617,"../../../ducks/locale/locale":6138,"../../../helpers/constants/design-system":6152,"../../../store/actions":6981,react:4439,"react-redux":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),s=e("../../../../shared/lib/trace"),l=e("../../../components/component-library/button/button.types"),c=e("../../../store/actions"),u=e("../../../../shared/modules/i18n"),d=e("../../../ducks/locale/locale");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e){return new Promise(t=>setTimeout(t,e))}function f(){const e=(0,a.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).throwTestError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return a.default.createElement(b,{name:"Generate UI Error",description:a.default.createElement("span",null,"Generate an unhandled ",a.default.createElement("b",null,"TestError")," in this window."),onClick:e,expectError:!0})}function g(){const e=(0,a.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).throwTestBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return a.default.createElement(b,{name:"Generate Background Error",description:a.default.createElement("span",null,"Generate an unhandled ",a.default.createElement("b",null,"TestError")," in the service worker."),onClick:e,expectError:!0})}function h(){const e=(0,a.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).captureTestError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return a.default.createElement(b,{name:"Capture UI Error",description:a.default.createElement("span",null,"Capture a ",a.default.createElement("b",null,"TestError")," in this window."),onClick:e})}function y(){const e=(0,a.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).captureBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return a.default.createElement(b,{name:"Capture Background Error",description:a.default.createElement("span",null,"Capture a ",a.default.createElement("b",null,"TestError")," in the service worker."),onClick:e})}function E(){const e=(0,a.useCallback)(async()=>{await(0,s.trace)({name:s.TraceName.DeveloperTest,data:{"test.data.number":123},tags:{"test.tag.number":123}},async e=>{await(0,s.trace)({name:s.TraceName.NestedTest1,data:{"test.data.boolean":!0},tags:{"test.tag.boolean":!0},parentContext:e},()=>m(1e3)),await(0,s.trace)({name:s.TraceName.NestedTest2,data:{"test.data.string":"test"},tags:{"test.tag.string":"test"},parentContext:e},()=>m(500))})},[]);return a.default.createElement(b,{name:"Generate Trace",description:a.default.createElement("span",null,"Generate a ",a.default.createElement("b",null,"Developer Test")," Sentry trace."),onClick:e})}function _({currentLocale:e}){const t=(0,o.useDispatch)();return a.default.createElement(b,{name:"Generate A Page Crash",description:a.default.createElement("span",null,'Trigger the crash on extension to send user feedback to sentry. You can click "Try again" to reload extension'),onClick:async()=>{const n=await(0,u.fetchLocale)(e);await t((0,c.setCurrentLocale)(e,{...n,developerOptions:undefined})),await(0,c.forceUpdateMetamaskState)(t)},expectError:!0,testId:"developer-options-generate-page-crash-button"})}function b({name:e,description:t,onClick:n,expectError:o,testId:s}){const[c,u]=(0,a.useState)(!1),d=(0,a.useCallback)(async()=>{let e=!1;try{await n()}catch(t){throw e=!0,t}finally{!o&&e||u(!0)}},[n]);return a.default.createElement(r.Box,{className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-description"},t)),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(r.Button,{variant:r.ButtonVariant.Primary,onClick:d,size:l.ButtonSize.Lg,"data-testid":s},e)),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(r.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(r.Icon,{className:"settings-page-developer-options__icon-check",name:r.IconName.Check,color:i.IconColor.successDefault,size:r.IconSize.Lg,hidden:!c}))))}n.default=()=>{const e=(0,o.useSelector)(d.getCurrentLocale)||u.FALLBACK_LOCALE;return a.default.createElement(a.default.Fragment,null,a.default.createElement(r.Text,{className:"settings-page__security-tab-sub-header__bold"},"Sentry"),a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(f,null),a.default.createElement(g,null),a.default.createElement(h,null),a.default.createElement(y,null),a.default.createElement(E,null),a.default.createElement(_,{currentLocale:e})))}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/sentry-test.tsx"}],[6840,{"../../../../shared/constants/metametrics":4989,"../../../components/component-library":5637,"../../../components/ui/toggle-button":6092,"../../../helpers/constants/design-system":6152,"../../../helpers/utils/settings-search":6198,"prop-types":4257,react:4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("prop-types")),r=u(e("../../../components/ui/toggle-button")),i=e("../../../helpers/utils/settings-search"),s=e("../../../../shared/constants/metametrics"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,i.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("experimental"))).fill(undefined).map(()=>a.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}renderToggleSection({title:e,description:t,toggleValue:n,toggleCallback:o,toggleDataTestId:i,toggleContainerDataTestId:s,toggleOffLabel:c,toggleOnLabel:u}){return a.default.createElement(l.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row settings-page__content-row-experimental"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e),a.default.createElement("div",{className:"settings-page__content-description"},t)),a.default.createElement("div",{className:"settings-page__content-item-col","data-testid":s},a.default.createElement(r.default,{value:n,onToggle:o,offLabel:c,onLabel:u,dataTestId:i})))}renderKeyringSnapsToggle(){const{t:e,trackEvent:t}=this.context,{addSnapAccountEnabled:n,setAddSnapAccountEnabled:o}=this.props;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Text,{variant:c.TextVariant.headingSm,as:"h4",color:c.TextColor.textAlternative,marginBottom:2,fontWeight:c.FontWeight.Bold},e("snaps")),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("snapAccounts")),a.default.createElement("div",{className:"settings-page__content-description"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.textAlternative},e("snapAccountsDescription")))),this.renderToggleSection({title:e("addSnapAccountToggle"),description:e("addSnapAccountsDescription"),toggleValue:n,toggleCallback:e=>{t({event:s.MetaMetricsEventName.AddSnapAccountEnabled,category:s.MetaMetricsEventCategory.Settings,properties:{enabled:!e}}),o(!e)},toggleContainerDataTestId:"add-account-snap-toggle-div",toggleDataTestId:"add-account-snap-toggle-button",toggleOffLabel:e("off"),toggleOnLabel:e("on")}))}renderNotificationsToggle(){const{t:e}=this.context,{featureNotificationsEnabled:t,setFeatureNotificationsEnabled:n}=this.props;return this.renderToggleSection({title:e("notificationsFeatureToggle"),description:e("notificationsFeatureToggleDescription"),toggleValue:t,toggleCallback:e=>n(!e),toggleDataTestId:"toggle-notifications",toggleOffLabel:e("off"),toggleOnLabel:e("on")})}render(){return a.default.createElement("div",{className:"settings-page__body"},null,this.renderKeyringSnapsToggle())}}n.default=m,p(m,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.component.tsx"}],[6841,{"../../../selectors":6959,"../../../store/actions":6981,"./experimental-tab.component":6840,"react-redux":4385,"react-router-dom":4409,redux:4457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../store/actions"),l=e("../../../selectors"),c=(a=e("./experimental-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)(e=>{const t=(0,l.getFeatureNotificationsEnabled)(e);return{watchAccountEnabled:(0,l.getIsWatchEthereumAccountEnabled)(e),addSnapAccountEnabled:(0,l.getIsAddSnapAccountEnabled)(e),featureNotificationsEnabled:t}},e=>({setWatchAccountEnabled:e=>(0,s.setWatchEthereumAccountEnabled)(e),setAddSnapAccountEnabled:e=>(0,s.setAddSnapAccountEnabled)(e),setFeatureNotificationsEnabled:t=>e((0,s.setFeatureNotificationsEnabled)(t))})))(c.default)}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.container.ts"}],[6842,{"./experimental-tab.container":6841},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./experimental-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/index.js"}],[6843,{"./settings.container":6870},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./settings.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/index.js"}],[6844,{"./info-tab.component":6845},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./info-tab.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/info-tab/index.js"}]],[],{});