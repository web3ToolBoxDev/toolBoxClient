LavaPack.loadBundle([[2309,{"../logger.cjs":2317,"async-mutex":3144},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f,h,p,m=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},g=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainTrackingHelper=void 0;const _=e("async-mutex"),E=e("../logger.cjs"),b=(0,E.createModuleLogger)(E.projectLogger,"multichain-tracking");n.MultichainTrackingHelper=class{constructor({findNetworkClientIdByChainId:e,getNetworkClientById:t,getNetworkClientRegistry:n,removePendingTransactionTrackerListeners:_,createNonceTracker:E,createPendingTransactionTracker:y,onNetworkStateChange:w}){r.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,new Map),d.set(this,new Map),this.checkForPendingTransactionAndStartPolling=()=>{for(const[,e]of g(this,d,"f"))e.pendingTransactionTracker.startIfPendingTransactions()},f.set(this,e=>{const t=Object.keys(e),n=Array.from(g(this,d,"f").keys()),i=n.filter(e=>!t.includes(e));i.forEach(e=>{g(this,r,"m",h).call(this,e)});const o=t.filter(e=>!n.includes(e));o.forEach(e=>{g(this,r,"m",p).call(this,e)}),o.length&&b("Added trackers",o),i.length&&b("Removed trackers",i)}),m(this,i,e,"f"),m(this,o,t,"f"),m(this,s,n,"f"),m(this,a,_,"f"),m(this,c,E,"f"),m(this,u,y,"f"),w((e,t)=>{const n=g(this,s,"f").call(this);t.forEach(({op:e,path:t})=>{if("remove"===e&&"networkConfigurations"===t[0]){const e=t[1];delete n[e]}}),g(this,f,"f").call(this,n)})}initialize(){const e=g(this,s,"f").call(this);g(this,f,"f").call(this,e),b("Initialized")}has(e){return g(this,d,"f").has(e)}async acquireNonceLockForChainIdKey({chainId:e,key:t="global"}){let n=g(this,l,"f").get(e);n||(n=new Map,g(this,l,"f").set(e,n));let r=n.get(t);return r||(r=new _.Mutex,n.set(t,r)),await r.acquire()}async getNonceLock(e,t){const n=g(this,o,"f").call(this,t),r=await this.acquireNonceLockForChainIdKey({chainId:n.configuration.chainId,key:e}),i=g(this,d,"f").get(t)?.nonceTracker;if(!i)throw new Error(`Missing nonce tracker for network client ID - ${t}`);try{const t=await i.getNonceLock(e),n=()=>{t.releaseLock(),r?.()};return{...t,releaseLock:n}}catch(e){throw r?.(),e}}stopAllTracking(){for(const[e]of g(this,d,"f"))g(this,r,"m",h).call(this,e)}getNetworkClient({chainId:e,networkClientId:t}){if(!t&&!e)throw new Error("Cannot locate network client without networkClientId or chainId");let n,r=t;try{t&&(n=g(this,o,"f").call(this,t))}catch(n){if(b("No network client found with ID",t),!e)throw n}return!n&&e&&(r=g(this,i,"f").call(this,e),n=g(this,o,"f").call(this,r)),{...n,id:r}}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,f=new WeakMap,r=new WeakSet,h=function(e){const t=g(this,d,"f").get(e);t&&(t.pendingTransactionTracker.stop(),g(this,a,"f").call(this,t.pendingTransactionTracker),g(this,d,"f").delete(e))},p=function(e){if(g(this,d,"f").get(e))return;const{provider:t,blockTracker:n,configuration:{chainId:r}}=g(this,o,"f").call(this,e),i=g(this,c,"f").call(this,{provider:t,blockTracker:n,chainId:r}),s=g(this,u,"f").call(this,{provider:t,blockTracker:n,chainId:r,networkClientId:e});g(this,d,"f").set(e,{nonceTracker:i,pendingTransactionTracker:s})}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/MultichainTrackingHelper.cjs"}],[2310,{"../logger.cjs":2317,"../types.cjs":2318,"./TransactionPoller.cjs":2312,"@metamask/controller-utils":1315,events:3630,lodash:4088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f,h,p,m,g,_,E,b,y,w,S,T,R,A,v,O,I,N,C,P,x,k,L,B,D,M,j,U,F=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},H=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},G=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PendingTransactionTracker=void 0;const z=e("@metamask/controller-utils"),V=G(e("events")),W=e("lodash"),q=e("./TransactionPoller.cjs"),K=e("../logger.cjs"),X=e("../types.cjs"),Y=["replacement transaction underpriced","known transaction","gas price too low to replace","transaction with the same hash was already imported","gateway timeout","nonce too low"],$=(0,K.createModuleLogger)(K.projectLogger,"pending-transactions");n.PendingTransactionTracker=class{constructor({blockTracker:e,getChainId:t,getEthQuery:n,getGlobalLock:y,getNetworkClientId:w,getTransactions:S,hooks:T,isResubmitEnabled:R,messenger:A,publishTransaction:v}){r.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),f.set(this,void 0),h.set(this,void 0),p.set(this,void 0),m.set(this,void 0),g.set(this,void 0),_.set(this,void 0),this.startIfPendingTransactions=()=>{const e=H(this,r,"m",C).call(this);e.length?H(this,r,"m",E).call(this,e):this.stop()},this.hub=new V.default,F(this,i,new Map,"f"),F(this,o,t,"f"),F(this,s,n,"f"),F(this,a,w,"f"),F(this,c,S,"f"),F(this,u,R??(()=>!0),"f"),F(this,l,H(this,r,"m",b).bind(this),"f"),F(this,f,y,"f"),F(this,h,v,"f"),F(this,p,!1,"f"),F(this,g,undefined,"f"),F(this,m,new q.TransactionPoller({blockTracker:e,chainId:t(),messenger:A}),"f"),F(this,_,T?.beforeCheckPendingTransaction??(()=>Promise.resolve(!0)),"f"),F(this,d,(0,K.createModuleLogger)($,`${t()}:${w()}`),"f")}addTransactionToPoll(e){H(this,r,"m",E).call(this,[e]),F(this,g,e,"f")}async forceCheckTransaction(e){const t=await H(this,f,"f").call(this);try{await H(this,r,"m",v).call(this,e)}catch(e){H(this,d,"f").call(this,"Failed to check transaction",e)}finally{t()}}stop(){H(this,p,"f")&&(H(this,m,"f").stop(),F(this,p,!1,"f"),H(this,d,"f").call(this,"Stopped polling"))}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,_=new WeakMap,r=new WeakSet,E=function(e){H(this,m,"f").setPendingTransactions(e),H(this,p,"f")||(H(this,m,"f").start(H(this,l,"f")),F(this,p,!0,"f"),H(this,d,"f").call(this,"Started polling"))},b=async function(e){const t=await H(this,f,"f").call(this);try{await H(this,r,"m",y).call(this)}catch(e){H(this,d,"f").call(this,"Failed to check transactions",e)}finally{t()}try{await H(this,r,"m",w).call(this,e)}catch(e){H(this,d,"f").call(this,"Failed to resubmit transactions",e)}},y=async function(){H(this,d,"f").call(this,"Checking transactions");const e=[...H(this,r,"m",C).call(this),...H(this,g,"f")?[H(this,g,"f")]:[]];e.length?(H(this,d,"f").call(this,"Found pending transactions to check",{count:e.length,ids:e.map(e=>e.id)}),await Promise.all(e.map(e=>H(this,r,"m",v).call(this,e)))):H(this,d,"f").call(this,"No pending transactions to check")},w=async function(e){if(!H(this,u,"f").call(this)||!H(this,p,"f"))return;H(this,d,"f").call(this,"Resubmitting transactions");const t=H(this,r,"m",C).call(this);if(t.length){H(this,d,"f").call(this,"Found pending transactions to resubmit",{count:t.length,ids:t.map(e=>e.id)});for(const n of t)try{await H(this,r,"m",T).call(this,n,e)}catch(e){const t=e.value?.message?.toLowerCase()||e.message?.toLowerCase()||String(e);if(H(this,r,"m",S).call(this,t)){H(this,d,"f").call(this,"Ignoring known transaction error",t);continue}H(this,r,"m",P).call(this,n,e.message,"There was an error when resubmitting this transaction.")}}else H(this,d,"f").call(this,"No pending transactions to resubmit")},S=function(e){return Y.some(t=>e.includes(t))},T=async function(e,t){if(!H(this,r,"m",R).call(this,e,t))return;if(!await H(this,_,"f").call(this,e))return;const n=H(this,s,"f").call(this,e.networkClientId);await H(this,h,"f").call(this,n,e);const i=(e.retryCount??0)+1;H(this,r,"m",L).call(this,(0,W.merge)({},e,{retryCount:i}),"PendingTransactionTracker:transaction-retry - Retry count increased")},R=function(e,t){const n=(0,W.cloneDeep)(e);n.firstRetryBlockNumber||(n.firstRetryBlockNumber=t,H(this,r,"m",L).call(this,n,"PendingTransactionTracker:#isResubmitDue - First retry block number set"));const{firstRetryBlockNumber:i}=n,o=Number.parseInt(t,16)-Number.parseInt(i,16),s=e.retryCount||0;return o>=Math.min(50,Math.pow(2,s))},A=function(e){H(this,g,"f")?.id===e&&F(this,g,undefined,"f")},v=async function(e){const{hash:t,id:n}=e;if(!t&&await H(this,_,"f").call(this,e)){const t=new Error("We had an error while submitting this transaction, please try again.");return t.name="NoTxHashError",void H(this,r,"m",x).call(this,e,t)}if(H(this,r,"m",N).call(this,e))return H(this,d,"f").call(this,"Nonce already taken",n),void H(this,r,"m",k).call(this,e);try{const n=await H(this,r,"m",B).call(this,t),i="0x1"===n?.status;if("0x0"===n?.status)return H(this,d,"f").call(this,"Transaction receipt has failed status"),void H(this,r,"m",x).call(this,e,new Error("Transaction dropped or replaced"));const{blockNumber:o,blockHash:s}=n||{};if(i&&o&&s)return void await H(this,r,"m",O).call(this,e,{...n,blockNumber:o,blockHash:s})}catch(t){return H(this,d,"f").call(this,"Failed to check transaction",n,t),void H(this,r,"m",P).call(this,e,t.message,"There was a problem loading this transaction.")}await H(this,r,"m",I).call(this,e)&&H(this,r,"m",k).call(this,e)},O=async function(e,t){const{id:n}=e,{blockHash:i}=t;if(H(this,d,"f").call(this,"Transaction confirmed",n),H(this,g,"f"))return H(this,r,"m",A).call(this,e.id),void this.hub.emit("transaction-confirmed",e);const{baseFeePerGas:o,timestamp:s}=await H(this,r,"m",D).call(this,i,!1),a=(0,W.cloneDeep)(e);a.baseFeePerGas=o,a.blockTimestamp=s,a.status=X.TransactionStatus.confirmed,a.txParams={...a.txParams,gasUsed:t.gasUsed},a.txReceipt=t,a.verifiedOnBlockchain=!0,H(this,r,"m",L).call(this,a,"PendingTransactionTracker:#onTransactionConfirmed - Transaction confirmed"),this.hub.emit("transaction-confirmed",a)},I=async function(e){const{hash:t,id:n,txParams:{nonce:o,from:s}}=e;if(!o||!t)return!1;const a=await H(this,r,"m",M).call(this,s),c=parseInt(a,16);if(parseInt(o,16)>=c)return!1;let u=H(this,i,"f").get(t);return u===undefined&&(u=0,H(this,i,"f").set(t,u)),u<3?(H(this,d,"f").call(this,"Incrementing dropped block count",{id:n,droppedBlockCount:u}),H(this,i,"f").set(t,u+1),!1):(H(this,d,"f").call(this,"Hit dropped block count",n),H(this,i,"f").delete(t),!0)},N=function(e){const{id:t,txParams:n}=e;return H(this,r,"m",j).call(this).some(e=>e.id!==t&&e.txParams.from===n.from&&e.status===X.TransactionStatus.confirmed&&e.txParams.nonce&&e.txParams.nonce===n.nonce&&e.type!==X.TransactionType.incoming)},C=function(){return H(this,r,"m",U).call(this).filter(e=>e.status===X.TransactionStatus.submitted&&!e.verifiedOnBlockchain&&!e.isUserOperation)},P=function(e,t,n){H(this,r,"m",L).call(this,{...e,warning:{error:t,message:n}},"PendingTransactionTracker:#warnTransaction - Warning added")},x=function(e,t){H(this,d,"f").call(this,"Transaction failed",e.id,t),H(this,r,"m",A).call(this,e.id),this.hub.emit("transaction-failed",e,t)},k=function(e){H(this,d,"f").call(this,"Transaction dropped",e.id),H(this,r,"m",A).call(this,e.id),this.hub.emit("transaction-dropped",e)},L=function(e,t){this.hub.emit("transaction-updated",e,t)},B=async function(e){return await(0,z.query)(H(this,s,"f").call(this),"getTransactionReceipt",[e])},D=async function(e,t){return await(0,z.query)(H(this,s,"f").call(this),"getBlockByHash",[e,t])},M=async function(e){return await(0,z.query)(H(this,s,"f").call(this),"getTransactionCount",[e])},j=function(){const e=H(this,o,"f").call(this);return H(this,c,"f").call(this).filter(t=>t.chainId===e)},U=function(){const e=H(this,a,"f").call(this);return H(this,c,"f").call(this).filter(t=>t.networkClientId===e)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/PendingTransactionTracker.cjs"}],[2311,{"../logger.cjs":2317,"../types.cjs":2318,"../utils/utils.cjs":2336,"@metamask/utils":2361,"bn.js":3257,lodash:4088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},h=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.hasSimulationDataChanged=n.shouldResimulate=n.ResimulateHelper=n.RESIMULATE_INTERVAL_MS=n.BLOCK_TIME_ADDITIONAL_SECONDS=n.VALUE_COMPARISON_PERCENT_THRESHOLD=n.BLOCKAID_RESULT_TYPE_MALICIOUS=n.RESIMULATE_PARAMS=void 0;const p=e("@metamask/utils"),m=e("bn.js"),g=e("lodash"),_=e("../logger.cjs"),E=e("../types.cjs"),b=e("../utils/utils.cjs"),y=(0,_.createModuleLogger)(_.projectLogger,"resimulate-helper");n.RESIMULATE_PARAMS=["to","value","data"],n.BLOCKAID_RESULT_TYPE_MALICIOUS="Malicious",n.VALUE_COMPARISON_PERCENT_THRESHOLD=5,n.BLOCK_TIME_ADDITIONAL_SECONDS=60,n.RESIMULATE_INTERVAL_MS=3e3;function w(e,t){return!S(e?.difference??"0x0",t?.difference??"0x0",!1===e?.isDecrease,!1===t?.isDecrease)}function S(e,t,r,i){let o=new m.BN((0,p.remove0x)(e),"hex"),s=new m.BN((0,p.remove0x)(t),"hex");return r&&(o=o.neg()),i&&(s=s.neg()),(0,b.getPercentageChange)(o,s)<=n.VALUE_COMPARISON_PERCENT_THRESHOLD}n.ResimulateHelper=class{constructor({getTransactions:e,simulateTransaction:t,onTransactionsUpdate:n}){r.add(this),i.set(this,new Map),o.set(this,void 0),s.set(this,void 0),f(this,o,e,"f"),f(this,s,t,"f"),n(h(this,r,"m",a).bind(this))}},i=new WeakMap,o=new WeakMap,s=new WeakMap,r=new WeakSet,a=function(){const e=h(this,o,"f").call(this).filter(e=>e.status===E.TransactionStatus.unapproved),t=new Set(e.map(e=>e.id));new Set([...t,...h(this,i,"f").keys()]).forEach(t=>{const n=e.find(e=>e.id===t);n?.isActive?h(this,r,"m",c).call(this,n):h(this,r,"m",l).call(this,t)})},c=function(e){const{id:t}=e;if(h(this,i,"f").has(t))return;const o=()=>{h(this,s,"f").call(this,e).catch(e=>{y("Error during transaction resimulation",e)}).finally(()=>{h(this,i,"f").has(t)&&h(this,r,"m",u).call(this,t,o)})};h(this,r,"m",u).call(this,t,o),y(`Started resimulating transaction ${t} every ${n.RESIMULATE_INTERVAL_MS} milliseconds`)},u=function(e,t){const r=setTimeout(t,n.RESIMULATE_INTERVAL_MS);h(this,i,"f").set(e,r)},l=function(e){h(this,i,"f").has(e)&&(h(this,r,"m",d).call(this,e),y(`Stopped resimulating transaction ${e} every ${n.RESIMULATE_INTERVAL_MS} milliseconds`))},d=function(e){const t=h(this,i,"f").get(e);t&&(clearTimeout(t),h(this,i,"f").delete(e))},n.shouldResimulate=function(e,t){const{id:r}=t,i=function(e,t){const{id:r,txParams:i}=t,{txParams:o}=e;if(!o||(0,g.isEqual)(o,i))return!1;const s=Object.keys(i).filter(e=>i[e]!==o[e]);return y("Transaction parameters updated",{transactionId:r,updatedProperties:s,originalParams:o,newParams:i}),n.RESIMULATE_PARAMS.some(e=>s.includes(e))}(e,t),o=function(e,t){const{securityAlertResponse:r}=e,{id:i,securityAlertResponse:o}=t;if((0,g.isEqual)(r,o))return!1;return y("Security alert updated",{transactionId:i,originalSecurityAlertResponse:r,newSecurityAlertResponse:o}),o?.result_type===n.BLOCKAID_RESULT_TYPE_MALICIOUS}(e,t),s=function(e,t){const{simulationData:n}=e,{simulationData:r,txParams:i}=t;if(!r||(0,g.isEqual)(n,r))return!1;return!S(i?.value??"0x0",r?.nativeBalanceChange?.difference??"0x0",!1,!1===r?.nativeBalanceChange?.isDecrease)}(e,t),a=i||o||s;let c;if(o||s){c=Math.floor(Date.now()/1e3)+n.BLOCK_TIME_ADDITIONAL_SECONDS}return a&&y("Transaction should be resimulated",{transactionId:r,blockTime:c,parametersUpdated:i,securityAlert:o,valueAndNativeBalanceMismatch:s}),{blockTime:c,resimulate:a}},n.hasSimulationDataChanged=function(e,t){if((0,g.isEqual)(e,t))return!1;if(w(e?.nativeBalanceChange,t?.nativeBalanceChange))return y("Simulation data native balance changed"),!0;if(e.tokenBalanceChanges.length!==t.tokenBalanceChanges.length)return!0;for(const n of e.tokenBalanceChanges){const e=t.tokenBalanceChanges.find(({address:e,id:t})=>e===n.address&&t===n.id);if(!e)return y("Missing new token balance",{address:n.address,id:n.id}),!0;if(w(n,e))return y("Simulation data token balance changed",{originalTokenBalanceChange:n,newTokenBalanceChange:e}),!0}return!1}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/ResimulateHelper.cjs"}],[2312,{"../logger.cjs":2317,"../utils/feature-flags.cjs":2323,"@metamask/utils":2361,lodash:4088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f,h,p,m,g,_=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},E=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionPoller=void 0;const b=e("@metamask/utils"),y=e("lodash"),w=e("../logger.cjs"),S=e("../utils/feature-flags.cjs"),T=(0,b.createModuleLogger)(w.projectLogger,"transaction-poller");n.TransactionPoller=class{constructor({blockTracker:e,chainId:t,messenger:n}){r.add(this),i.set(this,0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,!1),f.set(this,void 0),_(this,o,e,"f"),_(this,s,t,"f"),_(this,a,n,"f")}start(e){E(this,d,"f")||(_(this,u,e,"f"),_(this,d,!0,"f"),E(this,r,"m",h).call(this),T("Started"))}stop(){E(this,d,"f")&&(_(this,d,!1,"f"),_(this,u,undefined,"f"),_(this,i,0,"f"),_(this,l,undefined,"f"),E(this,r,"m",m).call(this),E(this,r,"m",g).call(this),T("Stopped"))}setPendingTransactions(e){const t=(E(this,l,"f")??[]).map(e=>e.id);_(this,l,e,"f");const n=e.map(e=>e.id),o=!(0,y.isEqual)(t,n);E(this,d,"f")&&o&&(T("Detected new pending transactions",n),_(this,i,0,"f"),E(this,c,"f")&&(E(this,r,"m",g).call(this),E(this,r,"m",h).call(this)))}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,f=new WeakMap,r=new WeakSet,h=function e(){if(!E(this,d,"f"))return;const{countMax:t,intervalMs:n}=(0,S.getAcceleratedPollingParams)(E(this,s,"f"),E(this,a,"f"));if(E(this,i,"f")>=t)return _(this,c,e=>E(this,r,"m",p).call(this,!1,e),"f"),E(this,o,"f").on("latest",E(this,c,"f")),void T("Added block tracker listener");E(this,r,"m",m).call(this),_(this,f,setTimeout(async()=>{await E(this,r,"m",p).call(this,!0),E(this,r,"m",e).call(this)},n),"f")},p=async function(e,t){e?T("Accelerated interval",E(this,i,"f")+1):T("Block tracker interval",t);const n=t??await E(this,o,"f").getLatestBlock();await(E(this,u,"f")?.call(this,n)),e&&E(this,d,"f")&&_(this,i,E(this,i,"f")+1,"f")},m=function(){E(this,f,"f")&&(clearTimeout(E(this,f,"f")),_(this,f,undefined,"f"))},g=function(){E(this,c,"f")&&(E(this,o,"f").removeListener("latest",E(this,c,"f")),_(this,c,undefined,"f"))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/TransactionPoller.cjs"}],[2313,{"../logger.cjs":2317,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},l=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CollectPublishHook=void 0;const d=e("@metamask/utils"),f=e("../logger.cjs"),h=(0,d.createModuleLogger)(f.projectLogger,"collect-publish-hook");n.CollectPublishHook=class{constructor(e){r.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),u(this,i,[],"f"),u(this,a,(0,d.createDeferredPromise)(),"f"),u(this,o,[],"f"),u(this,s,e,"f")}getHook(){return l(this,r,"m",c).bind(this)}ready(){return l(this,a,"f").promise}success(e){if(h("Success",{transactionHashes:e}),e.length!==l(this,s,"f"))throw new Error("Transaction hash count mismatch");for(let t=0;t<l(this,i,"f").length;t++){const n=l(this,i,"f")[t],r=e[t];n.resolve({transactionHash:r})}}error(e){h("Error",{error:e});for(const t of l(this,i,"f"))t.reject(e)}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,r=new WeakSet,c=function(e,t){l(this,o,"f").push(t),h("Processing transaction",{transactionMeta:e,signedTx:t});const n=(0,d.createDeferredPromise)();return l(this,i,"f").push(n),l(this,o,"f").length===l(this,s,"f")&&(h("All transactions signed"),l(this,a,"f").resolve({signedTransactions:l(this,o,"f")})),n.promise}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/hooks/CollectPublishHook.cjs"}],[2314,{"../logger.cjs":2317,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.ExtraTransactionsPublishHook=void 0;const u=e("@metamask/utils"),l=e("../logger.cjs"),d=(0,u.createModuleLogger)(l.projectLogger,"extra-transactions-publish-hook");n.ExtraTransactionsPublishHook=class{constructor({addTransactionBatch:e,transactions:t}){r.add(this),i.set(this,void 0),o.set(this,void 0),a(this,i,e,"f"),a(this,o,t,"f")}getHook(){return c(this,r,"m",s).bind(this)}},i=new WeakMap,o=new WeakMap,r=new WeakSet,s=async function(e,t){d("Publishing transaction as batch",{transactionMeta:e,signedTx:t});const{id:n,networkClientId:r,txParams:s}=e,a=s.from,l=s.to,f=s.data,h=s.value,p=s.gas,m=s.maxFeePerGas,g=s.maxPriorityFeePerGas,_=t,E=(0,u.createDeferredPromise)(),b=[{existingTransaction:{id:n,onPublish:({transactionHash:e})=>{E.resolve({transactionHash:e})},signedTransaction:_},params:{data:f,gas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,to:l,value:h}},...c(this,o,"f").map(e=>{const{type:t,...n}=e;return{params:n,type:t}})];return d("Adding transaction batch",{from:a,networkClientId:r,transactions:b}),await c(this,i,"f").call(this,{from:a,networkClientId:r,transactions:b,disable7702:!0,disableHook:!1,disableSequential:!0}),E.promise}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/hooks/ExtraTransactionsPublishHook.cjs"}],[2315,{"../logger.cjs":2317,"@metamask/rpc-errors":1958,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f,h,p=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},m=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SequentialPublishBatchHook=void 0;const g=e("@metamask/rpc-errors"),_=e("@metamask/utils"),E=e("../logger.cjs"),b=(0,_.createModuleLogger)(E.projectLogger,"sequential-publish-batch-hook");n.SequentialPublishBatchHook=class{constructor({publishTransaction:e,getTransaction:t,getPendingTransactionTracker:n,getEthQuery:u}){r.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,{}),p(this,i,e,"f"),p(this,o,t,"f"),p(this,s,u,"f"),p(this,a,n,"f")}getHook(){return m(this,r,"m",u).bind(this)}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,r=new WeakSet,u=async function({from:e,networkClientId:t,transactions:n}){b("Starting sequential publish batch hook",{from:e,networkClientId:t});const c=m(this,a,"f").call(this,t),u=[];for(const e of n)try{const n=m(this,o,"f").call(this,String(e.id)),a=await m(this,i,"f").call(this,m(this,s,"f").call(this,t),n);b("Transaction published",{transactionHash:a});const d={...n,hash:a},f=m(this,r,"m",l).call(this,c,d.id,d.hash);c.addTransactionToPoll(d),await f,u.push({transactionHash:a})}catch(t){throw b("Batch transaction failed",{transaction:e,error:t}),c.stop(),g.rpcErrors.internal("Failed to publish batch transaction")}return b("Sequential publish batch hook completed",{results:u}),c.stop(),{results:u}},l=async function(e,t,n){return new Promise((i,o)=>{const s=m(this,r,"m",d).bind(this,t,n,i,e),a=m(this,r,"m",f).bind(this,t,n,o,e);m(this,c,"f")[t]={onConfirmed:s,onFailedOrDropped:a},e.hub.on("transaction-confirmed",s),e.hub.on("transaction-failed",a),e.hub.on("transaction-dropped",a)})},d=function(e,t,n,i,o){o.id===e&&(b("Transaction confirmed",{transactionHash:t}),m(this,r,"m",h).call(this,i,e),n(o))},f=function(e,t,n,i,o,s){o.id===e&&(b("Transaction failed or dropped",{transactionHash:t,error:s}),m(this,r,"m",h).call(this,i,e),n(new Error(`Transaction ${t} failed or dropped.`)))},h=function(e,t){const n=m(this,c,"f")[t];e.hub.off("transaction-confirmed",n.onConfirmed),e.hub.off("transaction-failed",n.onFailedOrDropped),e.hub.off("transaction-dropped",n.onFailedOrDropped),delete m(this,c,"f")[t]}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/hooks/SequentialPublishBatchHook.cjs"}],[2316,{"./TransactionController.cjs":2293,"./constants.cjs":2296,"./helpers/AccountsApiRemoteTransactionSource.cjs":2305,"./types.cjs":2318,"./utils/gas-flow.cjs":2326,"./utils/history.cjs":2328,"./utils/prepare.cjs":2331,"./utils/transaction-type.cjs":2335,"./utils/utils.cjs":2336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HARDFORK=n.INCOMING_TRANSACTIONS_SUPPORTED_CHAIN_IDS=n.CHAIN_IDS=n.normalizeTransactionParams=n.isEIP1559Transaction=n.mergeGasFeeEstimates=n.determineTransactionType=n.MAX_TRANSACTION_HISTORY_LENGTH=n.DISPLAYED_TRANSACTION_HISTORY_PATHS=n.WalletDevice=n.UserFeeLevel=n.TransactionType=n.TransactionStatus=n.TransactionEnvelopeType=n.TransactionContainerType=n.SimulationTokenStandard=n.SimulationErrorCode=n.GasFeeEstimateType=n.GasFeeEstimateLevel=n.TransactionController=n.SPEED_UP_RATE=n.CANCEL_RATE=void 0;var r=e("./TransactionController.cjs");Object.defineProperty(n,"CANCEL_RATE",{enumerable:!0,get:function(){return r.CANCEL_RATE}}),Object.defineProperty(n,"SPEED_UP_RATE",{enumerable:!0,get:function(){return r.SPEED_UP_RATE}}),Object.defineProperty(n,"TransactionController",{enumerable:!0,get:function(){return r.TransactionController}});var i=e("./types.cjs");Object.defineProperty(n,"GasFeeEstimateLevel",{enumerable:!0,get:function(){return i.GasFeeEstimateLevel}}),Object.defineProperty(n,"GasFeeEstimateType",{enumerable:!0,get:function(){return i.GasFeeEstimateType}}),Object.defineProperty(n,"SimulationErrorCode",{enumerable:!0,get:function(){return i.SimulationErrorCode}}),Object.defineProperty(n,"SimulationTokenStandard",{enumerable:!0,get:function(){return i.SimulationTokenStandard}}),Object.defineProperty(n,"TransactionContainerType",{enumerable:!0,get:function(){return i.TransactionContainerType}}),Object.defineProperty(n,"TransactionEnvelopeType",{enumerable:!0,get:function(){return i.TransactionEnvelopeType}}),Object.defineProperty(n,"TransactionStatus",{enumerable:!0,get:function(){return i.TransactionStatus}}),Object.defineProperty(n,"TransactionType",{enumerable:!0,get:function(){return i.TransactionType}}),Object.defineProperty(n,"UserFeeLevel",{enumerable:!0,get:function(){return i.UserFeeLevel}}),Object.defineProperty(n,"WalletDevice",{enumerable:!0,get:function(){return i.WalletDevice}});var o=e("./utils/history.cjs");Object.defineProperty(n,"DISPLAYED_TRANSACTION_HISTORY_PATHS",{enumerable:!0,get:function(){return o.DISPLAYED_TRANSACTION_HISTORY_PATHS}}),Object.defineProperty(n,"MAX_TRANSACTION_HISTORY_LENGTH",{enumerable:!0,get:function(){return o.MAX_TRANSACTION_HISTORY_LENGTH}});var s=e("./utils/transaction-type.cjs");Object.defineProperty(n,"determineTransactionType",{enumerable:!0,get:function(){return s.determineTransactionType}});var a=e("./utils/gas-flow.cjs");Object.defineProperty(n,"mergeGasFeeEstimates",{enumerable:!0,get:function(){return a.mergeGasFeeEstimates}});var c=e("./utils/utils.cjs");Object.defineProperty(n,"isEIP1559Transaction",{enumerable:!0,get:function(){return c.isEIP1559Transaction}}),Object.defineProperty(n,"normalizeTransactionParams",{enumerable:!0,get:function(){return c.normalizeTransactionParams}});var u=e("./constants.cjs");Object.defineProperty(n,"CHAIN_IDS",{enumerable:!0,get:function(){return u.CHAIN_IDS}});var l=e("./helpers/AccountsApiRemoteTransactionSource.cjs");Object.defineProperty(n,"INCOMING_TRANSACTIONS_SUPPORTED_CHAIN_IDS",{enumerable:!0,get:function(){return l.SUPPORTED_CHAIN_IDS}});var d=e("./utils/prepare.cjs");Object.defineProperty(n,"HARDFORK",{enumerable:!0,get:function(){return d.HARDFORK}})}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/index.cjs"}],[2317,{"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.incomingTransactionsLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("transaction-controller"),n.incomingTransactionsLogger=(0,r.createModuleLogger)(n.projectLogger,"incoming-transactions")}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/logger.cjs"}],[2318,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f;Object.defineProperty(n,"__esModule",{value:!0}),n.SimulationErrorCode=n.SimulationTokenStandard=n.GasFeeEstimateType=n.GasFeeEstimateLevel=n.UserFeeLevel=n.TransactionEnvelopeType=n.TransactionContainerType=n.TransactionType=n.WalletDevice=n.TransactionStatus=void 0,function(e){e.unapproved="unapproved",e.approved="approved",e.signed="signed",e.submitted="submitted",e.confirmed="confirmed",e.failed="failed",e.dropped="dropped",e.rejected="rejected",e.cancelled="cancelled"}(r||(n.TransactionStatus=r={})),function(e){e.MM_MOBILE="metamask_mobile",e.MM_EXTENSION="metamask_extension",e.OTHER="other_device"}(i||(n.WalletDevice=i={})),function(e){e.batch="batch",e.bridge="bridge",e.bridgeApproval="bridgeApproval",e.cancel="cancel",e.contractInteraction="contractInteraction",e.deployContract="contractDeployment",e.ethDecrypt="eth_decrypt",e.ethGetEncryptionPublicKey="eth_getEncryptionPublicKey",e.gasPayment="gas_payment",e.incoming="incoming",e.lendingDeposit="lendingDeposit",e.lendingWithdraw="lendingWithdraw",e.personalSign="personal_sign",e.retry="retry",e.revokeDelegation="revokeDelegation",e.simpleSend="simpleSend",e.signTypedData="eth_signTypedData",e.smart="smart",e.stakingClaim="stakingClaim",e.stakingDeposit="stakingDeposit",e.stakingUnstake="stakingUnstake",e.swap="swap",e.swapAndSend="swapAndSend",e.swapApproval="swapApproval",e.tokenMethodApprove="approve",e.tokenMethodSafeTransferFrom="safetransferfrom",e.tokenMethodTransfer="transfer",e.tokenMethodTransferFrom="transferfrom",e.tokenMethodSetApprovalForAll="setapprovalforall",e.tokenMethodIncreaseAllowance="increaseAllowance"}(o||(n.TransactionType=o={})),function(e){e.EnforcedSimulations="enforcedSimulations"}(s||(n.TransactionContainerType=s={})),function(e){e.legacy="0x0",e.accessList="0x1",e.feeMarket="0x2",e.setCode="0x4"}(a||(n.TransactionEnvelopeType=a={})),function(e){e.CUSTOM="custom",e.DAPP_SUGGESTED="dappSuggested",e.MEDIUM="medium"}(c||(n.UserFeeLevel=c={})),function(e){e.Low="low",e.Medium="medium",e.High="high"}(u||(n.GasFeeEstimateLevel=u={})),function(e){e.FeeMarket="fee-market",e.Legacy="legacy",e.GasPrice="eth_gasPrice"}(l||(n.GasFeeEstimateType=l={})),function(e){e.erc20="erc20",e.erc721="erc721",e.erc1155="erc1155"}(d||(n.SimulationTokenStandard=d={})),function(e){e.ChainNotSupported="chain-not-supported",e.Disabled="disabled",e.InvalidResponse="invalid-response",e.Reverted="reverted"}(f||(n.SimulationErrorCode=f={}))}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/types.cjs"}],[2319,{"../api/simulation-api.cjs":2295,"../constants.cjs":2296,"../errors.cjs":2297,"../logger.cjs":2317,"../types.cjs":2318,"@ethersproject/abi":552,"@metamask/controller-utils":1315,"@metamask/metamask-eth-abis":1621,"@metamask/utils":2361,"bn.js":3257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getBalanceChanges=n.SupportedToken=void 0;const i=e("@ethersproject/abi"),o=e("@metamask/controller-utils"),s=e("@metamask/metamask-eth-abis"),a=e("@metamask/utils"),c=r(e("bn.js")),u=e("../api/simulation-api.cjs"),l=e("../constants.cjs"),d=e("../errors.cjs"),f=e("../logger.cjs"),h=e("../types.cjs");var p;!function(e){e.ERC20="erc20",e.ERC721="erc721",e.ERC1155="erc1155",e.ERC20_WRAPPED="erc20Wrapped",e.ERC721_LEGACY="erc721Legacy"}(p||(n.SupportedToken=p={}));const m=(0,a.createModuleLogger)(f.projectLogger,"balance-changes"),g=["Transfer","TransferSingle","TransferBatch","Deposit","Withdrawal"],_={[p.ERC20]:{abi:s.abiERC20,standard:h.SimulationTokenStandard.erc20},[p.ERC721]:{abi:s.abiERC721,standard:h.SimulationTokenStandard.erc721},[p.ERC1155]:{abi:s.abiERC1155,standard:h.SimulationTokenStandard.erc1155},[p.ERC20_WRAPPED]:{abi:l.ABI_SIMULATION_ERC20_WRAPPED,standard:h.SimulationTokenStandard.erc20},[p.ERC721_LEGACY]:{abi:l.ABI_SIMULATION_ERC721_LEGACY,standard:h.SimulationTokenStandard.erc721}},E=["execution reverted","insufficient funds for gas"];function b(e){if(Array.isArray(e))return e.map(b);let t=e;return t=t.toHexString?.()??t,t=t.toLowerCase?.()??t,t}function y(e){return"Transfer"===e.name&&e.tokenStandard===h.SimulationTokenStandard.erc721&&0===parseInt(e.args.from,16)}function w(e){return e.tokenStandard===h.SimulationTokenStandard.erc721?[e.args.tokenId]:e.tokenStandard===h.SimulationTokenStandard.erc1155&&"TransferSingle"===e.name?[e.args.id]:e.tokenStandard===h.SimulationTokenStandard.erc1155&&"TransferBatch"===e.name?e.args.ids:[undefined]}function S(e){switch(e){case h.SimulationTokenStandard.erc721:return new i.Interface(s.abiERC721);case h.SimulationTokenStandard.erc1155:return new i.Interface(s.abiERC1155);default:return new i.Interface(s.abiERC20)}}function T(e,t,n){const r=S(t.standard);try{if(t.standard===h.SimulationTokenStandard.erc721){const t=r.decodeFunctionResult("ownerOf",n.return);return t[0].toLowerCase()===e.toLowerCase()?"0x1":"0x0"}const i=r.decodeFunctionResult("balanceOf",n.return);return(0,o.toHex)(i[0])}catch(e){throw m("Failed to decode balance transaction",e,{token:t,response:n}),new d.SimulationError(`Failed to decode balance transaction for token ${t.address}: ${String(e)}`)}}function R(e,t,n){const r=S(e);switch(e){case h.SimulationTokenStandard.erc721:return r.encodeFunctionData("ownerOf",[n]);case h.SimulationTokenStandard.erc1155:return r.encodeFunctionData("balanceOf",[t,n]);default:return r.encodeFunctionData("balanceOf",[t])}}function A(e){return[...e.logs??[],...(e.calls??[]).map(e=>A(e)).flat()]}function v(e,t,n=0){const r=(0,o.hexToBN)(t).add(new c.default(n)),i=(0,o.hexToBN)(e),s=r.sub(i),a=s.isNeg(),u=(0,o.toHex)(s.abs());return s.isZero()?(m("Balance change is zero"),undefined):{previousBalance:e,newBalance:(0,o.toHex)(r),difference:u,isDecrease:a}}async function O({request:e,params:t,before:n=[],after:r=[]}){const{blockTime:i,chainId:s,ethQuery:a,txParams:l}=e,{authorizationList:d}=l,f=l.from,h=d?.map(e=>({address:e.address,from:f})),p=[...n,{authorizationList:h,data:l.data,from:l.from,gas:l.gas,maxFeePerGas:l.maxFeePerGas??l.gasPrice,maxPriorityFeePerGas:l.maxPriorityFeePerGas??l.gasPrice,to:l.to,value:l.value},...r],g=function(e){const{txParams:t}=e,n=(0,o.hexToBN)(t.gas??"0x0"),r=(0,o.hexToBN)(t.maxFeePerGas??t.gasPrice??"0x0"),i=(0,o.hexToBN)(t.value??"0x0"),s=(e.nestedTransactions??[]).map(e=>(0,o.hexToBN)(e.value??"0x0")).reduce((e,t)=>e.add(t),new c.default(0));return n.mul(r).add(i).add(s)}(e),_=(0,o.toHex)(g);m("Required balance",_);const E=await(0,o.query)(a,"getBalance",[f,"latest"]),b=(0,o.hexToBN)(E);m("Current balance",E);const y=b.lt(g);return await(0,u.simulateTransactions)(s,{...t,transactions:p,withGas:!0,withDefaultBlockOverrides:!0,...i&&{blockOverrides:{...t?.blockOverrides,time:(0,o.toHex)(i)}},...y&&{overrides:{...t?.overrides,[f]:{...t?.overrides?.[f],balance:_}}}})}n.getBalanceChanges=async function(e){m("Request",e);try{const t=await O({request:e,params:{withCallTrace:!0,withLogs:!0}}),n=t.transactions?.[0]?.error;if(n)throw new d.SimulationError(n);const r=function(e,t){const n=t.transactions[0];if(!n)return undefined;const{txParams:r}=e,i=r.from,{stateDiff:o}=n,s=o?.pre?.[i]?.balance,a=o?.post?.[i]?.balance;if(!s||!a)return undefined;return v(s,a,n.gasCost)}(e,t),o=function(e){const t=A(e.transactions[0]?.callTrace??{});m("Extracted logs",t);const n=function(){const e=Object.values(p);return new Map(e.map(e=>{const{abi:t}=_[e];return[e,new i.Interface(t)]}))}();return t.map(e=>{const t=function(e,t){const n=Object.values(p);for(const r of n)try{const n=t.get(r),{abi:i,standard:o}=_[r];return{...n.parseLog(e),abi:i,standard:o}}catch(e){continue}return undefined}(e,n);if(!t)return m("Failed to parse log",e),undefined;const r=t.abi.find(e=>e.name===t.name)?.inputs;if(!r)return m("Failed to find inputs for event",t),undefined;if(!g.includes(t.name))return m("Ignoring unsupported event",t.name,t),undefined;m("Normalizing event args",t.name,t);const i=function(e,t){return e.reduce((e,n,r)=>{const i=t[r].name.replace("_",""),o=b(n);return e[i]=o,e},{})}(t.args,r);return{contractAddress:e.address,tokenStandard:t.standard,name:t.name,args:i,abi:t.abi}}).filter(e=>e!==undefined)}(t);m("Parsed events",o);const s=await async function(e,t){const{txParams:n}=e,r=n.from,i=function(e,t){const n=new Set,r=new Map,i=new Map,o=e.txParams.from,s=t.filter(e=>[e.args.from,e.args.to].includes(o));m("Filtered user events",s);for(const e of s){const t=w(e);m("Extracted token IDs",t);for(const s of t){const t={address:e.contractAddress,standard:e.tokenStandard,id:s},a=JSON.stringify(t);if(n.has(a)){m("Ignoring additional event with same contract and token ID",t);continue}n.add(a);const c=R(e.tokenStandard,o,s),u={from:o,to:e.contractAddress,data:c};y(e)||r.set(t,u),i.set(t,u)}}return{before:r,after:i}}(e,t);m("Generated balance transactions",[...i.after.values()]);const o=i.before.size+i.after.size+1;if(1===o)return[];const s=await O({request:e,before:[...i.before.values()],after:[...i.after.values()]});if(m("Balance simulation response",s),s.transactions.length!==o)throw new d.SimulationInvalidResponseError;let a=0;return[...i.after.keys()].map((e,t)=>{const n=v(!i.before.get(e)?"0x0":T(r,e,s.transactions[a++]),T(r,e,s.transactions[t+i.before.size+1]));return n?{...e,...n}:undefined}).filter(e=>e!==undefined)}(e,o);return{nativeBalanceChange:r,tokenBalanceChanges:s}}catch(t){m("Failed to get balance changes",t,e);let n=t;E.some(e=>n.message?.includes(e))&&(n=new d.SimulationRevertedError);const{code:r,message:i}=n;return{tokenBalanceChanges:[],error:{code:r,message:i}}}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/balance-changes.cjs"}],[2320,{"../gas-flows/DefaultGasFeeFlow.cjs":2298,"../helpers/GasFeePoller.cjs":2306,"../hooks/CollectPublishHook.cjs":2313,"../hooks/SequentialPublishBatchHook.cjs":2315,"../index.cjs":2316,"../logger.cjs":2317,"../types.cjs":2318,"./eip7702.cjs":2321,"./feature-flags.cjs":2323,"./gas.cjs":2327,"./validation.cjs":2337,"@metamask/controller-utils":1315,"@metamask/rpc-errors":1958,"@metamask/utils":2361,uuid:4918},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isAtomicBatchSupported=n.addTransactionBatch=n.ERROR_MESSAGE_NO_UPGRADE_CONTRACT=void 0;const r=e("@metamask/controller-utils"),i=e("@metamask/rpc-errors"),o=e("@metamask/utils"),s=e("uuid"),a=e("./eip7702.cjs"),c=e("./feature-flags.cjs"),u=e("./gas.cjs"),l=e("./validation.cjs"),d=e("../index.cjs"),f=e("../gas-flows/DefaultGasFeeFlow.cjs"),h=e("../helpers/GasFeePoller.cjs"),p=e("../hooks/CollectPublishHook.cjs"),m=e("../hooks/SequentialPublishBatchHook.cjs"),g=e("../logger.cjs"),_=e("../types.cjs"),E=(0,o.createModuleLogger)(g.projectLogger,"batch");function b(){const e=(0,s.v4)(),t=new Uint8Array((0,s.parse)(e));return(0,o.bytesToHex)(t)}async function y(e,t,n,r,i){const{assetsFiatValues:o,existingTransaction:s,params:a,type:c}=t,{addTransaction:u,getTransaction:l,request:f,updateTransaction:p}=r,{from:m,networkClientId:g,origin:_}=f;if(s){const{id:t,onPublish:r,signedTransaction:i}=s,o=l(t);return p({transactionId:t},t=>{t.batchId=e}),n(o,i).then(r).catch(()=>{}),E("Processed existing transaction with hook",{id:t,params:a}),{id:t,params:a}}const b={...i,txParams:{...a,from:m,gas:i?.gas??a.gas}};i&&(0,h.updateTransactionGasEstimates)({txMeta:b,userFeeLevel:d.GasFeeEstimateLevel.Medium});const{transactionMeta:y}=await u(b.txParams,{assetsFiatValues:o,batchId:e,disableGasBuffer:!0,networkClientId:g,origin:_,publishHook:n,requireApproval:!1,type:c}),{id:w,txParams:S}=y,T={data:S.data,gas:S.gas,maxFeePerGas:S.maxFeePerGas,maxPriorityFeePerGas:S.maxPriorityFeePerGas,to:S.to,value:S.value};return E("Processed new transaction with hook",{id:w,params:T,type:c}),{id:w,params:T,type:c}}n.ERROR_MESSAGE_NO_UPGRADE_CONTRACT="Upgrade contract address not found",n.addTransactionBatch=async function(e){const{getInternalAccounts:t,messenger:o,request:s}=e,h=(0,c.getBatchSizeLimit)(o);if((0,l.validateBatchRequest)({internalAccounts:t(),request:s,sizeLimit:h}),E("Adding",s),!s.disable7702)try{return await async function(e){const{addTransaction:t,getChainId:r,messenger:o,publicKeyEIP7702:s,request:u}=e,{batchId:l,from:f,networkClientId:h,origin:p,requireApproval:m,securityAlertId:g,transactions:y,validateSecurity:w}=u,S=r(h),T=e.getEthQuery(h),R=(0,a.doesChainSupportEIP7702)(S,o);if(!R)throw E("Chain does not support EIP-7702",S),i.rpcErrors.internal("Chain does not support EIP-7702");if(!s)throw i.rpcErrors.internal(a.ERROR_MESSGE_PUBLIC_KEY);const{delegationAddress:A,isSupported:v}=await(0,a.isAccountUpgradedToEIP7702)(f,S,s,o,T);if(E("Account",{delegationAddress:A,isSupported:v}),!v&&A)throw E("Account upgraded to unsupported contract",f,A),i.rpcErrors.internal("Account upgraded to unsupported contract");const O=await Promise.all(y.map(e=>async function(e,t,n){const{from:r}=e,{params:i,type:o}=t,{type:s}=await(0,d.determineTransactionType)({from:r,...i},n),a=o??s;return{...i,type:a}}(u,e,T))),I=(0,a.generateEIP7702BatchTransaction)(f,O),N={from:f,...I};if(!v){const e=(0,c.getEIP7702UpgradeContractAddress)(S,o,s);if(!e)throw i.rpcErrors.internal(n.ERROR_MESSAGE_NO_UPGRADE_CONTRACT);N.type=_.TransactionEnvelopeType.setCode,N.authorizationList=[{address:e}]}if(w){const e={method:"eth_sendTransaction",params:[{...N,authorizationList:undefined,type:_.TransactionEnvelopeType.feeMarket}],delegationMock:N.authorizationList?.[0]?.address,origin:p};E("Security request",e),w(e,S).catch(e=>{E("Security validation failed",e)})}E("Adding batch transaction",N,h);const C=l??b(),P=g?{securityAlertId:g}:undefined,{result:x}=await t(N,{batchId:C,nestedTransactions:O,networkClientId:h,origin:p,requireApproval:m,securityAlertResponse:P,type:_.TransactionType.batch});return await x,{batchId:C}}(e)}catch(e){if(!(e instanceof i.JsonRpcError&&"Chain does not support EIP-7702"===e.message))throw e}return await async function(e){const{messenger:t,publishBatchHook:n,request:o,update:s}=e,{from:a,networkClientId:c,origin:l,requireApproval:h,transactions:g}=o;let _,w=!1;E("Adding transaction batch using hook",o);const S=new m.SequentialPublishBatchHook({publishTransaction:e.publishTransaction,getTransaction:e.getTransaction,getEthQuery:e.getEthQuery,getPendingTransactionTracker:e.getPendingTransactionTracker});let{disable7702:T,disableSequential:R}=o;const{disableHook:A,useHook:v}=o;v&&(T=!0,R=!0);let O,I=null;!A&&n?I=n:R||(I=S.getHook(),w=!0);if(!I)throw E("No supported batch methods found",{disable7702:T,disableHook:A,disableSequential:R}),i.rpcErrors.internal("Can't process batch");const N=b(),C=g.map(e=>({...e,origin:l})),P=C.length,x=new p.CollectPublishHook(P);try{h&&(O=await async function({batchId:e,request:t}){const{messenger:n,request:r,isSimulationEnabled:i,getGasFeeEstimates:o,update:s,getEthQuery:a,getChainId:c}=t,{from:l,origin:h,networkClientId:p,transactions:m}=r,g=a(p);if(!i())throw new Error("Cannot create transaction batch as simulation not supported");E("Preparing approval data for batch");const _=c(p),{gasLimit:b}=await(0,u.simulateGasBatch)({chainId:_,from:l,transactions:m}),y=(R={chainId:_,from:l,gas:b,id:e,networkClientId:p,origin:h,transactions:m},{...R,status:d.TransactionStatus.unapproved}),w=new f.DefaultGasFeeFlow,S=await o({networkClientId:p}),T=await w.getGasFees({ethQuery:g,gasFeeControllerData:S,messenger:n,transactionMeta:{...y,txParams:{from:l,gas:b},time:Date.now()}});var R;return y.gasFeeEstimates=T.estimates,E("Saving transaction batch metadata",y),function(e,t){t(t=>{t.transactionBatches=[...t.transactionBatches,e]})}(y,s),y}({batchId:N,request:e}),_=(await async function(e,t){const n=String(e.id),{origin:i}=e,o=r.ApprovalType.TransactionBatch,s={txBatchId:n};return E("Requesting approval for transaction batch",n),await t.call("ApprovalController:addRequest",{id:n,origin:i||r.ORIGIN_METAMASK,requestData:s,expectsResult:!0,type:o},!0)}(O,t)).resultCallbacks);const n=x.getHook(),i=[];for(const t of C){const r=await y(N,t,n,e,O);i.push(r)}const{signedTransactions:o}=await x.ready(),s={from:a,networkClientId:c,transactions:i.map((e,t)=>({...e,signedTx:o[t]}))};E("Calling publish batch hook",s);let l=await I(s);if(E("Publish batch hook result",l),!l&&!w&&!R){E("Fallback to sequential publish batch hook due to empty results");const e=S.getHook();l=await e(s)}if(!l?.results?.length)throw new Error("Publish batch hook did not return a result");const p=l.results.map(({transactionHash:e})=>e);return x.success(p),_?.success(),E("Completed batch transaction with hook",p),{batchId:N}}catch(e){throw E("Publish batch hook failed",e),x.error(e),_?.error(e),e}finally{E("Cleaning up publish batch hook",N),function(e,t){e(e=>{e.transactionBatches=e.transactionBatches.filter(e=>e.id!==t)})}(s,N)}}(e)},n.isAtomicBatchSupported=async function(e){const{address:t,chainIds:n,getEthQuery:r,messenger:o,publicKeyEIP7702:s}=e;if(!s)throw i.rpcErrors.internal(a.ERROR_MESSGE_PUBLIC_KEY);const u=(0,c.getEIP7702SupportedChains)(o).filter(e=>!n||n.includes(e)),l=(await Promise.all(u.map(async e=>{try{const n=r(e),{isSupported:i,delegationAddress:u}=await(0,a.isAccountUpgradedToEIP7702)(t,e,s,o,n);return{chainId:e,delegationAddress:u,isSupported:i,upgradeContractAddress:(0,c.getEIP7702UpgradeContractAddress)(e,o,s)}}catch(t){return E("Error checking atomic batch support",e,t),undefined}}))).filter(e=>Boolean(e));return E("Atomic batch supported results",l),l}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/batch.cjs"}],[2321,{"../constants.cjs":2296,"../logger.cjs":2317,"./feature-flags.cjs":2323,"@ethersproject/abi":552,"@ethersproject/contracts":575,"@metamask/controller-utils":1315,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.signAuthorizationList=n.generateEIP7702BatchTransaction=n.isAccountUpgradedToEIP7702=n.getDelegationAddress=n.doesChainSupportEIP7702=n.ERROR_MESSGE_PUBLIC_KEY=n.CALLS_SIGNATURE=n.BATCH_FUNCTION_NAME=n.DELEGATION_PREFIX=void 0;const r=e("@ethersproject/abi"),i=e("@ethersproject/contracts"),o=e("@metamask/controller-utils"),s=e("@metamask/utils"),a=e("./feature-flags.cjs"),c=e("../constants.cjs"),u=e("../logger.cjs");n.DELEGATION_PREFIX="0xef0100",n.BATCH_FUNCTION_NAME="execute",n.CALLS_SIGNATURE="(address,uint256,bytes)[]",n.ERROR_MESSGE_PUBLIC_KEY="EIP-7702 public key not specified";const l=["gas","maxFeePerGas","maxPriorityFeePerGas"],d=(0,s.createModuleLogger)(u.projectLogger,"eip-7702");async function f(e,t){const r=await(0,o.query)(t,"eth_getCode",[e]),i=(0,s.add0x)(r?.toLowerCase?.()??"");return 48===r?.length&&i.startsWith(n.DELEGATION_PREFIX)?(0,s.add0x)(i.slice(n.DELEGATION_PREFIX.length)):undefined}async function h(e,t,n,r){const i=function(e,t,n){const{chainId:r,nonce:i}=e,{txParams:s,chainId:a}=t,{nonce:c}=s,u=r??a;let l=i;l===undefined&&(l=(0,o.toHex)(parseInt(c,16)+1+n));const f={...e,chainId:u,nonce:l};return d("Prepared authorization",f),f}(e,t,r),{txParams:a}=t,{from:c}=a,{address:u,chainId:l,nonce:f}=i,h=parseInt(l,16),p=parseInt(f,16),m=await n.call("KeyringController:signEip7702Authorization",{chainId:h,contractAddress:u,from:c,nonce:p}),g=m.slice(0,66),_=(0,s.add0x)(m.slice(66,130)),E=parseInt(m.slice(130,132),16),b={address:u,chainId:l,nonce:f,r:g,s:_,yParity:(0,o.toHex)(E-27==0?0:1)};return d("Signed authorization",b),b}n.doesChainSupportEIP7702=function(e,t){return(0,a.getEIP7702SupportedChains)(t).some(t=>t.toLowerCase()===e.toLowerCase())},n.getDelegationAddress=f,n.isAccountUpgradedToEIP7702=async function(e,t,n,r,i){const o=(0,a.getEIP7702ContractAddresses)(t,r,n),s=await f(e,i),c=Boolean(s&&o.some(e=>e.toLowerCase()===s.toLowerCase()));return{delegationAddress:s,isSupported:c}},n.generateEIP7702BatchTransaction=function(e,t){const o=i.Contract.getInterface(c.ABI_IERC7821),s=t.map(e=>{const{data:t,to:n,value:r}=e,i=l.filter(t=>e[t]!==undefined);if(i.length){const t=i.map(t=>`${t}: ${e[t]}`).join(", ");throw new Error(`EIP-7702 batch transactions do not support gas parameters per call - ${t}`)}return[n??"0x0000000000000000000000000000000000000000",r??"0x0",t??"0x"]}),a="0x01".padEnd(66,"0"),u=r.defaultAbiCoder.encode([n.CALLS_SIGNATURE],[s]),f=o.encodeFunctionData(n.BATCH_FUNCTION_NAME,[a,u]);return d("Transaction data",f),{data:f,to:e}},n.signAuthorizationList=async function({authorizationList:e,messenger:t,transactionMeta:n}){if(!e)return undefined;const r=[];let i=0;for(const o of e){const e=await h(o,n,t,i);r.push(e),i+=1}return r}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/eip7702.cjs"}],[2322,{"../types.cjs":2318,"@metamask/rpc-errors":1958},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateConfirmedExternalTransaction=void 0;const r=e("@metamask/rpc-errors"),i=e("../types.cjs");n.validateConfirmedExternalTransaction=function(e,t,n){if(!e||!e.txParams)throw r.rpcErrors.invalidParams('"transactionMeta" or "transactionMeta.txParams" is missing');if(e.status!==i.TransactionStatus.confirmed)throw r.rpcErrors.invalidParams('External transaction status should be "confirmed"');const o=e.txParams.nonce;if(n&&n.length>0){if(n.find(e=>e.txParams?.nonce===o))throw r.rpcErrors.invalidParams("External transaction nonce should not be in pending txs")}if(t&&t.length>0){if(t.find(e=>e.txParams?.nonce===o))throw r.rpcErrors.invalidParams("External transaction nonce should not be in confirmed txs")}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/external-transactions.cjs"}],[2323,{"../logger.cjs":2317,"./signature.cjs":2333,"./utils.cjs":2336,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIncomingTransactionsPollingInterval=n.getGasEstimateBuffer=n.getGasEstimateFallback=n.getGasFeeRandomisation=n.getAcceleratedPollingParams=n.getBatchSizeLimit=n.getEIP7702UpgradeContractAddress=n.getEIP7702ContractAddresses=n.getEIP7702SupportedChains=n.FeatureFlag=void 0;const r=e("@metamask/utils"),i=e("./signature.cjs"),o=e("./utils.cjs"),s=e("../logger.cjs");var a;!function(e){e.EIP7702="confirmations_eip_7702",e.GasBuffer="confirmations_gas_buffer",e.IncomingTransactions="confirmations_incoming_transactions",e.Transactions="confirmations_transactions"}(a||(n.FeatureFlag=a={}));const c=(0,r.createModuleLogger)(s.projectLogger,"feature-flags");function u(e,t,n){const r=l(t);return(r?.[a.EIP7702]?.contracts?.[e.toLowerCase()]??[]).filter(t=>(0,i.isValidSignature)([t.address,(0,o.padHexToEvenLength)(e)],t.signature,n)).map(e=>e.address)}function l(e){const t=e.call("RemoteFeatureFlagController:getState").remoteFeatureFlags;return c("Retrieved feature flags",t),t}n.getEIP7702SupportedChains=function(e){const t=l(e);return t?.[a.EIP7702]?.supportedChains??[]},n.getEIP7702ContractAddresses=u,n.getEIP7702UpgradeContractAddress=function(e,t,n){return u(e,t,n)?.[0]},n.getBatchSizeLimit=function(e){const t=l(e);return t?.[a.Transactions]?.batchSizeLimit??10},n.getAcceleratedPollingParams=function(e,t){const n=l(t),r=n?.[a.Transactions]?.acceleratedPolling;return{countMax:r?.perChainConfig?.[e]?.countMax||r?.defaultCountMax||10,intervalMs:r?.perChainConfig?.[e]?.intervalMs||r?.defaultIntervalMs||3e3}},n.getGasFeeRandomisation=function(e){const t=l(e),n=t?.[a.Transactions]?.gasFeeRandomisation||{};return{randomisedGasFeeDigits:n.randomisedGasFeeDigits||{},preservedNumberOfDigits:n.preservedNumberOfDigits}},n.getGasEstimateFallback=function(e,t){const n=l(t),r=n?.[a.Transactions]?.gasEstimateFallback,i=r?.perChainConfig?.[e],o=i?.percentage??r?.default?.percentage??35;return{fixed:i?.fixed??r?.default?.fixed,percentage:o}},n.getGasEstimateBuffer=function({chainId:e,isCustomRPC:t,isUpgradeWithDataToSelf:n,messenger:r}){const i=l(r),o=i?.[a.GasBuffer],s=o?.perChainConfig?.[e],c=t?undefined:s?.included,u=t?undefined:o?.included;return(n?s?.eip7702:undefined)??c??s?.base??u??o?.default??1},n.getIncomingTransactionsPollingInterval=function(e){const t=l(e);return t?.[a.IncomingTransactions]?.pollingIntervalMs??24e4}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/feature-flags.cjs"}],[2324,{"../api/simulation-api.cjs":2295,"../logger.cjs":2317,"./batch.cjs":2320,"./eip7702.cjs":2321,"./feature-flags.cjs":2323,"@metamask/rpc-errors":1958,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getGasFeeTokens=void 0;const r=e("@metamask/rpc-errors"),i=e("@metamask/utils"),o=e("./batch.cjs"),s=e("./eip7702.cjs"),a=e("./feature-flags.cjs"),c=e("../api/simulation-api.cjs"),u=e("../logger.cjs"),l=(0,i.createModuleLogger)(u.projectLogger,"gas-fee-tokens");n.getGasFeeTokens=async function({chainId:e,isEIP7702GasFeeTokensEnabled:t,messenger:n,publicKeyEIP7702:i,transactionMeta:u}){const{delegationAddress:d,txParams:f}=u,{authorizationList:h}=f,p=f.data,m=f.from,g=f.to,_=f.value;l("Request",{chainId:e,txParams:f});const E=await t(u)&&(0,s.doesChainSupportEIP7702)(e,n);let b=h?.map(e=>({address:e.address,from:m}));!E||d||b||(b=function({chainId:e,from:t,messenger:n,publicKeyEIP7702:i}){if(!i)throw r.rpcErrors.internal(s.ERROR_MESSGE_PUBLIC_KEY);const c=(0,a.getEIP7702UpgradeContractAddress)(e,n,i);if(!c)throw r.rpcErrors.internal(o.ERROR_MESSAGE_NO_UPGRADE_CONTRACT);return[{address:c,from:t}]}({chainId:e,from:m,messenger:n,publicKeyEIP7702:i}));try{const t=await(0,c.simulateTransactions)(e,{transactions:[{authorizationList:b,data:p,from:m,to:g,value:_}],suggestFees:{withTransfer:!0,withFeeTransfer:!0,with7702:E}});l("Response",t);const n=function(e){const t=e.transactions?.[0]?.fees?.[0];return(t?.tokenFees??[]).map(e=>({amount:e.balanceNeededToken,balance:e.currentBalanceToken,decimals:e.token.decimals,fee:e.serviceFee,gas:t.gas,gasTransfer:e.transferEstimate,maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas,rateWei:e.rateWei,recipient:e.feeRecipient,symbol:e.token.symbol,tokenAddress:e.token.address}))}(t);return l("Gas fee tokens",n),n}catch(e){return l("Failed to gas fee tokens",e),[]}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas-fee-tokens.cjs"}],[2325,{"../logger.cjs":2317,"../types.cjs":2318,"./gas-flow.cjs":2326,"./swaps.cjs":2334,"@metamask/controller-utils":1315,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.gweiDecimalToWeiDecimal=n.gweiDecimalToWeiHex=n.updateGasFees=void 0;const r=e("@metamask/controller-utils"),i=e("@metamask/utils"),o=e("./gas-flow.cjs"),s=e("./swaps.cjs"),a=e("../logger.cjs"),c=e("../types.cjs"),u=(0,i.createModuleLogger)(a.projectLogger,"gas-fees");function l(e){return(0,r.toHex)((0,r.gweiDecToWEIBN)(e))}n.updateGasFees=async function(e){const{txMeta:t}=e,n={...t.txParams},a=s.SWAP_TRANSACTION_TYPES.includes(t.type)?undefined:e.getSavedGasFees(t.chainId),d=await async function(e){const{eip1559:t,ethQuery:n,gasFeeFlows:s,getGasFeeEstimates:a,messenger:l,txMeta:d}=e,{networkClientId:f}=d;if(!t&&d.txParams.gasPrice||t&&d.txParams.maxFeePerGas&&d.txParams.maxPriorityFeePerGas)return{};const h=(0,o.getGasFeeFlow)(d,s,l);try{const e=await a({networkClientId:f}),t=await h.getGasFees({ethQuery:n,gasFeeControllerData:e,messenger:l,transactionMeta:d}),r=t.estimates?.type;switch(r){case c.GasFeeEstimateType.FeeMarket:return t.estimates.medium;case c.GasFeeEstimateType.Legacy:return{gasPrice:t.estimates.medium};case c.GasFeeEstimateType.GasPrice:return{gasPrice:t.estimates.gasPrice};default:throw new Error(`Unsupported gas fee estimate type returned from flow: ${r}`)}}catch(e){u("Failed to get suggested gas fees",e)}const p=await(0,r.query)(n,"gasPrice");return{gasPrice:p?(0,i.add0x)(p.toString(16)):undefined}}(e);u("Suggested gas fees",d);const f={...e,initialParams:n,savedGasFees:a,suggestedGasFees:d};t.txParams.maxFeePerGas=function(e){const{savedGasFees:t,eip1559:n,initialParams:r,suggestedGasFees:i}=e;if(!n)return undefined;if(t){const e=l(t.maxBaseFee);return u("Using maxFeePerGas from savedGasFees",e),e}if(r.maxFeePerGas)return u("Using maxFeePerGas from request",r.maxFeePerGas),r.maxFeePerGas;if(r.gasPrice&&!r.maxPriorityFeePerGas)return u("Setting maxFeePerGas to gasPrice from request",r.gasPrice),r.gasPrice;if(i.maxFeePerGas)return u("Using suggested maxFeePerGas",i.maxFeePerGas),i.maxFeePerGas;if(i.gasPrice)return u("Setting maxFeePerGas to suggested gasPrice",i.gasPrice),i.gasPrice;return u("maxFeePerGas not set"),undefined}(f),t.txParams.maxPriorityFeePerGas=function(e){const{eip1559:t,initialParams:n,savedGasFees:r,suggestedGasFees:i,txMeta:o}=e;if(!t)return undefined;if(r){const e=l(r.priorityFee);return u("Using maxPriorityFeePerGas from savedGasFees.priorityFee",e),e}if(n.maxPriorityFeePerGas)return u("Using maxPriorityFeePerGas from request",n.maxPriorityFeePerGas),n.maxPriorityFeePerGas;if(n.gasPrice&&!n.maxFeePerGas)return u("Setting maxPriorityFeePerGas to gasPrice from request",n.gasPrice),n.gasPrice;if(i.maxPriorityFeePerGas)return u("Using suggested maxPriorityFeePerGas",i.maxPriorityFeePerGas),i.maxPriorityFeePerGas;if(o.txParams.maxFeePerGas)return u("Setting maxPriorityFeePerGas to maxFeePerGas",o.txParams.maxFeePerGas),o.txParams.maxFeePerGas;return u("maxPriorityFeePerGas not set"),undefined}(f),t.txParams.gasPrice=function(e){const{eip1559:t,initialParams:n,suggestedGasFees:r}=e;if(t)return undefined;if(n.gasPrice)return u("Using gasPrice from request",n.gasPrice),n.gasPrice;if(r.maxFeePerGas)return u("Using suggested maxFeePerGas",r.maxFeePerGas),r.maxFeePerGas;if(r.gasPrice)return u("Using suggested gasPrice",r.gasPrice),r.gasPrice;return u("gasPrice not set"),undefined}(f),t.userFeeLevel=function(e){const{initialParams:t,savedGasFees:n,suggestedGasFees:i,txMeta:o}=e;if(n)return c.UserFeeLevel.CUSTOM;if(!t.maxFeePerGas&&!t.maxPriorityFeePerGas&&t.gasPrice)return o.origin===r.ORIGIN_METAMASK?c.UserFeeLevel.CUSTOM:c.UserFeeLevel.DAPP_SUGGESTED;if(!t.maxFeePerGas&&!t.maxPriorityFeePerGas&&i.maxFeePerGas&&i.maxPriorityFeePerGas)return c.UserFeeLevel.MEDIUM;if(!t.maxFeePerGas&&!t.maxPriorityFeePerGas&&i.gasPrice)return c.UserFeeLevel.MEDIUM;if(o.origin===r.ORIGIN_METAMASK)return c.UserFeeLevel.MEDIUM;return c.UserFeeLevel.DAPP_SUGGESTED}(f),u("Updated gas fee properties",{maxFeePerGas:t.txParams.maxFeePerGas,maxPriorityFeePerGas:t.txParams.maxPriorityFeePerGas,gasPrice:t.txParams.gasPrice}),(t.txParams.maxFeePerGas||t.txParams.maxPriorityFeePerGas)&&delete t.txParams.gasPrice,t.txParams.gasPrice&&(delete t.txParams.maxFeePerGas,delete t.txParams.maxPriorityFeePerGas),function(e){e.defaultGasEstimates||(e.defaultGasEstimates={});e.defaultGasEstimates.maxFeePerGas=e.txParams.maxFeePerGas,e.defaultGasEstimates.maxPriorityFeePerGas=e.txParams.maxPriorityFeePerGas,e.defaultGasEstimates.gasPrice=e.txParams.gasPrice,e.defaultGasEstimates.estimateType=e.userFeeLevel}(t)},n.gweiDecimalToWeiHex=l,n.gweiDecimalToWeiDecimal=function(e){return(1e9*Number(e)).toString().split(".")[0]}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas-fees.cjs"}],[2326,{"../types.cjs":2318,"@metamask/controller-utils":1315},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeGasFeeEstimates=n.getGasFeeFlow=void 0;const r=e("@metamask/controller-utils"),i=e("../types.cjs");function o(e,t){return(0,r.weiHexToGweiDec)(e[t])}n.getGasFeeFlow=function(e,t,n){return t.find(t=>t.matchesTransaction({transactionMeta:e,messenger:n}))},n.mergeGasFeeEstimates=function({gasFeeControllerEstimates:e,transactionGasFeeEstimates:t}){const n=t.type;return n===i.GasFeeEstimateType.FeeMarket?Object.values(i.GasFeeEstimateLevel).reduce((n,i)=>{return{...n,[i]:(o=e?.[i],s=t[i],{...o,suggestedMaxFeePerGas:(0,r.weiHexToGweiDec)(s.maxFeePerGas),suggestedMaxPriorityFeePerGas:(0,r.weiHexToGweiDec)(s.maxPriorityFeePerGas)})};var o,s},{...e}):n===i.GasFeeEstimateType.Legacy?Object.values(i.GasFeeEstimateLevel).reduce((e,n)=>({...e,[n]:o(t,n)}),{}):n===i.GasFeeEstimateType.GasPrice?{gasPrice:(s=t,(0,r.weiHexToGweiDec)(s.gasPrice))}:e;var s}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas-flow.cjs"}],[2327,{"../api/simulation-api.cjs":2295,"../logger.cjs":2317,"../types.cjs":2318,"./eip7702.cjs":2321,"./feature-flags.cjs":2323,"@metamask/controller-utils":1315,"@metamask/utils":2361,"bn.js":3257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.simulateGasBatch=n.addGasBuffer=n.estimateGas=n.updateGas=n.DUMMY_AUTHORIZATION_SIGNATURE=n.INTRINSIC_GAS=n.MAX_GAS_BLOCK_PERCENT=n.DEFAULT_GAS_MULTIPLIER=n.FIXED_GAS=n.log=void 0;const r=e("@metamask/controller-utils"),i=e("@metamask/utils"),o=e("bn.js"),s=e("./eip7702.cjs"),a=e("./feature-flags.cjs"),c=e("../api/simulation-api.cjs"),u=e("../logger.cjs"),l=e("../types.cjs");async function d({chainId:e,ethQuery:t,ignoreDelegationSignatures:o,isSimulationEnabled:s,messenger:c,txParams:u}){const d={...u},{authorizationList:f,data:m,from:g,value:_,to:E}=d;if(o&&!s)throw new Error("Gas estimation with ignored delegation signatures is not supported as simulation disabled");const{gasLimit:b,number:y}=await async function(e){return await(0,r.query)(e,"getBlockByNumber",["latest",!1])}(t),w=(0,r.hexToBN)(b),{percentage:S,fixed:T}=(0,a.getGasEstimateFallback)(e,c),R=T?(0,r.toHex)(T):(0,r.BNToHex)((0,r.fractionBN)(w,S,100));(0,n.log)("Estimation fallback values",R),d.data=m?(0,i.add0x)(m):m,d.value=_||"0x0",d.authorizationList=function(e,t){return e?.map(e=>({...e,chainId:e.chainId??t,nonce:e.nonce??"0x1",r:e.r??n.DUMMY_AUTHORIZATION_SIGNATURE,s:e.s??n.DUMMY_AUTHORIZATION_SIGNATURE,yParity:e.yParity??"0x1"}))}(d.authorizationList,e),delete d.gasPrice,delete d.maxFeePerGas,delete d.maxPriorityFeePerGas;let A,v=R;const O=u.type===l.TransactionEnvelopeType.setCode&&Boolean(f?.length)&&Boolean(m)&&"0x"!==m&&g?.toLowerCase()===E?.toLowerCase();try{v=s&&O?await async function(e,t,i){const o=await(0,r.query)(t,"estimateGas",[{...e,data:"0x"}]);(0,n.log)("Upgrade only gas",o);const s=e.authorizationList?.[0].address;let a;try{a=await h({chainId:i,delegationAddress:s,transaction:e})}catch(e){(0,n.log)("Error while simulating data portion of upgrade",e)}if(a===undefined){try{a=await p(t,{...e,authorizationList:undefined,type:undefined},s)}catch(e){throw(0,n.log)("Error while estimating data portion of upgrade",e),e}(0,n.log)("Success estimating data portion of upgrade",a)}(0,n.log)("Execute gas",a);const c=(0,r.BNToHex)((0,r.hexToBN)(o).add((0,r.hexToBN)(a)).subn(n.INTRINSIC_GAS));return(0,n.log)("Total type 4 gas",c),c}(d,t,e):o&&s?await h({chainId:e,transaction:d}):await p(t,d)}catch(e){A={reason:e.message,errorKey:e.errorKey,debug:{blockNumber:y,blockGasLimit:b}},(0,n.log)("Estimation failed",{...A,fallback:R})}return{blockGasLimit:b,estimatedGas:v,isUpgradeWithDataToSelf:O,simulationFails:A}}function f(e,t,o){const s=(0,r.hexToBN)(e),a=(0,r.fractionBN)((0,r.hexToBN)(t),n.MAX_GAS_BLOCK_PERCENT,100),c=(0,r.fractionBN)(s,100*o,100);if(s.gt(a)){const t=(0,i.add0x)(e);return(0,n.log)("Using estimated value",t),t}if(c.lt(a)){const e=(0,i.add0x)((0,r.BNToHex)(c));return(0,n.log)("Using padded estimate",e,o),e}const u=(0,i.add0x)((0,r.BNToHex)(a));return(0,n.log)("Using 90% of block gas limit",u),u}async function h({chainId:e,delegationAddress:t,transaction:n}){const r=await(0,c.simulateTransactions)(e,{transactions:[{to:n.to,from:n.from,data:n.data,value:n.value}],overrides:{[n.from]:{code:t&&s.DELEGATION_PREFIX+(0,i.remove0x)(t)}}}),o=r?.transactions?.[0].gasLimit;if(!o)throw new Error("No simulated gas returned");return o}function p(e,t,n){const{from:o}=t,a=[t];return n&&(a.push("latest"),a.push({[o]:{code:s.DELEGATION_PREFIX+(0,i.remove0x)(n)}})),(0,r.query)(e,"estimateGas",a)}n.log=(0,i.createModuleLogger)(u.projectLogger,"gas"),n.FIXED_GAS="0x5208",n.DEFAULT_GAS_MULTIPLIER=1.5,n.MAX_GAS_BLOCK_PERCENT=90,n.INTRINSIC_GAS=21e3,n.DUMMY_AUTHORIZATION_SIGNATURE="0x1111111111111111111111111111111111111111111111111111111111111111",n.updateGas=async function(e){const{txMeta:t}=e,i={...t.txParams},[o,s,c]=await async function(e){const{chainId:t,isCustomNetwork:i,isSimulationEnabled:o,messenger:s,txMeta:c}=e,{disableGasBuffer:u}=c;if(c.txParams.gas)return(0,n.log)("Using value from request",c.txParams.gas),[c.txParams.gas,undefined,c.txParams.gas];if(await async function({ethQuery:e,txMeta:t,isCustomNetwork:n}){const{txParams:{to:i,data:o,type:s}}=t;if(n||!i||o||s===l.TransactionEnvelopeType.setCode)return!1;const a=await async function(e,t){return await(0,r.query)(e,"getCode",[t])}(e,i);return!a||"0x"===a}(e))return(0,n.log)("Using fixed value",n.FIXED_GAS),[n.FIXED_GAS,undefined,n.FIXED_GAS];const{blockGasLimit:h,estimatedGas:p,isUpgradeWithDataToSelf:m,simulationFails:g}=await d({chainId:e.chainId,ethQuery:e.ethQuery,isSimulationEnabled:o,messenger:s,txParams:c.txParams});(0,n.log)("Original estimated gas",p),g&&(0,n.log)("Using original fallback estimate as simulation failed");u&&(0,n.log)("Gas buffer disabled");if(g||u)return[p,g,p];const _=(0,a.getGasEstimateBuffer)({chainId:t,isCustomRPC:i,isUpgradeWithDataToSelf:m,messenger:s});(0,n.log)("Buffer",_);const E=f(p,h,_);return(0,n.log)("Buffered gas",E),[E,g,p]}(e);t.txParams.gas=o,t.simulationFails=s,t.gasLimitNoBuffer=c,i.gas||(t.originalGasEstimate=t.txParams.gas),t.defaultGasEstimates||(t.defaultGasEstimates={}),t.defaultGasEstimates.gas=t.txParams.gas},n.estimateGas=d,n.addGasBuffer=f,n.simulateGasBatch=async function({chainId:e,from:t,transactions:i}){try{const n=await(0,c.simulateTransactions)(e,{transactions:i.map(e=>({...e.params,from:t}))});if(!n?.transactions||n.transactions.length!==i.length)throw new Error("Simulation response does not match transaction count");const s=n.transactions.reduce((e,t)=>{const n=t?.gasLimit;if(!n)throw new Error("No simulated gas returned for one of the transactions");return e.add((0,r.hexToBN)(n))},new o.BN(0));return{gasLimit:(0,r.BNToHex)(s)}}catch(e){throw(0,n.log)("Error while simulating gas batch",e),new Error("Cannot estimate transaction batch total gas as simulation failed")}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas.cjs"}],[2328,{"fast-json-patch":3665,lodash:4088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateTransactionHistory=n.addInitialHistorySnapshot=n.DISPLAYED_TRANSACTION_HISTORY_PATHS=n.MAX_TRANSACTION_HISTORY_LENGTH=void 0;const i=r(e("fast-json-patch")),o=e("lodash");function s(e,t,n){const r=i.default.compare(e,t);return r[0]&&(n&&(r[0].note=n),r[0].timestamp=Date.now()),r}function a(e){return(0,o.cloneDeep)(e).reduce((e,t)=>i.default.applyPatch(e,t).newDocument)}function c(e){const t={...e};return delete t.history,(0,o.cloneDeep)(t)}n.MAX_TRANSACTION_HISTORY_LENGTH=100,n.DISPLAYED_TRANSACTION_HISTORY_PATHS=["/status","/txParams/gasPrice","/txParams/gas","/estimatedBaseFee","/blockTimestamp"],n.addInitialHistorySnapshot=function(e){const t=c(e);return(0,o.merge)({},e,{history:[t]})},n.updateTransactionHistory=function(e,t){if(!e.history)return e;const r=c(e),i=s(a(e.history),r,t);if(0===i.length)return e;let u=[...e.history,i];return u.length>n.MAX_TRANSACTION_HISTORY_LENGTH&&(u=function(e){const t=e[0],r=e.slice(1),i=r.findIndex(e=>!e.some(({path:e})=>n.DISPLAYED_TRANSACTION_HISTORY_PATHS.includes(e)));if(-1===i)return e;const o=i===r.length-1?i-1:i+1,c=Math.min(i,o),u=r[c],l=r[c+1],d=a([t,...r.slice(0,c)]),f=a([d,u,l]),h=s(d,f,`${String(u[0].note)}, ${String(l[0].note)}`);return r.splice(c,2,h),[t,...r]}(u)),(0,o.merge)({},e,{history:u})}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/history.cjs"}],[2329,{"../logger.cjs":2317,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionLayer1GasFee=n.updateTransactionLayer1GasFee=void 0;const r=e("@metamask/utils"),i=e("../logger.cjs"),o=(0,r.createModuleLogger)(i.projectLogger,"layer-1-gas-fee-flow");async function s({layer1GasFeeFlows:e,messenger:t,provider:n,transactionMeta:r}){const i=function(e,t,n){return t.find(t=>t.matchesTransaction({transactionMeta:e,messenger:n}))}(r,e,t);if(!i)return undefined;o("Found layer 1 gas fee flow",i.constructor.name,r.id);try{const{layer1Fee:e}=await i.getLayer1Fee({provider:n,transactionMeta:r});return e}catch(e){return o("Failed to get layer 1 gas fee",r.id,e),undefined}}n.updateTransactionLayer1GasFee=async function(e){const t=await s(e);if(!t)return;const{transactionMeta:n}=e;n.layer1GasFee=t,o("Updated layer 1 gas fee",t,n.id)},n.getTransactionLayer1GasFee=s}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/layer1-gas-fee-flow.cjs"}],[2330,{"../logger.cjs":2317,"@metamask/controller-utils":1315},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAndFormatTransactionsForNonceTracker=n.getNextNonce=void 0;const r=e("@metamask/controller-utils"),i=e("../logger.cjs"),o=(0,i.createModuleLogger)(i.projectLogger,"nonce");n.getNextNonce=async function(e,t){const{customNonceValue:n,isExternalSign:i,txParams:{from:s,nonce:a}}=e;if(i)return[undefined,undefined];const c=n?(0,r.toHex)(n):undefined;if(c)return o("Using custom nonce",c),[c,undefined];if(a)return o("Using existing nonce",a),[a,undefined];const u=await t(s),l=(0,r.toHex)(u.nextNonce),d=u.releaseLock.bind(u);return o("Using nonce from nonce tracker",l,u.nonceDetails),[l,d]},n.getAndFormatTransactionsForNonceTracker=function(e,t,n,r){return r.filter(({chainId:r,isTransfer:i,isUserOperation:o,status:s,txParams:{from:a}})=>!i&&!o&&r===e&&n.includes(s)&&a.toLowerCase()===t.toLowerCase()).map(({status:e,txParams:{from:t,gas:n,value:r,nonce:i}})=>({status:e,history:[{}],txParams:{from:t??"",gas:n??"",value:r??"",nonce:i??""}}))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/nonce.cjs"}],[2331,{"@ethereumjs/common":493,"@ethereumjs/tx":510,"@metamask/utils":2361,lodash:4088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.serializeTransaction=n.prepareTransaction=n.HARDFORK=void 0;const r=e("@ethereumjs/common"),i=e("@ethereumjs/tx"),o=e("@metamask/utils"),s=e("lodash");function a(e){const t={chainId:parseInt(e,16),defaultHardfork:n.HARDFORK};return r.Common.custom(t,{eips:[7702]})}function c(e){return e?"0x0"===e?"0x":e.replace?.(/^0x(00)+/u,"0x")??e:e}n.HARDFORK=r.Hardfork.Prague,n.prepareTransaction=function(e,t){const n=function(e){const t=(0,s.cloneDeep)(e);return function(e){if(!e)return;for(const t of e)t.nonce=c(t.nonce),t.r=c(t.r),t.s=c(t.s),t.yParity=c(t.yParity)}(t.authorizationList),t}(t);return i.TransactionFactory.fromTxData(n,{freeze:!1,common:a(e)})},n.serializeTransaction=function(e){return(0,o.bytesToHex)(e.serialize())}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/prepare.cjs"}],[2332,{"@metamask/controller-utils":1315,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionParamsWithIncreasedGasFee=void 0;const r=e("@metamask/controller-utils"),i=e("@metamask/utils");function o(e,t){const n=(0,r.convertHexToDecimal)(e),o=parseInt(""+n*t,10);return(0,i.add0x)(o.toString(16))}n.getTransactionParamsWithIncreasedGasFee=function(e,t,n){const r=function(e,t,n){if(n&&"gasPrice"in n)return n.gasPrice;const r=e.gasPrice;if(!r||"0x0"===r)return undefined;return o(r,t)}(e,t,n),i=function(e,t,n){if(n&&"maxFeePerGas"in n&&"maxPriorityFeePerGas"in n)return n;const r=e.maxFeePerGas,i=e.maxPriorityFeePerGas;if(!r||!i||"0x0"===r||"0x0"===i)return undefined;const s=o(r,t),a=o(i,t);return{maxFeePerGas:s,maxPriorityFeePerGas:a}}(e,t,n);if(i){const t={...e,...i};return delete t.gasPrice,t}if(r){const t={...e,gasPrice:r};return delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,t}throw new Error("Cannot increase gas fee as no current values and no new values were provided")}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/retry.cjs"}],[2333,{"@ethersproject/wallet":648,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isValidSignature=void 0;const r=e("@ethersproject/wallet"),i=e("@metamask/utils");n.isValidSignature=function(e,t,n){try{const o=(0,i.add0x)(e.map(i.remove0x).join("")),s=(0,i.hexToBytes)(o);return(0,r.verifyMessage)(s,t).toLowerCase()===n.toLowerCase()}catch{return!1}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/signature.cjs"}],[2334,{"../constants.cjs":2296,"../logger.cjs":2317,"../types.cjs":2318,"./utils.cjs":2336,"@metamask/controller-utils":1315,lodash:4088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.updatePostTransactionBalance=n.updateSwapsTransaction=n.SWAP_TRANSACTION_TYPES=n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP=n.DEFAULT_TOKEN_ADDRESS=n.UPDATE_POST_TX_BALANCE_ATTEMPTS=n.UPDATE_POST_TX_BALANCE_TIMEOUT=void 0;const r=e("@metamask/controller-utils"),i=e("lodash"),o=e("./utils.cjs"),s=e("../constants.cjs"),a=e("../logger.cjs"),c=e("../types.cjs"),u=(0,a.createModuleLogger)(a.projectLogger,"swaps");n.UPDATE_POST_TX_BALANCE_TIMEOUT=5e3,n.UPDATE_POST_TX_BALANCE_ATTEMPTS=6;const l="0x539";n.DEFAULT_TOKEN_ADDRESS="0x0000000000000000000000000000000000000000";const d={name:"Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},f={name:"Binance Coin",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},h={name:"Matic",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},p={name:"Avalanche",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},m={name:"Test Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},g={name:"Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},_={...d},E={...d},b={...d},y={name:"Sei",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18};function w(e,t){return!(!e||!t)&&e===n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[t]?.address}function S(e){return new Promise(t=>setTimeout(t,e))}n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP={[s.CHAIN_IDS.MAINNET]:d,[l]:m,[s.CHAIN_IDS.BSC]:f,[s.CHAIN_IDS.POLYGON]:h,[s.CHAIN_IDS.GOERLI]:g,[s.CHAIN_IDS.AVALANCHE]:p,[s.CHAIN_IDS.OPTIMISM]:E,[s.CHAIN_IDS.ARBITRUM]:_,[s.CHAIN_IDS.ZKSYNC_ERA]:b,[s.CHAIN_IDS.SEI]:y},n.SWAP_TRANSACTION_TYPES=[c.TransactionType.swap,c.TransactionType.swapAndSend,c.TransactionType.swapApproval],n.updateSwapsTransaction=function(e,t,r,{isSwapsDisabled:s,cancelTransaction:a,messenger:u}){if(s||!n.SWAP_TRANSACTION_TYPES.includes(t))return e;if(t===c.TransactionType.swap&&!1===r?.hasApproveTx&&e.simulationFails)throw a(e.id),new Error("Simulation failed");const l=r?.meta;if(!l)return e;let d=e;return t===c.TransactionType.swapApproval&&(d=function(e,{type:t,sourceTokenSymbol:n}){(0,o.validateIfTransactionUnapproved)(e,"updateSwapApprovalTransaction");let r={type:t,sourceTokenSymbol:n};return r=(0,i.pickBy)({type:t,sourceTokenSymbol:n}),(0,i.merge)({},e,r)}(e,l),u.publish("TransactionController:transactionNewSwapApproval",{transactionMeta:d})),t===c.TransactionType.swapAndSend&&(d=function(e,{approvalTxId:t,destinationTokenAddress:n,destinationTokenAmount:r,destinationTokenDecimals:s,destinationTokenSymbol:a,estimatedBaseFee:c,sourceTokenAddress:u,sourceTokenAmount:l,sourceTokenDecimals:d,sourceTokenSymbol:f,swapAndSendRecipient:h,swapMetaData:p,swapTokenValue:m,type:g}){(0,o.validateIfTransactionUnapproved)(e,"updateSwapTransaction");let _={approvalTxId:t,destinationTokenAddress:n,destinationTokenAmount:r,destinationTokenDecimals:s,destinationTokenSymbol:a,estimatedBaseFee:c,sourceTokenAddress:u,sourceTokenAmount:l,sourceTokenDecimals:d,sourceTokenSymbol:f,swapAndSendRecipient:h,swapMetaData:p,swapTokenValue:m,type:g};return _=(0,i.pickBy)(_),(0,i.merge)({},e,_)}(e,l),u.publish("TransactionController:transactionNewSwapAndSend",{transactionMeta:d})),t===c.TransactionType.swap&&(d=function(e,{sourceTokenSymbol:t,destinationTokenSymbol:n,type:r,destinationTokenDecimals:s,destinationTokenAddress:a,swapMetaData:c,swapTokenValue:u,estimatedBaseFee:l,approvalTxId:d}){(0,o.validateIfTransactionUnapproved)(e,"updateSwapTransaction");let f={sourceTokenSymbol:t,destinationTokenSymbol:n,type:r,destinationTokenDecimals:s,destinationTokenAddress:a,swapMetaData:c,swapTokenValue:u,estimatedBaseFee:l,approvalTxId:d};return f=(0,i.pickBy)(f),(0,i.merge)({},e,f)}(e,l),u.publish("TransactionController:transactionNewSwap",{transactionMeta:d})),d},n.updatePostTransactionBalance=async function(e,{ethQuery:t,getTransaction:i,updateTransaction:o}){u("Updating post transaction balance",e.id);const s=e.id;let a,c;for(let o=0;o<n.UPDATE_POST_TX_BALANCE_ATTEMPTS;o++){u("Querying balance",{attempt:o});const l=await(0,r.query)(t,"getBalance",[e.txParams.from]);a={...i(s)??{}},c=a.approvalTxId?i(a.approvalTxId):undefined,a.postTxBalance=l.toString(16);const d=w(e.destinationTokenAddress,e.chainId);if(!d||e.preTxBalance!==a.postTxBalance){u("Finishing post balance update",{isDefaultTokenAddress:d,preTxBalance:e.preTxBalance,postTxBalance:a.postTxBalance});break}u("Waiting for balance to update",{delay:n.UPDATE_POST_TX_BALANCE_TIMEOUT}),await S(n.UPDATE_POST_TX_BALANCE_TIMEOUT)}return o(a,"TransactionController#updatePostTransactionBalance - Add post transaction balance"),u("Completed post balance update",a?.postTxBalance),{updatedTransactionMeta:a,approvalTransactionMeta:c}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/swaps.cjs"}],[2335,{"../types.cjs":2318,"./eip7702.cjs":2321,"@ethersproject/abi":552,"@metamask/controller-utils":1315,"@metamask/metamask-eth-abis":1621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.determineTransactionType=n.ESTIMATE_GAS_ERROR=void 0;const r=e("@ethersproject/abi"),i=e("@metamask/controller-utils"),o=e("@metamask/metamask-eth-abis"),s=e("./eip7702.cjs"),a=e("../types.cjs");n.ESTIMATE_GAS_ERROR="eth_estimateGas rpc method error";const c=new r.Interface(o.abiERC20),u=new r.Interface(o.abiERC721),l=new r.Interface(o.abiERC1155),d=new r.Interface(o.abiFiatTokenV2);n.determineTransactionType=async function(e,t){const{data:n,to:r}=e;if(n&&!r)return{type:a.TransactionType.deployContract,getCodeResponse:undefined};let o,f=Boolean(n?.length);if(t){const e=await async function(e,t){let n;try{n=await(0,i.query)(e,"getCode",[t])}catch(e){n=null}const r=!!n&&("0x"!==n&&"0x0"!==n&&!n.startsWith(s.DELEGATION_PREFIX));return{contractCode:n,isContractAddress:r}}(t,r);o=e.contractCode,f=e.isContractAddress}if(!f)return{type:a.TransactionType.simpleSend,getCodeResponse:o};const h=0!==Number(e.value??"0"),p={type:a.TransactionType.contractInteraction,getCodeResponse:o};if(!n||h)return p;const m=function(e){if(!e||e.length<10)return undefined;const t=e.substring(0,10).toLowerCase();for(const e of[c,u,l,d])try{return e.getFunction(t).name}catch{}return undefined}(n);if(!m)return p;const g=[a.TransactionType.tokenMethodApprove,a.TransactionType.tokenMethodSetApprovalForAll,a.TransactionType.tokenMethodTransfer,a.TransactionType.tokenMethodTransferFrom,a.TransactionType.tokenMethodSafeTransferFrom,a.TransactionType.tokenMethodIncreaseAllowance].find(e=>e.toLowerCase()===m.toLowerCase());return g?{type:g,getCodeResponse:o}:p}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/transaction-type.cjs"}],[2336,{"../types.cjs":2318,"@metamask/utils":2361,"bn.js":3257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.setEnvelopeType=n.getPercentageChange=n.padHexToEvenLength=n.normalizeGasFeeValues=n.normalizeTxError=n.validateIfTransactionUnapproved=n.validateGasValues=n.isEIP1559Transaction=n.normalizeTransactionParams=n.ESTIMATE_GAS_ERROR=void 0;const i=e("@metamask/utils"),o=r(e("bn.js")),s=e("../types.cjs");n.ESTIMATE_GAS_ERROR="eth_estimateGas rpc method error";const a={accessList:e=>e,authorizationList:e=>e,data:e=>(0,i.add0x)(u(e)),from:e=>(0,i.add0x)(e).toLowerCase(),gas:e=>(0,i.add0x)(e),gasLimit:e=>(0,i.add0x)(e),gasPrice:e=>(0,i.add0x)(e),nonce:e=>(0,i.add0x)(e),to:e=>(0,i.add0x)(e).toLowerCase(),value:e=>(0,i.add0x)(e),maxFeePerGas:e=>(0,i.add0x)(e),maxPriorityFeePerGas:e=>(0,i.add0x)(e),estimatedBaseFee:e=>(0,i.add0x)(e),type:e=>(0,i.add0x)(e)};n.normalizeTransactionParams=function(e){const t={from:""};for(const n of(0,i.getKnownPropertyNames)(a))e[n]&&(t[n]=a[n](e[n]));return t.value||(t.value="0x0"),t.gasLimit&&!t.gas&&(t.gas=t.gasLimit),t},n.isEIP1559Transaction=function(e){const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);return t(e,"maxFeePerGas")&&t(e,"maxPriorityFeePerGas")};function c(e){try{return JSON.parse(JSON.stringify(e)),!0}catch{return!1}}function u(e){const t=e.toLowerCase().startsWith("0x")?e.slice(0,2):"",n=t?e.slice(2):e;return t+(n.length%2==0?n:`0${n}`)}n.validateGasValues=e=>{Object.keys(e).forEach(t=>{const n=e[t];if("string"!=typeof n||!(0,i.isStrictHexString)(n))throw new TypeError(`expected hex string for ${t} but received: ${n}`)})},n.validateIfTransactionUnapproved=function(e,t){if(e?.status!==s.TransactionStatus.unapproved)throw new Error(`TransactionsController: Can only call ${t} on an unapproved transaction.\n      Current tx status: ${e?.status}`)},n.normalizeTxError=function(e){return{name:e.name,message:e.message,stack:e.stack,code:e.code,rpc:c(e.value)?e.value:undefined}},n.normalizeGasFeeValues=function(e){const t=e=>"string"==typeof e?(0,i.add0x)(e):e;return"gasPrice"in e?{gasPrice:t(e.gasPrice)}:{maxFeePerGas:t(e.maxFeePerGas),maxPriorityFeePerGas:t(e.maxPriorityFeePerGas)}},n.padHexToEvenLength=u,n.getPercentageChange=function(e,t){const n=new o.default(10).pow(new o.default(18)),r=e.mul(n),i=t.mul(n),s=i.sub(r);return s.isZero()?0:r.isZero()&&!i.isZero()?100:s.muln(100).div(r).abs().toNumber()},n.setEnvelopeType=function(e,t){e.accessList?e.type=s.TransactionEnvelopeType.accessList:e.authorizationList?e.type=s.TransactionEnvelopeType.setCode:e.type=t?s.TransactionEnvelopeType.feeMarket:s.TransactionEnvelopeType.legacy}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/utils.cjs"}],[2337,{"../types.cjs":2318,"./utils.cjs":2336,"@ethersproject/abi":552,"@metamask/controller-utils":1315,"@metamask/metamask-eth-abis":1621,"@metamask/rpc-errors":1958,"@metamask/utils":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateBatchRequest=n.validateParamTo=n.validateTxParams=n.validateTransactionOrigin=n.ErrorCode=void 0;const r=e("@ethersproject/abi"),i=e("@metamask/controller-utils"),o=e("@metamask/metamask-eth-abis"),s=e("@metamask/rpc-errors"),a=e("@metamask/utils"),c=e("./utils.cjs"),u=e("../types.cjs");var l;!function(e){e[e.DuplicateBundleId=5720]="DuplicateBundleId",e[e.BundleTooLarge=5740]="BundleTooLarge",e[e.RejectedUpgrade=5750]="RejectedUpgrade"}(l||(n.ErrorCode=l={}));const d=[u.TransactionEnvelopeType.feeMarket,u.TransactionEnvelopeType.setCode];function f(e,t){const n=e.type;switch(t){case"authorizationList":if(n&&n!==u.TransactionEnvelopeType.setCode)throw s.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${n}" but including authorizationList requires type: "${u.TransactionEnvelopeType.setCode}"`);break;case"maxFeePerGas":case"maxPriorityFeePerGas":if(n&&!d.includes(n))throw s.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${n}" but including maxFeePerGas and maxPriorityFeePerGas requires type: "${d.join(", ")}"`);break;default:if(n&&d.includes(n))throw s.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${n}" but included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas`)}}function h(e,t,n){if(void 0!==e[n])throw s.rpcErrors.invalidParams(`Invalid transaction params: specified ${t} but also included ${n}, these cannot be mixed`)}function p(e,t){const n=e[t];if("string"!=typeof n||!(0,a.isStrictHexString)(n))throw s.rpcErrors.invalidParams(`Invalid transaction params: ${String(t)} is not a valid hexadecimal string. got: (${String(n)})`)}function m(e){p(e,"address"),function(e,t,n){const r=(0,a.remove0x)(e).length/2;if(r!==t)throw s.rpcErrors.invalidParams(`Invalid transaction params: ${n} must be ${t} bytes. got: ${r} bytes`)}(e.address,20,"address");for(const t of["chainId","nonce","r","s"])e[t]&&p(e,t);const{yParity:t}=e;if(t&&!["0x0","0x1"].includes(t))throw s.rpcErrors.invalidParams(`Invalid transaction params: yParity must be '0x0' or '0x1'. got: ${t}`)}n.validateTransactionOrigin=async function({data:e,from:t,internalAccounts:n,origin:r,permittedAddresses:o,txParams:a,type:c}){if(!r||r===i.ORIGIN_METAMASK)return;const{authorizationList:l,to:d,type:f}=a;if(o&&!o.includes(t))throw s.providerErrors.unauthorized({data:{origin:r}});if(c===u.TransactionType.batch)return;if(l||f===u.TransactionEnvelopeType.setCode)throw s.rpcErrors.invalidParams("External EIP-7702 transactions are not supported");if(Boolean(e&&"0x"!==e)&&n?.some(e=>e.toLowerCase()===d?.toLowerCase()))throw s.rpcErrors.invalidParams("External transactions to internal accounts cannot include data")},n.validateTxParams=function(e,t=!0,n){!function(e){if(e&&!Object.values(u.TransactionEnvelopeType).includes(e))throw s.rpcErrors.invalidParams(`Invalid transaction envelope type: "${e}". Must be one of: ${Object.values(u.TransactionEnvelopeType).join(", ")}`)}(e.type),function(e,t){if((0,c.isEIP1559Transaction)(e)&&!t)throw s.rpcErrors.invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559")}(e,t),function(e){if(!e||"string"!=typeof e)throw s.rpcErrors.invalidParams(`Invalid "from" address ${e}: not a string.`);if(!(0,i.isValidHexAddress)(e))throw s.rpcErrors.invalidParams('Invalid "from" address.')}(e.from),function(e){if("0x"===e.to||e.to===undefined){if(!e.data)throw s.rpcErrors.invalidParams('Invalid "to" address.');delete e.to}else if(e.to!==undefined&&!(0,i.isValidHexAddress)(e.to))throw s.rpcErrors.invalidParams('Invalid "to" address.')}(e),function(e){if(e!==undefined){if(e.includes("-"))throw s.rpcErrors.invalidParams(`Invalid transaction value "${e}": not a positive number.`);if(e.includes("."))throw s.rpcErrors.invalidParams(`Invalid transaction value "${e}": number must be in wei.`);const t=parseInt(e,10);if(!(Number.isFinite(t)&&!Number.isNaN(t)&&!isNaN(Number(e))&&Number.isSafeInteger(t)))throw s.rpcErrors.invalidParams(`Invalid transaction value ${e}: number must be a valid number.`)}}(e.value),function(e){if(e){const t=new r.Interface(o.abiERC20);try{t.parseTransaction({data:e})}catch(e){if(e.message.match(/BUFFER_OVERRUN/u))throw s.rpcErrors.invalidParams("Invalid transaction params: data out-of-bounds, BUFFER_OVERRUN.")}}}(e.data),function(e,t){if(e&&t&&e.toLowerCase?.()!==t.toLowerCase())throw s.rpcErrors.invalidParams(`Invalid transaction params: chainId must match the network client, got: ${e}, expected: ${t}`)}(e.chainId,n),function(e){e.gasPrice&&(f(e,"gasPrice"),h(e,"gasPrice","maxFeePerGas"),h(e,"gasPrice","maxPriorityFeePerGas"),p(e,"gasPrice"));e.maxFeePerGas&&(f(e,"maxFeePerGas"),h(e,"maxFeePerGas","gasPrice"),p(e,"maxFeePerGas"));e.maxPriorityFeePerGas&&(f(e,"maxPriorityFeePerGas"),h(e,"maxPriorityFeePerGas","gasPrice"),p(e,"maxPriorityFeePerGas"));e.gasLimit&&p(e,"gasLimit");e.gas&&p(e,"gas")}(e),function(e){const{authorizationList:t}=e;if(!t)return;if(f(e,"authorizationList"),!Array.isArray(t))throw s.rpcErrors.invalidParams("Invalid transaction params: authorizationList must be an array");for(const e of t)m(e)}(e)},n.validateParamTo=function(e){if(!e||"string"!=typeof e)throw s.rpcErrors.invalidParams('Invalid "to" address')},n.validateBatchRequest=function({internalAccounts:e,request:t,sizeLimit:n}){const{origin:r}=t,o=r&&r!==i.ORIGIN_METAMASK,a=e.map(e=>e.toLowerCase());if(o&&t.transactions.some(e=>{const t=e.params.to?.toLowerCase(),n=e.params.data,r=a.includes(t),i=Boolean(n&&"0x"!==n);return r&&i}))throw s.rpcErrors.invalidParams("External calls to internal accounts cannot include data");if(o&&t.transactions.length>n)throw new s.JsonRpcError(l.BundleTooLarge,`Batch size cannot exceed ${n}. got: ${t.transactions.length}`)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/validation.cjs"}],[2351,{"./errors.cjs":2359,"@metamask/superstruct":2267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("@metamask/superstruct"),i=e("./errors.cjs");function o(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class s extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=s,n.assert=function(e,t="Assertion failed.",n=s){if(!e){if(t instanceof Error)throw t;throw o(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",a=s){try{(0,r.assert)(e,t)}catch(e){throw o(a,`${n}: ${function(e){return(0,i.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/assert.cjs"}],[2352,{"./assert.cjs":2351,"@metamask/superstruct":2267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("@metamask/superstruct"),i=e("./assert.cjs");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,o=t.characterSet??"base64";let s,a;return"base64"===o?s=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===o),s=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${s}{4})*(?:${s}{3}=|${s}{2}==)?$`,"u"):new RegExp(`^(?:${s}{4})*(?:${s}{2,3}|${s}{3}=|${s}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/base64.cjs"}],[2353,{"./assert.cjs":2351,"./hex.cjs":2360,"@scure/base":2438,buffer:3318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.base64ToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToBase64=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("@scure/base"),i=e("./assert.cjs"),o=e("./hex.cjs");const s=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function a(e){return e instanceof Uint8Array}function c(e){(0,i.assert)(a(e),"Value must be a Uint8Array.")}function u(e){if(c(e),0===e.length)return"0x";const t=s(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,o.add0x)(n.join(""))}function l(e){c(e);const t=u(e);return BigInt(t)}function d(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,o.assertIsHexString)(e);const t=(0,o.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),i=n.charCodeAt(2*e+1),o=t-(t<58?48:87),s=i-(i<58?48:87);r[e]=16*o+s}return r}function f(e){(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return d(e.toString(16))}function h(e){(0,i.assert)("number"==typeof e,"Value must be a number."),(0,i.assert)(e>=0,"Value must be a non-negative number."),(0,i.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return d(e.toString(16))}function p(e){return(0,i.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function m(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return h(e);if("string"==typeof e)return e.startsWith("0x")?d(e):p(e);if(a(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=a,n.assertIsBytes=c,n.bytesToHex=u,n.bytesToBigInt=l,n.bytesToSignedBigInt=function(e){c(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){c(e);const t=l(e);return(0,i.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return c(e),(new TextDecoder).decode(e)},n.bytesToBase64=function(e){return c(e),r.base64.encode(e)},n.hexToBytes=d,n.bigIntToBytes=f,n.signedBigIntToBytes=function(e,t){(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)("number"==typeof t,"Byte length must be a number."),(0,i.assert)(t>0,"Byte length must be greater than 0."),(0,i.assert)(function(e,t){(0,i.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const r=new Uint8Array(t);for(let e=0;e<r.length;e++)r[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()},n.numberToBytes=h,n.stringToBytes=p,n.base64ToBytes=function(e){return(0,i.assert)("string"==typeof e,"Value must be a string."),r.base64.decode(e)},n.valueToBytes=m,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const i=m(e[r]);t[r]=i,n+=i.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/bytes.cjs"}],[2354,{"./superstruct.cjs":2369,"@metamask/superstruct":2267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toCaipAssetId=n.toCaipAssetType=n.toCaipAccountId=n.toCaipChainId=n.parseCaipAssetId=n.parseCaipAssetType=n.parseCaipAccountId=n.parseCaipChainId=n.isCaipAssetId=n.isCaipAssetType=n.isCaipTokenId=n.isCaipAssetReference=n.isCaipAssetNamespace=n.isCaipAccountAddress=n.isCaipAccountId=n.isCaipReference=n.isCaipNamespace=n.isCaipChainId=n.KnownCaipNamespace=n.CaipAssetTypeOrIdStruct=n.CaipAssetIdStruct=n.CaipAssetTypeStruct=n.CaipTokenIdStruct=n.CaipAssetReferenceStruct=n.CaipAssetNamespaceStruct=n.CaipAccountAddressStruct=n.CaipAccountIdStruct=n.CaipReferenceStruct=n.CaipNamespaceStruct=n.CaipChainIdStruct=n.CAIP_ASSET_ID_REGEX=n.CAIP_ASSET_TYPE_REGEX=n.CAIP_TOKEN_ID_REGEX=n.CAIP_ASSET_REFERENCE_REGEX=n.CAIP_ASSET_NAMESPACE_REGEX=n.CAIP_ACCOUNT_ADDRESS_REGEX=n.CAIP_ACCOUNT_ID_REGEX=n.CAIP_REFERENCE_REGEX=n.CAIP_NAMESPACE_REGEX=n.CAIP_CHAIN_ID_REGEX=void 0;const r=e("@metamask/superstruct"),i=e("./superstruct.cjs");n.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,n.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,n.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_ASSET_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_ASSET_REFERENCE_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_TOKEN_ID_REGEX=/^[-.%a-zA-Z0-9]{1,78}$/u,n.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u;function o(e){return(0,r.is)(e,n.CaipNamespaceStruct)}function s(e){return(0,r.is)(e,n.CaipReferenceStruct)}function a(e){return(0,r.is)(e,n.CaipAccountAddressStruct)}function c(e){return(0,r.is)(e,n.CaipAssetNamespaceStruct)}function u(e){return(0,r.is)(e,n.CaipAssetReferenceStruct)}function l(e){return(0,r.is)(e,n.CaipTokenIdStruct)}n.CaipChainIdStruct=(0,i.definePattern)("CaipChainId",n.CAIP_CHAIN_ID_REGEX),n.CaipNamespaceStruct=(0,i.definePattern)("CaipNamespace",n.CAIP_NAMESPACE_REGEX),n.CaipReferenceStruct=(0,i.definePattern)("CaipReference",n.CAIP_REFERENCE_REGEX),n.CaipAccountIdStruct=(0,i.definePattern)("CaipAccountId",n.CAIP_ACCOUNT_ID_REGEX),n.CaipAccountAddressStruct=(0,i.definePattern)("CaipAccountAddress",n.CAIP_ACCOUNT_ADDRESS_REGEX),n.CaipAssetNamespaceStruct=(0,i.definePattern)("CaipAssetNamespace",n.CAIP_ASSET_NAMESPACE_REGEX),n.CaipAssetReferenceStruct=(0,i.definePattern)("CaipAssetReference",n.CAIP_ASSET_REFERENCE_REGEX),n.CaipTokenIdStruct=(0,i.definePattern)("CaipTokenId",n.CAIP_TOKEN_ID_REGEX),n.CaipAssetTypeStruct=(0,i.definePattern)("CaipAssetType",n.CAIP_ASSET_TYPE_REGEX),n.CaipAssetIdStruct=(0,i.definePattern)("CaipAssetId",n.CAIP_ASSET_ID_REGEX),n.CaipAssetTypeOrIdStruct=(0,i.definePattern)("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u),function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(n.KnownCaipNamespace||(n.KnownCaipNamespace={})),n.isCaipChainId=function(e){return(0,r.is)(e,n.CaipChainIdStruct)},n.isCaipNamespace=o,n.isCaipReference=s,n.isCaipAccountId=function(e){return(0,r.is)(e,n.CaipAccountIdStruct)},n.isCaipAccountAddress=a,n.isCaipAssetNamespace=c,n.isCaipAssetReference=u,n.isCaipTokenId=l,n.isCaipAssetType=function(e){return(0,r.is)(e,n.CaipAssetTypeStruct)},n.isCaipAssetId=function(e){return(0,r.is)(e,n.CaipAssetIdStruct)},n.parseCaipChainId=function(e){const t=n.CAIP_CHAIN_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},n.parseCaipAccountId=function(e){const t=n.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.parseCaipAssetType=function(e){const t=n.CAIP_ASSET_TYPE_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset type.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.parseCaipAssetId=function(e){const t=n.CAIP_ASSET_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset ID.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,tokenId:t.groups.tokenId,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.toCaipChainId=function(e,t){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${t}`},n.toCaipAccountId=function(e,t,r){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!a(r))throw new Error(`Invalid "accountAddress", must match: ${n.CAIP_ACCOUNT_ADDRESS_REGEX.toString()}`);return`${e}:${t}:${r}`},n.toCaipAssetType=function(e,t,r,i){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!c(r))throw new Error(`Invalid "assetNamespace", must match: ${n.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!u(i))throw new Error(`Invalid "assetReference", must match: ${n.CAIP_ASSET_REFERENCE_REGEX.toString()}`);return`${e}:${t}/${r}:${i}`},n.toCaipAssetId=function(e,t,r,i,a){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!c(r))throw new Error(`Invalid "assetNamespace", must match: ${n.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!u(i))throw new Error(`Invalid "assetReference", must match: ${n.CAIP_ASSET_REFERENCE_REGEX.toString()}`);if(!l(a))throw new Error(`Invalid "tokenId", must match: ${n.CAIP_TOKEN_ID_REGEX.toString()}`);return`${e}:${t}/${r}:${i}/${a}`}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/caip-types.cjs"}],[2355,{"./base64.cjs":2352,"@metamask/superstruct":2267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("@metamask/superstruct"),i=e("./base64.cjs");n.ChecksumStruct=(0,r.size)((0,i.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/checksum.cjs"}],[2356,{"./assert.cjs":2351,"./bytes.cjs":2353,"./hex.cjs":2360,"@metamask/superstruct":2267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("@metamask/superstruct"),i=e("./assert.cjs"),o=e("./bytes.cjs"),s=e("./hex.cjs"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),s.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([s.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([s.StrictHexStruct]),o.hexToBytes)),d=(0,r.coerce)(s.StrictHexStruct,(0,r.instance)(Uint8Array),o.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/coercers.cjs"}],[2357,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class a{get size(){return o(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return o(this,r,"f")[Symbol.iterator]()}constructor(e){r.set(this,void 0),s(this,r,new Map(e),"f"),Object.freeze(this)}entries(){return o(this,r,"f").entries()}forEach(e,t){return o(this,r,"f").forEach((n,r,i)=>e.call(t,n,r,this))}get(e){return o(this,r,"f").get(e)}has(e){return o(this,r,"f").has(e)}keys(){return o(this,r,"f").keys()}values(){return o(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}}n.FrozenMap=a;class c{get size(){return o(this,i,"f").size}[(i=new WeakMap,Symbol.iterator)](){return o(this,i,"f")[Symbol.iterator]()}constructor(e){i.set(this,void 0),s(this,i,new Set(e),"f"),Object.freeze(this)}entries(){return o(this,i,"f").entries()}forEach(e,t){return o(this,i,"f").forEach((n,r,i)=>e.call(t,n,r,this))}has(e){return o(this,i,"f").has(e)}keys(){return o(this,i,"f").keys()}values(){return o(this,i,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/collections.cjs"}],[2358,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/encryption-types.cjs"}],[2359,{"./misc.cjs":2365,"pony-cause":4246},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wrapError=n.getErrorMessage=n.isErrorWithStack=n.isErrorWithMessage=n.isErrorWithCode=void 0;const r=e("pony-cause"),i=e("./misc.cjs");function o(e){return"object"==typeof e&&null!==e&&"code"in e}function s(e){return"object"==typeof e&&null!==e&&"message"in e}n.isErrorWithCode=o,n.isErrorWithMessage=s,n.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},n.getErrorMessage=function(e){return s(e)&&"string"==typeof e.message?e.message:(0,i.isNullOrUndefined)(e)?"":String(e)},n.wrapError=function(e,t){if((n=e)instanceof Error||(0,i.isObject)(n)&&"Error"===n.constructor.name){let n;return n=2===Error.length?new Error(t,{cause:e}):new r.ErrorWithCause(t,{cause:e}),o(e)&&(n.code=e.code),n}var n;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/errors.cjs"}],[2360,{"./assert.cjs":2351,"@metamask/superstruct":2267,"@noble/hashes/sha3":2415,"lodash.memoize":2373},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidHexAddress=n.isValidHexAddressUnmemoized=n.isValidChecksumAddress=n.isValidChecksumAddressUnmemoized=n.getChecksumAddress=n.getChecksumAddressUnmemoized=n.assertIsStrictHexString=n.assertIsHexString=n.isHexChecksumAddress=n.isHexAddress=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const i=e("@metamask/superstruct"),o=e("@noble/hashes/sha3"),s=r(e("lodash.memoize")),a=e("./assert.cjs"),c=/^(?:0x)?[0-9a-f]+$/iu,u=/^0x[0-9a-f]+$/iu,l=/^0x[0-9a-f]{40}$/u,d=/^0x[0-9a-fA-F]{40}$/u;n.HexStruct=(0,i.pattern)((0,i.string)(),c),n.StrictHexStruct=(0,i.pattern)((0,i.string)(),u),n.HexAddressStruct=(0,i.pattern)((0,i.string)(),l),n.HexChecksumAddressStruct=(0,i.pattern)((0,i.string)(),d);const f=e=>"string"==typeof e;function h(e){return f(e)&&c.test(e)}function p(e){return f(e)&&u.test(e)}function m(e){return f(e)&&l.test(e)}function g(e){return f(e)&&d.test(e)}function _(e){(0,a.assert)(g(e),"Invalid hex address.");const t=y(e).toLowerCase(),n=(0,o.keccak_256)(t),{length:r}=t,i=new Array(r);for(let e=0;e<r;e++){const r=1&e,o=n[e>>1],s=0===r?o>>4:15&o;i[e]=s>=8?t[e].toUpperCase():t[e]}return`0x${i.join("")}`}function E(e){return!!g(e)&&(0,n.getChecksumAddress)(e)===e}function b(e){return m(e)||(0,n.isValidChecksumAddress)(e)}function y(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.isHexString=h,n.isStrictHexString=p,n.isHexAddress=m,n.isHexChecksumAddress=g,n.assertIsHexString=function(e){(0,a.assert)(h(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,a.assert)(p(e),'Value must be a hexadecimal string, starting with "0x".')},n.getChecksumAddressUnmemoized=_,n.getChecksumAddress=(0,s.default)(_),n.isValidChecksumAddressUnmemoized=E,n.isValidChecksumAddress=(0,s.default)(E),n.isValidHexAddressUnmemoized=b,n.isValidHexAddress=(0,s.default)(b),n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=y}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/hex.cjs"}],[2361,{"./assert.cjs":2351,"./base64.cjs":2352,"./bytes.cjs":2353,"./caip-types.cjs":2354,"./checksum.cjs":2355,"./coercers.cjs":2356,"./collections.cjs":2357,"./encryption-types.cjs":2358,"./errors.cjs":2359,"./hex.cjs":2360,"./json.cjs":2362,"./keyring.cjs":2363,"./logging.cjs":2364,"./misc.cjs":2365,"./number.cjs":2366,"./opaque.cjs":2367,"./promise.cjs":2368,"./superstruct.cjs":2369,"./time.cjs":2370,"./transaction-types.cjs":2371,"./versions.cjs":2372},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isHexChecksumAddress=n.isHexAddress=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0,i(e("./assert.cjs"),n),i(e("./base64.cjs"),n),i(e("./bytes.cjs"),n),i(e("./caip-types.cjs"),n),i(e("./checksum.cjs"),n),i(e("./coercers.cjs"),n),i(e("./collections.cjs"),n),i(e("./encryption-types.cjs"),n),i(e("./errors.cjs"),n);var o=e("./hex.cjs");Object.defineProperty(n,"HexStruct",{enumerable:!0,get:function(){return o.HexStruct}}),Object.defineProperty(n,"StrictHexStruct",{enumerable:!0,get:function(){return o.StrictHexStruct}}),Object.defineProperty(n,"HexAddressStruct",{enumerable:!0,get:function(){return o.HexAddressStruct}}),Object.defineProperty(n,"HexChecksumAddressStruct",{enumerable:!0,get:function(){return o.HexChecksumAddressStruct}}),Object.defineProperty(n,"isHexString",{enumerable:!0,get:function(){return o.isHexString}}),Object.defineProperty(n,"isStrictHexString",{enumerable:!0,get:function(){return o.isStrictHexString}}),Object.defineProperty(n,"isHexAddress",{enumerable:!0,get:function(){return o.isHexAddress}}),Object.defineProperty(n,"isHexChecksumAddress",{enumerable:!0,get:function(){return o.isHexChecksumAddress}}),Object.defineProperty(n,"assertIsHexString",{enumerable:!0,get:function(){return o.assertIsHexString}}),Object.defineProperty(n,"assertIsStrictHexString",{enumerable:!0,get:function(){return o.assertIsStrictHexString}}),Object.defineProperty(n,"isValidHexAddress",{enumerable:!0,get:function(){return o.isValidHexAddress}}),Object.defineProperty(n,"getChecksumAddress",{enumerable:!0,get:function(){return o.getChecksumAddress}}),Object.defineProperty(n,"isValidChecksumAddress",{enumerable:!0,get:function(){return o.isValidChecksumAddress}}),Object.defineProperty(n,"add0x",{enumerable:!0,get:function(){return o.add0x}}),Object.defineProperty(n,"remove0x",{enumerable:!0,get:function(){return o.remove0x}}),i(e("./json.cjs"),n),i(e("./keyring.cjs"),n),i(e("./logging.cjs"),n),i(e("./misc.cjs"),n),i(e("./number.cjs"),n),i(e("./opaque.cjs"),n),i(e("./promise.cjs"),n),i(e("./superstruct.cjs"),n),i(e("./time.cjs"),n),i(e("./transaction-types.cjs"),n),i(e("./versions.cjs"),n)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/index.cjs"}],[2362,{"./assert.cjs":2351,"./misc.cjs":2365,"@metamask/superstruct":2267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=n.exactOptional=n.object=void 0;const r=e("@metamask/superstruct"),i=e("./assert.cjs"),o=e("./misc.cjs");function s({path:e,branch:t}){const n=e[e.length-1];return(0,o.hasProperty)(t[t.length-2],n)}function a(e){return new r.Struct({...e,type:`optional ${e.type}`,validator:(t,n)=>!s(n)||e.validator(t,n),refiner:(t,n)=>!s(n)||e.refiner(t,n)})}function c(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!c(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!c(n[e][1])){t=!1;break}return t}return!1}function u(e){return(0,r.create)(e,n.JsonStruct)}n.object=e=>(0,r.object)(e),n.exactOptional=a,n.UnsafeJsonStruct=(0,r.define)("JSON",e=>c(e)),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.refine)((0,r.any)(),"JSON",e=>(0,r.is)(e,n.UnsafeJsonStruct)),e=>JSON.parse(JSON.stringify(e,(e,t)=>"__proto__"===e||"constructor"===e?undefined:t))),n.isValidJson=function(e){try{return u(e),!0}catch{return!1}},n.getSafeJson=u,n.getJsonSize=function(e){(0,i.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,n.object)({code:(0,r.integer)(),message:(0,r.string)(),data:a(n.JsonStruct),stack:a((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)]),n.JsonRpcRequestStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:a(n.JsonRpcParamsStruct)}),n.JsonRpcNotificationStruct=(0,n.object)({jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:a(n.JsonRpcParamsStruct)}),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,i.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,i.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,i.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,i.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,i.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/json.cjs"}],[2363,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/keyring.cjs"}],[2364,{debug:3468},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const i=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return i.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/logging.cjs"}],[2365,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.getKnownPropertyNames=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),n.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce((e,t)=>r(t)?e+1:e+2,0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/misc.cjs"}],[2366,{"./assert.cjs":2351,"./hex.cjs":2360},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert.cjs"),i=e("./hex.cjs");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/number.cjs"}],[2367,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/opaque.cjs"}],[2368,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createDeferredPromise=void 0,n.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,n;const r=new Promise((e,r)=>{t=e,n=r});return e&&r.catch(e=>{}),{promise:r,resolve:t,reject:n}}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/promise.cjs"}],[2369,{"@metamask/superstruct":2267},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.definePattern=void 0;const r=e("@metamask/superstruct");n.definePattern=function(e,t){return(0,r.define)(e,e=>"string"==typeof e&&t.test(e))}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/superstruct.cjs"}],[2370,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/time.cjs"}],[2371,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/transaction-types.cjs"}],[2372,{"./assert.cjs":2351,"@metamask/superstruct":2267,semver:4804},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("@metamask/superstruct"),i=e("semver"),o=e("./assert.cjs");n.VersionStruct=(0,r.refine)((0,r.string)(),"Version",e=>null!==(0,i.valid)(e)||`Expected SemVer version, got "${e}"`),n.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",e=>null!==(0,i.validRange)(e)||`Expected SemVer range, got "${e}"`),n.isValidSemVerVersion=function(e){return(0,r.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,r.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,o.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,o.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,i.gt)(e,t)},n.gtRange=function(e,t){return(0,i.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,i.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/versions.cjs"}],[2373,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r="__lodash_hash_undefined__",i="[object Function]",o="[object GeneratorFunction]",s=/^\[object .+?Constructor\]$/,a="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis,c="object"==typeof self&&self&&self.Object===Object&&self,u=a||c||Function("return this")();var l,d=Array.prototype,f=Function.prototype,h=Object.prototype,p=u["__core-js_shared__"],m=(l=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",g=f.toString,_=h.hasOwnProperty,E=h.toString,b=RegExp("^"+g.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=d.splice,w=N(u,"Map"),S=N(Object,"create");function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function v(e,t){for(var n=e.length;n--;)if(P(e[n][0],t))return n;return-1}function O(e){if(!x(e)||(t=e,m&&m in t))return!1;var t,n=function(e){var t=x(e)?E.call(e):"";return t==i||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?b:s;return n.test(function(e){if(null!=e){try{return g.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function I(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function N(e,t){var n=function(e,t){return null==e?undefined:e[t]}(e,t);return O(n)?n:undefined}function C(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(C.Cache||A),n}function P(e,t){return e===t||e!=e&&t!=t}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}T.prototype.clear=function(){this.__data__=S?S(null):{}},T.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},T.prototype.get=function(e){var t=this.__data__;if(S){var n=t[e];return n===r?undefined:n}return _.call(t,e)?t[e]:undefined},T.prototype.has=function(e){var t=this.__data__;return S?t[e]!==undefined:_.call(t,e)},T.prototype.set=function(e,t){return this.__data__[e]=S&&t===undefined?r:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,n=v(t,e);return!(n<0)&&(n==t.length-1?t.pop():y.call(t,n,1),!0)},R.prototype.get=function(e){var t=this.__data__,n=v(t,e);return n<0?undefined:t[n][1]},R.prototype.has=function(e){return v(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=v(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},A.prototype.clear=function(){this.__data__={hash:new T,map:new(w||R),string:new T}},A.prototype.delete=function(e){return I(this,e).delete(e)},A.prototype.get=function(e){return I(this,e).get(e)},A.prototype.has=function(e){return I(this,e).has(e)},A.prototype.set=function(e,t){return I(this,e).set(e,t),this},C.Cache=A,t.exports=C}}},{package:"@metamask/utils>lodash.memoize",file:"node_modules/@metamask/utils/node_modules/lodash.memoize/index.js"}],[2375,{"./utils":2385,assert:3314,buffer:3318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=r(e("assert")),o=e("./utils");let s=[];var a;!function(e){e.STANDARD="standard",e.URI="uri",e.MINIMAL="minimal"}(a||(a={}));const c=e=>"ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom".slice(4*e,4*e+4),u=e=>`${e}${o.getCRCHex(t.from(e,"hex"))}`,l=(e,n)=>{const r=u(e);return t.from(r,"hex").reduce((e,t)=>[...e,c(t)],[]).join(n)},d=e=>{const n=u(e);return t.from(n,"hex").reduce((e,t)=>e+(e=>{const t=c(e);return`${t[0]}${t[3]}`})(t),"")},f=(e,n,r)=>{const a=(4==r?e.split(n):o.partition(e,2)).map(e=>((e,n)=>{i.default(e.length===n,"Invalid Bytewords: word.length does not match wordLength provided");const r=26;if(0===s.length){s=[...new Array(676)].map(()=>-1);for(let e=0;e<256;e++){const t=c(e);let n=t[0].charCodeAt(0)-"a".charCodeAt(0),i=t[3].charCodeAt(0)-"a".charCodeAt(0);s[i*r+n]=e}}let o=e[0].toLowerCase().charCodeAt(0)-"a".charCodeAt(0),a=e[4==n?3:1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);i.default(0<=o&&o<r&&0<=a&&a<r,"Invalid Bytewords: invalid word");let u=s[a*r+o];if(i.default(-1!==u,"Invalid Bytewords: value not in lookup table"),4==n){const t=c(u);let n=e[1].toLowerCase(),r=e[2].toLowerCase();i.default(n===t[1]&&r===t[2],"Invalid Bytewords: invalid middle letters of word")}return t.from([u]).toString("hex")})(e,r)).join("");i.default(a.length>=5,"Invalid Bytewords: invalid decoded string length");const[u,l]=o.split(t.from(a,"hex"),4),d=o.getCRCHex(u);return i.default(d===l.toString("hex"),"Invalid Checksum"),u.toString("hex")};n.default={decode:(e,t=a.MINIMAL)=>{switch(t){case a.STANDARD:return f(e," ",4);case a.URI:return f(e,"-",4);case a.MINIMAL:return f(e,"",2);default:throw new Error(`Invalid style ${t}`)}},encode:(e,t=a.MINIMAL)=>{switch(t){case a.STANDARD:return l(e," ");case a.URI:return l(e,"-");case a.MINIMAL:return d(e);default:throw new Error(`Invalid style ${t}`)}},STYLES:a}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/bytewords.js"}],[2376,{buffer:3318,"cbor-sync":3338},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.cborDecode=n.cborEncode=void 0;const r=e("cbor-sync");n.cborEncode=e=>r.encode(e);n.cborDecode=e=>r.decode(t.isBuffer(e)?e:t.from(e,"hex"))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/cbor.js"}],[2377,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InvalidChecksumError=n.InvalidSequenceComponentError=n.InvalidTypeError=n.InvalidPathLengthError=n.InvalidSchemeError=void 0;class r extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}}n.InvalidSchemeError=r;class i extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}}n.InvalidPathLengthError=i;class o extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}}n.InvalidTypeError=o;class s extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}}n.InvalidSequenceComponentError=s;class a extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}}n.InvalidChecksumError=a}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/errors.js"}],[2378,{"./errors":2377,"./fountainUtils":2380,"./utils":2385,buffer:3318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.FountainDecoderPart=void 0;const r=e("./utils"),i=e("./fountainUtils"),o=e("./errors");class s{constructor(e,t){this._indexes=e,this._fragment=t}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(e){const t=i.chooseFragments(e.seqNum,e.seqLength,e.checksum),n=e.fragment;return new s(t,n)}isSimple(){return 1===this.indexes.length}}n.FountainDecoderPart=s;class a{constructor(){this.result=undefined,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(e){if(0===this.expectedPartIndexes.length)[...new Array(e.seqLength)].forEach((e,t)=>this.expectedPartIndexes.push(t)),this.expectedMessageLength=e.messageLength,this.expectedChecksum=e.checksum,this.expectedFragmentLength=e.fragment.length;else{if(this.expectedPartIndexes.length!==e.seqLength)return!1;if(this.expectedMessageLength!==e.messageLength)return!1;if(this.expectedChecksum!==e.checksum)return!1;if(this.expectedFragmentLength!==e.fragment.length)return!1}return!0}reducePartByPart(e,t){if(r.arrayContains(e.indexes,t.indexes)){const n=r.setDifference(e.indexes,t.indexes),i=r.bufferXOR(e.fragment,t.fragment);return new s(n,i)}return e}reduceMixedBy(e){const t=[];this.mixedParts.map(({value:t})=>this.reducePartByPart(t,e)).forEach(e=>{e.isSimple()?this.queuedParts.push(e):t.push({key:e.indexes,value:e})}),this.mixedParts=t}processSimplePart(e){const t=e.indexes[0];if(!this.receivedPartIndexes.includes(t))if(this.simpleParts.push({key:e.indexes,value:e}),this.receivedPartIndexes.push(t),r.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){const e=this.simpleParts.map(({value:e})=>e).sort((e,t)=>e.indexes[0]-t.indexes[0]),t=a.joinFragments(e.map(e=>e.fragment),this.expectedMessageLength);r.getCRC(t)===this.expectedChecksum?this.result=t:this.error=new o.InvalidChecksumError}else this.reduceMixedBy(e)}processMixedPart(e){if(this.mixedParts.some(({key:t})=>r.arraysEqual(t,e.indexes)))return;let t=this.simpleParts.reduce((e,{value:t})=>this.reducePartByPart(e,t),e);t=this.mixedParts.reduce((e,{value:t})=>this.reducePartByPart(e,t),t),t.isSimple()?this.queuedParts.push(t):(this.reduceMixedBy(t),this.mixedParts.push({key:t.indexes,value:t}))}processQueuedItem(){if(0===this.queuedParts.length)return;const e=this.queuedParts.shift();e.isSimple()?this.processSimplePart(e):this.processMixedPart(e)}receivePart(e){if(this.isComplete())return!1;if(!this.validatePart(e))return!1;const t=s.fromEncoderPart(e);for(this.lastPartIndexes=t.indexes,this.queuedParts.push(t);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return Boolean(this.result!==undefined&&this.result.length>0)}isSuccess(){return Boolean(this.error===undefined&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:t.from([])}isFailure(){return this.error!==undefined}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;const e=this.expectedPartCount();return 0===e?0:Math.min(.99,this.processedPartsCount/(1.75*e))}getProgress(){if(this.isComplete())return 1;const e=this.expectedPartCount();return 0===e?0:this.receivedPartIndexes.length/e}}n.default=a,a.joinFragments=(e,n)=>t.concat(e).slice(0,n)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainDecoder.js"}],[2379,{"./cbor":2376,"./fountainUtils":2380,"./utils":2385,assert:3314,buffer:3318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.FountainEncoderPart=void 0;const i=r(e("assert")),o=e("./utils"),s=e("./fountainUtils"),a=e("./cbor");class c{constructor(e,t,n,r,i){this._seqNum=e,this._seqLength=t,this._messageLength=n,this._checksum=r,this._fragment=i}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){const e=a.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return t.from(e)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(e){const[n,r,o,s,u]=a.cborDecode(e);return i.default("number"==typeof n),i.default("number"==typeof r),i.default("number"==typeof o),i.default("number"==typeof s),i.default(t.isBuffer(u)&&u.length>0),new c(n,r,o,s,t.from(u))}}n.FountainEncoderPart=c;class u{constructor(e,t=100,n=0,r=10){const i=u.findNominalFragmentLength(e.length,r,t);this._messageLength=e.length,this._fragments=u.partitionMessage(e,i),this.fragmentLength=i,this.seqNum=o.toUint32(n),this.checksum=o.getCRC(e)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return 1===this._fragments.length}seqLength(){return this._fragments.length}mix(e){return e.reduce((e,t)=>o.bufferXOR(this._fragments[t],e),t.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=o.toUint32(this.seqNum+1);const e=s.chooseFragments(this.seqNum,this._fragments.length,this.checksum),t=this.mix(e);return new c(this.seqNum,this._fragments.length,this._messageLength,this.checksum,t)}static findNominalFragmentLength(e,t,n){i.default(e>0),i.default(t>0),i.default(n>=t);const r=Math.ceil(e/t);let o=0;for(let t=1;t<=r&&(o=Math.ceil(e/t),!(o<=n));t++);return o}static partitionMessage(e,n){let r,i=t.from(e),s=[];for(;i.length>0;)[r,i]=o.split(i,-n),r=t.alloc(n,0).fill(r,0,r.length),s.push(r);return s}}n.default=u}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainEncoder.js"}],[2380,{"./utils":2385,"./xoshiro":2386,"@keystonehq/alias-sampling":681,buffer:3318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.chooseFragments=n.shuffle=n.chooseDegree=void 0;const i=e("./utils"),o=r(e("./xoshiro")),s=r(e("@keystonehq/alias-sampling"));n.chooseDegree=(e,t)=>{const n=[...new Array(e)].map((e,t)=>1/(t+1));return s.default(n,undefined,t.nextDouble).next()+1};n.shuffle=(e,t)=>{let n=[...e],r=[];for(;n.length>0;){let e=t.nextInt(0,n.length-1),i=n[e];n.splice(e,1),r.push(i)}return r};n.chooseFragments=(e,r,s)=>{if(e<=r)return[e-1];{const a=t.concat([i.intToBytes(e),i.intToBytes(s)]),c=new o.default(a),u=n.chooseDegree(r,c),l=[...new Array(r)].map((e,t)=>t);return n.shuffle(l,c).slice(0,u)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainUtils.js"}],[2381,{"./ur":2382,"./urDecoder":2383,"./urEncoder":2384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.URDecoder=n.UREncoder=n.UR=void 0;const i=r(e("./ur"));n.UR=i.default;const o=r(e("./urEncoder"));n.UREncoder=o.default;const s=r(e("./urDecoder"));n.URDecoder=s.default}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/index.js"}],[2382,{"./cbor":2376,"./errors":2377,"./utils":2385,buffer:3318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./errors"),i=e("./utils"),o=e("./cbor");class s{constructor(e,t="bytes"){if(this._cborPayload=e,this._type=t,!i.isURType(this._type))throw new r.InvalidTypeError}static fromBuffer(e){return new s(o.cborEncode(e))}static from(e,n){return s.fromBuffer(t.from(e,n))}decodeCBOR(){return o.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(e){return this.type===e.type&&this.cbor.equals(e.cbor)}}n.default=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/ur.js"}],[2383,{"./bytewords":2375,"./errors":2377,"./fountainDecoder":2378,"./fountainEncoder":2379,"./ur":2382,"./utils":2385,assert:3314,buffer:3318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=r(e("./fountainDecoder")),o=r(e("./bytewords")),s=r(e("assert")),a=e("./utils"),c=e("./errors"),u=r(e("./ur")),l=e("./fountainEncoder");class d{constructor(e=new i.default,t="bytes"){this.fountainDecoder=e,this.type=t,s.default(a.isURType(t),"Invalid UR type"),this.expected_type=""}static decodeBody(e,n){const r=o.default.decode(n,o.default.STYLES.MINIMAL);return new u.default(t.from(r,"hex"),e)}validatePart(e){return this.expected_type?this.expected_type===e:!!a.isURType(e)&&(this.expected_type=e,!0)}static decode(e){const[t,n]=this.parse(e);if(0===n.length)throw new c.InvalidPathLengthError;const r=n[0];return d.decodeBody(t,r)}static parse(e){const t=e.toLowerCase();if("ur:"!==t.slice(0,3))throw new c.InvalidSchemeError;const n=t.slice(3).split("/"),r=n[0];if(n.length<2)throw new c.InvalidPathLengthError;if(!a.isURType(r))throw new c.InvalidTypeError;return[r,n.slice(1)]}static parseSequenceComponent(e){const t=e.split("-");if(2!==t.length)throw new c.InvalidSequenceComponentError;const n=a.toUint32(Number(t[0])),r=Number(t[1]);if(n<1||r<1)throw new c.InvalidSequenceComponentError;return[n,r]}receivePart(e){if(this.result!==undefined)return!1;const[t,n]=d.parse(e);if(!this.validatePart(t))return!1;if(1===n.length)return this.result=d.decodeBody(t,n[0]),!0;if(2!==n.length)throw new c.InvalidPathLengthError;const[r,i]=n,[s,a]=d.parseSequenceComponent(r),f=o.default.decode(i,o.default.STYLES.MINIMAL),h=l.FountainEncoderPart.fromCBOR(f);return s===h.seqNum&&a===h.seqLength&&(!!this.fountainDecoder.receivePart(h)&&(this.fountainDecoder.isSuccess()?this.result=new u.default(this.fountainDecoder.resultMessage(),t):this.fountainDecoder.isFailure()&&(this.error=new c.InvalidSchemeError),!0))}resultUR(){return this.result?this.result:new u.default(t.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==undefined}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}}n.default=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/urDecoder.js"}],[2384,{"./bytewords":2375,"./fountainEncoder":2379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=r(e("./fountainEncoder")),o=r(e("./bytewords"));class s{constructor(e,t,n,r){this.ur=e,this.fountainEncoder=new i.default(e.cbor,t,n,r)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map(()=>this.nextPart())}nextPart(){const e=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?s.encodeSinglePart(this.ur):s.encodePart(this.ur.type,e)}static encodeUri(e,t){return[e,t.join("/")].join(":")}static encodeUR(e){return s.encodeUri("ur",e)}static encodePart(e,t){const n=`${t.seqNum}-${t.seqLength}`,r=o.default.encode(t.cbor().toString("hex"),o.default.STYLES.MINIMAL);return s.encodeUR([e,n,r])}static encodeSinglePart(e){const t=o.default.encode(e.cbor.toString("hex"),o.default.STYLES.MINIMAL);return s.encodeUR([e.type,t])}}n.default=s}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/urEncoder.js"}],[2385,{buffer:3318,crc:3414,"sha.js":4826},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.bufferXOR=n.setDifference=n.arrayContains=n.arraysEqual=n.hasPrefix=n.isURType=n.intToBytes=n.toUint32=n.getCRCHex=n.getCRC=n.split=n.partition=n.sha256Hash=void 0;const i=r(e("sha.js")),o=e("crc");n.sha256Hash=e=>i.default("sha256").update(e).digest();n.partition=(e,t)=>e.match(new RegExp(".{1,"+t+"}","g"))||[e];n.split=(e,t)=>[e.slice(0,-t),e.slice(-t)];n.getCRC=e=>o.crc32(e);n.getCRCHex=e=>o.crc32(e).toString(16).padStart(8,"0");n.toUint32=e=>e>>>0;n.intToBytes=e=>{const n=new ArrayBuffer(4);return new DataView(n).setUint32(0,e,!1),t.from(n)};n.isURType=e=>e.split("").every((t,n)=>{let r=e.charCodeAt(n);return"a".charCodeAt(0)<=r&&r<="z".charCodeAt(0)||("0".charCodeAt(0)<=r&&r<="9".charCodeAt(0)||r==="-".charCodeAt(0))});n.hasPrefix=(e,t)=>0===e.indexOf(t);n.arraysEqual=(e,t)=>e.length===t.length&&e.every(e=>t.includes(e));n.arrayContains=(e,t)=>t.every(t=>e.includes(t));n.setDifference=(e,t)=>e.filter(e=>t.indexOf(e)<0);n.bufferXOR=(e,n)=>{const r=Math.max(e.length,n.length),i=t.allocUnsafe(r);for(let t=0;t<r;++t)i[t]=e[t]^n[t];return i}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/utils.js"}],[2386,{"./utils":2385,"bignumber.js":2387,jsbi:3918},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=e("./utils"),o=r(e("bignumber.js")),s=r(e("jsbi")),a=(e,t)=>s.default.bitwiseXor(s.default.asUintN(64,s.default.leftShift(e,s.default.BigInt(t))),s.default.BigInt(s.default.asUintN(64,s.default.signedRightShift(e,s.default.subtract(s.default.BigInt(64),s.default.BigInt(t))))));n.default=class{constructor(e){this.next=()=>new o.default(this.roll().toString()),this.nextDouble=()=>new o.default(this.roll().toString()).div(0x10000000000000000),this.nextInt=(e,t)=>Math.floor(this.nextDouble().toNumber()*(t-e+1)+e),this.nextByte=()=>this.nextInt(0,255),this.nextData=e=>[...new Array(e)].map(()=>this.nextByte());const t=i.sha256Hash(e);this.s=[s.default.BigInt(0),s.default.BigInt(0),s.default.BigInt(0),s.default.BigInt(0)],this.setS(t)}setS(e){for(let t=0;t<4;t++){let n=8*t,r=s.default.BigInt(0);for(let t=0;t<8;t++)r=s.default.asUintN(64,s.default.leftShift(r,s.default.BigInt(8))),r=s.default.asUintN(64,s.default.bitwiseOr(r,s.default.BigInt(e[n+t])));this.s[t]=s.default.asUintN(64,r)}}roll(){const e=s.default.asUintN(64,s.default.multiply(a(s.default.asUintN(64,s.default.multiply(this.s[1],s.default.BigInt(5))),7),s.default.BigInt(9))),t=s.default.asUintN(64,s.default.leftShift(this.s[1],s.default.BigInt(17)));return this.s[2]=s.default.asUintN(64,s.default.bitwiseXor(this.s[2],s.default.BigInt(this.s[0]))),this.s[3]=s.default.asUintN(64,s.default.bitwiseXor(this.s[3],s.default.BigInt(this.s[1]))),this.s[1]=s.default.asUintN(64,s.default.bitwiseXor(this.s[1],s.default.BigInt(this.s[2]))),this.s[0]=s.default.asUintN(64,s.default.bitwiseXor(this.s[0],s.default.BigInt(this.s[3]))),this.s[2]=s.default.asUintN(64,s.default.bitwiseXor(this.s[2],s.default.BigInt(t))),this.s[3]=s.default.asUintN(64,a(this.s[3],45)),e}}}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/xoshiro.js"}],[2387,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,h=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,u=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==u,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>u^n?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==u?0:c>u^n?1:-1}function _(e,t,n,r){if(e<t||e>n||e!==o(e))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function E(e){var t=e.c.length-1;return p(e.e/u)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function y(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,w,S,T,R,A,v,O,I,N,C=V.prototype={constructor:V,toString:null,valueOf:null},P=new V(1),x=20,k=4,L=-7,B=21,D=-1e7,M=1e7,j=!1,U=1,F=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz",z=!0;function V(e,t){var n,i,s,c,d,f,h,p,m=this;if(!(m instanceof V))return new V(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>M?m.c=m.e=null:e.e<D?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>M?m.c=m.e=null:(m.e=c,m.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return S(m,p,f);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(c=p.indexOf("."))>-1&&(p=p.replace(".","")),(d=p.search(/e/i))>0?(c<0&&(c=d),c+=+p.slice(d+1),p=p.substring(0,d)):c<0&&(c=p.length)}else{if(_(t,2,G.length,"Base"),10==t&&z)return X(m=new V(e),x+m.e+1,k);if(p=String(e),f="number"==typeof e){if(0*e!=0)return S(m,p,f,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,V.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=G.slice(0,t),c=d=0,h=p.length;d<h;d++)if(n.indexOf(i=p.charAt(d))<0){if("."==i){if(d>c){c=h;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,d=-1,c=0;continue}return S(m,String(e),f,t)}f=!1,(c=(p=w(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):c=p.length}for(d=0;48===p.charCodeAt(d);d++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(d,++h)){if(h-=d,f&&V.DEBUG&&h>15&&(e>l||e!==o(e)))throw Error(a+m.s*e);if((c=c-d-1)>M)m.c=m.e=null;else if(c<D)m.c=[m.e=0];else{if(m.e=c,m.c=[],d=(c+1)%u,c<0&&(d+=u),d<h){for(d&&m.c.push(+p.slice(0,d)),h-=u;d<h;)m.c.push(+p.slice(d,d+=u));d=u-(p=p.slice(d)).length}else d-=h;for(;d--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function W(e,t,n,r){var i,o,s,a,c;if(null==n?n=k:_(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=m(e.c),c=1==r||2==r&&(s<=L||s>=B)?b(c,s):y(c,s,"0");else if(o=(e=X(new V(e),t,n)).e,a=(c=m(e.c)).length,1==r||2==r&&(t<=o||o<=L)){for(;a<t;c+="0",a++);c=b(c,o)}else if(t-=s,c=y(c,o,"0"),o+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-a)>0)for(o+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function q(e,t){for(var n,r,i=1,o=new V(e[0]);i<e.length;i++)(!(r=new V(e[i])).s||(n=g(o,r))===t||0===n&&o.s===t)&&(o=r);return o}function K(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*u-1)>M?e.c=e.e=null:n<D?e.c=[e.e=0]:(e.e=n,e.c=t),e}function X(e,t,n,r){var s,a,l,f,h,p,m,g=e.c,_=d;if(g){e:{for(s=1,f=g[0];f>=10;f/=10,s++);if((a=t-s)<0)a+=u,l=t,h=g[p=0],m=o(h/_[s-l-1]%10);else if((p=i((a+1)/u))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));h=m=0,s=1,l=(a%=u)-u+1}else{for(h=f=g[p],s=1;f>=10;f/=10,s++);m=(l=(a%=u)-u+s)<0?0:o(h/_[s-l-1]%10)}if(r=r||t<0||null!=g[p+1]||(l<0?h:h%_[s-l-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?l>0?h/_[s-l]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=_[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,f=1,p--):(g.length=p+1,f=_[u-a],g[p]=l>0?o(h/_[s-l]%_[l])*f:0),r)for(;;){if(0==p){for(a=1,l=g[0];l>=10;l/=10,a++);for(l=g[0]+=f,f=1;l>=10;l/=10,f++);a!=f&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=f,g[p]!=c)break;g[p--]=0,f=1}for(a=g.length;0===g[--a];g.pop());}e.e>M?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}function Y(e){var t,n=e.e;return null===n?e.toString():(t=m(e.c),t=n<=L||n>=B?b(t,n):y(t,n,"0"),e.s<0?"-"+t:t)}return V.clone=e,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(_(n=e[t],0,h,t),x=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(_(n=e[t],0,8,t),k=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(_(n[0],-h,0,t),_(n[1],0,h,t),L=n[0],B=n[1]):(_(n,-h,h,t),L=-(B=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)_(n[0],-h,-1,t),_(n[1],1,h,t),D=n[0],M=n[1];else{if(_(n,-h,h,t),!n)throw Error(s+t+" cannot be zero: "+n);D=-(M=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw j=!n,Error(s+"crypto unavailable");j=n}else j=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(_(n=e[t],0,9,t),U=n),e.hasOwnProperty(t="POW_PRECISION")&&(_(n=e[t],0,h,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);H=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);z="0123456789"==n.slice(0,10),G=n}}return{DECIMAL_PLACES:x,ROUNDING_MODE:k,EXPONENTIAL_AT:[L,B],RANGE:[D,M],CRYPTO:j,MODULO_MODE:U,POW_PRECISION:F,FORMAT:H,ALPHABET:G}},V.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!V.DEBUG)return!0;var t,n,r=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&i>=-h&&i<=h&&i===o(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%u)<1&&(t+=u),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},V.maximum=V.max=function(){return q(arguments,-1)},V.minimum=V.min=function(){return q(arguments,1)},V.random=(T=9007199254740992,R=Math.random()*T&2097151?function(){return o(Math.random()*T)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,c,l=0,f=[],p=new V(P);if(null==e?e=x:_(e,0,h),a=i(e/u),j)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(c=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(f.push(c%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw j=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(c=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(f.push(c%1e14),l+=7);l=a/7}if(!j)for(;l<a;)(c=R())<9e15&&(f[l++]=c%1e14);for(a=f[--l],e%=u,a&&e&&(c=d[u-e],f[l]=o(a/c)*c);0===f[l];f.pop(),l--);if(l<0)f=[r=0];else{for(r=-1;0===f[0];f.splice(0,1),r-=u);for(l=1,c=f[0];c>=10;c/=10,l++);l<u&&(r-=u-l)}return p.e=r,p.c=f,p}),V.sum=function(){for(var e=1,t=arguments,n=new V(t[0]);e<t.length;)n=n.plus(t[e++]);return n},w=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,s=[0],a=0,c=e.length;a<c;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var c,u,l,d,f,h,p,g,_=r.indexOf("."),E=x,b=k;for(_>=0&&(d=F,F=0,r=r.replace(".",""),h=(g=new V(i)).pow(r.length-_),F=d,g.c=t(y(m(h.c),h.e,"0"),10,o,e),g.e=g.c.length),l=d=(p=t(r,i,o,a?(c=G,e):(c=e,G))).length;0==p[--d];p.pop());if(!p[0])return c.charAt(0);if(_<0?--l:(h.c=p,h.e=l,h.s=s,p=(h=n(h,g,E,b,o)).c,f=h.r,l=h.e),_=p[u=l+E+1],d=o/2,f=f||u<0||null!=p[u+1],f=b<4?(null!=_||f)&&(0==b||b==(h.s<0?3:2)):_>d||_==d&&(4==b||f||6==b&&1&p[u-1]||b==(h.s<0?8:7)),u<1||!p[0])r=f?y(c.charAt(1),-E,c.charAt(0)):c.charAt(0);else{if(p.length=u,f)for(--o;++p[--u]>o;)p[u]=0,u||(++l,p=[1].concat(p));for(d=p.length;!p[--d];);for(_=0,r="";_<=d;r+=c.charAt(p[_++]));r=y(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,o,s,a=0,c=e.length,u=t%f,l=t/f|0;for(e=e.slice();c--;)a=((i=u*(o=e[c]%f)+(r=l*o+(s=e[c]/f|0)*u)%f*f+a)/n|0)+(r/f|0)+l*s,e[c]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,a,l){var d,f,h,m,g,_,E,b,y,w,S,T,R,A,v,O,I,N=r.s==i.s?1:-1,C=r.c,P=i.c;if(!(C&&C[0]&&P&&P[0]))return new V(r.s&&i.s&&(C?!P||C[0]!=P[0]:P)?C&&0==C[0]||!P?0*N:N/0:NaN);for(y=(b=new V(N)).c=[],N=s+(f=r.e-i.e)+1,l||(l=c,f=p(r.e/u)-p(i.e/u),N=N/u|0),h=0;P[h]==(C[h]||0);h++);if(P[h]>(C[h]||0)&&f--,N<0)y.push(1),m=!0;else{for(A=C.length,O=P.length,h=0,N+=2,(g=o(l/(P[0]+1)))>1&&(P=e(P,g,l),C=e(C,g,l),O=P.length,A=C.length),R=O,S=(w=C.slice(0,O)).length;S<O;w[S++]=0);I=P.slice(),I=[0].concat(I),v=P[0],P[1]>=l/2&&v++;do{if(g=0,(d=t(P,w,O,S))<0){if(T=w[0],O!=S&&(T=T*l+(w[1]||0)),(g=o(T/v))>1)for(g>=l&&(g=l-1),E=(_=e(P,g,l)).length,S=w.length;1==t(_,w,E,S);)g--,n(_,O<E?I:P,E,l),E=_.length,d=1;else 0==g&&(d=g=1),E=(_=P.slice()).length;if(E<S&&(_=[0].concat(_)),n(w,_,S,l),S=w.length,-1==d)for(;t(P,w,O,S)<1;)g++,n(w,O<S?I:P,S,l),S=w.length}else 0===d&&(g++,w=[0]);y[h++]=g,w[0]?w[S++]=C[R]||0:(w=[C[R]],S=1)}while((R++<A||null!=w[0])&&N--);m=null!=w[0],y[0]||y.splice(0,1)}if(l==c){for(h=1,N=y[0];N>=10;N/=10,h++);X(b,s+(b.e=h+f*u-1)+1,a,m)}else b.e=f,b.r=+m;return b}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,O=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,N=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,n,r){var i,o=n?t:t.replace(N,"");if(I.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(A,function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t}),r&&(i=r,o=o.replace(v,"$1").replace(O,"0.$1")),t!=o))return new V(o,i);if(V.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},C.absoluteValue=C.abs=function(){var e=new V(this);return e.s<0&&(e.s=1),e},C.comparedTo=function(e,t){return g(this,new V(e,t))},C.decimalPlaces=C.dp=function(e,t){var n,r,i,o=this;if(null!=e)return _(e,0,h),null==t?t=k:_(t,0,8),X(new V(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-p(this.e/u))*u,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},C.dividedBy=C.div=function(e,t){return n(this,new V(e,t),x,k)},C.dividedToIntegerBy=C.idiv=function(e,t){return n(this,new V(e,t),0,1)},C.exponentiatedBy=C.pow=function(e,t){var n,r,a,c,l,d,f,h,p=this;if((e=new V(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new V(t)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new V(Math.pow(+Y(p),l?e.s*(2-E(e)):+Y(e))),t?h.mod(t):h;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new V(NaN);(r=!d&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return c=p.s<0&&E(e)?-0:0,p.e>-1&&(c=1/c),new V(d?1/c:c);F&&(c=i(F/u+2))}for(l?(n=new V(.5),d&&(e.s=1),f=E(e)):f=(a=Math.abs(+Y(e)))%2,h=new V(P);;){if(f){if(!(h=h.times(p)).c)break;c?h.c.length>c&&(h.c.length=c):r&&(h=h.mod(t))}if(a){if(0===(a=o(a/2)))break;f=a%2}else if(X(e=e.times(n),e.e+1,1),e.e>14)f=E(e);else{if(0===(a=+Y(e)))break;f=a%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):r&&(p=p.mod(t))}return r?h:(d&&(h=P.div(h)),t?h.mod(t):c?X(h,F,k,undefined):h)},C.integerValue=function(e){var t=new V(this);return null==e?e=k:_(e,0,8),X(t,t.e+1,e)},C.isEqualTo=C.eq=function(e,t){return 0===g(this,new V(e,t))},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(e,t){return g(this,new V(e,t))>0},C.isGreaterThanOrEqualTo=C.gte=function(e,t){return 1===(t=g(this,new V(e,t)))||0===t},C.isInteger=function(){return!!this.c&&p(this.e/u)>this.c.length-2},C.isLessThan=C.lt=function(e,t){return g(this,new V(e,t))<0},C.isLessThanOrEqualTo=C.lte=function(e,t){return-1===(t=g(this,new V(e,t)))||0===t},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return this.s>0},C.isZero=function(){return!!this.c&&0==this.c[0]},C.minus=function(e,t){var n,r,i,o,s=this,a=s.s;if(t=(e=new V(e,t)).s,!a||!t)return new V(NaN);if(a!=t)return e.s=-t,s.plus(e);var l=s.e/u,d=e.e/u,f=s.c,h=e.c;if(!l||!d){if(!f||!h)return f?(e.s=-t,e):new V(h?s:NaN);if(!f[0]||!h[0])return h[0]?(e.s=-t,e):new V(f[0]?s:3==k?-0:0)}if(l=p(l),d=p(d),f=f.slice(),a=l-d){for((o=a<0)?(a=-a,i=f):(d=l,i=h),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=f.length)<(t=h.length))?a:t,a=t=0;t<r;t++)if(f[t]!=h[t]){o=f[t]<h[t];break}if(o&&(i=f,f=h,h=i,e.s=-e.s),(t=(r=h.length)-(n=f.length))>0)for(;t--;f[n++]=0);for(t=c-1;r>a;){if(f[--r]<h[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=c}f[r]-=h[r]}for(;0==f[0];f.splice(0,1),--d);return f[0]?K(e,f,d):(e.s=3==k?-1:1,e.c=[e.e=0],e)},C.modulo=C.mod=function(e,t){var r,i,o=this;return e=new V(e,t),!o.c||!e.s||e.c&&!e.c[0]?new V(NaN):!e.c||o.c&&!o.c[0]?new V(o):(9==U?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,U),(e=o.minus(r.times(e))).c[0]||1!=U||(e.s=o.s),e)},C.multipliedBy=C.times=function(e,t){var n,r,i,o,s,a,l,d,h,m,g,_,E,b,y,w=this,S=w.c,T=(e=new V(e,t)).c;if(!(S&&T&&S[0]&&T[0]))return!w.s||!e.s||S&&!S[0]&&!T||T&&!T[0]&&!S?e.c=e.e=e.s=null:(e.s*=w.s,S&&T?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(w.e/u)+p(e.e/u),e.s*=w.s,(l=S.length)<(m=T.length)&&(E=S,S=T,T=E,i=l,l=m,m=i),i=l+m,E=[];i--;E.push(0));for(b=c,y=f,i=m;--i>=0;){for(n=0,g=T[i]%y,_=T[i]/y|0,o=i+(s=l);o>i;)n=((d=g*(d=S[--s]%y)+(a=_*d+(h=S[s]/y|0)*g)%y*y+E[o]+n)/b|0)+(a/y|0)+_*h,E[o--]=d%b;E[o]=n}return n?++r:E.splice(0,1),K(e,E,r)},C.negated=function(){var e=new V(this);return e.s=-e.s||null,e},C.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new V(e,t)).s,!i||!t)return new V(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/u,s=e.e/u,a=r.c,l=e.c;if(!o||!s){if(!a||!l)return new V(i/0);if(!a[0]||!l[0])return l[0]?e:new V(a[0]?r:0*i)}if(o=p(o),s=p(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=l):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+l[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++s),K(e,a,s)},C.precision=C.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return _(e,1,h),null==t?t=k:_(t,0,8),X(new V(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*u+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},C.shiftedBy=function(e){return _(e,-9007199254740991,l),this.times("1e"+e)},C.squareRoot=C.sqrt=function(){var e,t,r,i,o,s=this,a=s.c,c=s.s,u=s.e,l=x+4,d=new V("0.5");if(1!==c||!a||!a[0])return new V(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+Y(s)))||c==1/0?(((t=m(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=p((u+1)/2)-(u<0||u%2),r=new V(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new V(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(o=r,r=d.times(o.plus(n(s,o,l,1))),m(o.c).slice(0,c)===(t=m(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(X(r,r.e+x+2,1),e=!r.times(r).eq(s));break}if(!i&&(X(o,o.e+x+2,0),o.times(o).eq(s))){r=o;break}l+=4,c+=4,i=1}return X(r,r.e+x+1,k,e)},C.toExponential=function(e,t){return null!=e&&(_(e,0,h),e++),W(this,e,t,1)},C.toFixed=function(e,t){return null!=e&&(_(e,0,h),e=e+this.e+1),W(this,e,t)},C.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=H;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var o,a=r.split("."),c=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",d=a[0],f=a[1],h=i.s<0,p=h?d.slice(1):d,m=p.length;if(u&&(o=c,c=u,u=o,m-=o),c>0&&m>0){for(o=m%c||c,d=p.substr(0,o);o<m;o+=c)d+=l+p.substr(o,c);u>0&&(d+=l+p.slice(o)),h&&(d="-"+d)}r=f?d+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):d}return(n.prefix||"")+r+(n.suffix||"")},C.toFraction=function(e){var t,r,i,o,a,c,l,f,h,p,g,_,E=this,b=E.c;if(null!=e&&(!(l=new V(e)).isInteger()&&(l.c||1!==l.s)||l.lt(P)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Y(l));if(!b)return new V(E);for(t=new V(P),h=r=new V(P),i=f=new V(P),_=m(b),a=t.e=_.length-E.e-1,t.c[0]=d[(c=a%u)<0?u+c:c],e=!e||l.comparedTo(t)>0?a>0?t:h:l,c=M,M=1/0,l=new V(_),f.c[0]=0;p=n(l,t,0,1),1!=(o=r.plus(p.times(i))).comparedTo(e);)r=i,i=o,h=f.plus(p.times(o=h)),f=o,t=l.minus(p.times(o=t)),l=o;return o=n(e.minus(r),i,0,1),f=f.plus(o.times(h)),r=r.plus(o.times(i)),f.s=h.s=E.s,g=n(h,i,a*=2,k).minus(E).abs().comparedTo(n(f,r,a,k).minus(E).abs())<1?[h,i]:[f,r],M=c,g},C.toNumber=function(){return+Y(this)},C.toPrecision=function(e,t){return null!=e&&_(e,1,h),W(this,e,t,2)},C.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=L||i>=B?b(m(n.c),i):y(m(n.c),i,"0"):10===e&&z?t=y(m((n=X(new V(n),x+i+1,k)).c),n.e,"0"):(_(e,2,G.length,"Base"),t=w(y(m(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},C.valueOf=C.toJSON=function(){return Y(this)},C._isBigNumber=!0,null!=t&&V.set(t),V}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"@ngraveio/bc-ur>bignumber.js",file:"node_modules/@ngraveio/bc-ur/node_modules/bignumber.js/bignumber.js"}],[2388,{"./utils.js":2391},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.polyval=n.ghash=void 0,n._toGHASHKey=u;const r=e("./utils.js"),i=16,o=new Uint8Array(16),s=(0,r.u32)(o),a=(e,t,n,r)=>({s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^225<<24&-(1&(1&r))}),c=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;function u(e){e.reverse();const t=1&e[15];let n=0;for(let t=0;t<e.length;t++){const r=e[t];e[t]=r>>>1|n,n=(1&r)<<7}return e[0]^=225&-t,e}class l{constructor(e,t){this.blockLen=i,this.outputLen=i,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,r.toBytes)(e),(0,r.abytes)(e,16);const n=(0,r.createView)(e);let o=n.getUint32(0,!1),s=n.getUint32(4,!1),u=n.getUint32(8,!1),l=n.getUint32(12,!1);const d=[];for(let e=0;e<128;e++)d.push({s0:c(o),s1:c(s),s2:c(u),s3:c(l)}),({s0:o,s1:s,s2:u,s3:l}=a(o,s,u,l));const f=(h=t||1024)>65536?8:h>1024?4:2;var h;if(![1,2,4,8].includes(f))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=f;const p=128/f,m=this.windowSize=2**f,g=[];for(let e=0;e<p;e++)for(let t=0;t<m;t++){let n=0,r=0,i=0,o=0;for(let s=0;s<f;s++){if(!(t>>>f-s-1&1))continue;const{s0:a,s1:c,s2:u,s3:l}=d[f*e+s];n^=a,r^=c,i^=u,o^=l}g.push({s0:n,s1:r,s2:i,s3:o})}this.t=g}_updateBlock(e,t,n,r){e^=this.s0,t^=this.s1,n^=this.s2,r^=this.s3;const{W:i,t:o,windowSize:s}=this;let a=0,c=0,u=0,l=0;const d=(1<<i)-1;let f=0;for(const h of[e,t,n,r])for(let e=0;e<4;e++){const t=h>>>8*e&255;for(let e=8/i-1;e>=0;e--){const n=t>>>i*e&d,{s0:r,s1:h,s2:p,s3:m}=o[f*s+n];a^=r,c^=h,u^=p,l^=m,f+=1}}this.s0=a,this.s1=c,this.s2=u,this.s3=l}update(e){(0,r.aexists)(this),e=(0,r.toBytes)(e),(0,r.abytes)(e);const t=(0,r.u32)(e),n=Math.floor(e.length/i),a=e.length%i;for(let e=0;e<n;e++)this._updateBlock(t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]);return a&&(o.set(e.subarray(n*i)),this._updateBlock(s[0],s[1],s[2],s[3]),(0,r.clean)(s)),this}destroy(){const{t:e}=this;for(const t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){(0,r.aexists)(this),(0,r.aoutput)(e,this),this.finished=!0;const{s0:t,s1:n,s2:i,s3:o}=this,s=(0,r.u32)(e);return s[0]=t,s[1]=n,s[2]=i,s[3]=o,e}digest(){const e=new Uint8Array(i);return this.digestInto(e),this.destroy(),e}}class d extends l{constructor(e,t){e=(0,r.toBytes)(e),(0,r.abytes)(e);const n=u((0,r.copyBytes)(e));super(n,t),(0,r.clean)(n)}update(e){e=(0,r.toBytes)(e),(0,r.aexists)(this);const t=(0,r.u32)(e),n=e.length%i,a=Math.floor(e.length/i);for(let e=0;e<a;e++)this._updateBlock(c(t[4*e+3]),c(t[4*e+2]),c(t[4*e+1]),c(t[4*e+0]));return n&&(o.set(e.subarray(a*i)),this._updateBlock(c(s[3]),c(s[2]),c(s[1]),c(s[0])),(0,r.clean)(s)),this}digestInto(e){(0,r.aexists)(this),(0,r.aoutput)(e,this),this.finished=!0;const{s0:t,s1:n,s2:i,s3:o}=this,s=(0,r.u32)(e);return s[0]=t,s[1]=n,s[2]=i,s[3]=o,e.reverse()}}function f(e){const t=(t,n)=>e(n,t.length).update((0,r.toBytes)(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,n)=>e(t,n),t}n.ghash=f((e,t)=>new l(e,t)),n.polyval=f((e,t)=>new d(e,t))}}},{package:"@noble/ciphers",file:"node_modules/@noble/ciphers/_polyval.js"}],[2389,{"./_polyval.js":2388,"./utils.js":2391},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unsafe=n.aeskwp=n.aeskw=n.siv=n.gcmsiv=n.gcm=n.cfb=n.cbc=n.ecb=n.ctr=void 0;const r=e("./_polyval.js"),i=e("./utils.js"),o=16,s=new Uint8Array(o);function a(e){return e<<1^283&-(e>>7)}function c(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(1&t),e=a(e);return n}const u=(()=>{const e=new Uint8Array(256);for(let t=0,n=1;t<256;t++,n^=a(n))e[t]=n;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,i.clean)(e),t})(),l=u.map((e,t)=>u.indexOf(t)),d=e=>e<<24|e>>>8,f=e=>e<<8|e>>>24,h=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function p(e,t){if(256!==e.length)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((n,r)=>t(e[r])),r=n.map(f),i=r.map(f),o=i.map(f),s=new Uint32Array(65536),a=new Uint32Array(65536),c=new Uint16Array(65536);for(let t=0;t<256;t++)for(let u=0;u<256;u++){const l=256*t+u;s[l]=n[t]^r[u],a[l]=i[t]^o[u],c[l]=e[t]<<8|e[u]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:i,T3:o,T01:s,T23:a}}const m=p(u,e=>c(e,3)<<24|e<<16|e<<8|c(e,2)),g=p(l,e=>c(e,11)<<24|c(e,13)<<16|c(e,9)<<8|c(e,14)),_=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=a(n))e[t]=n;return e})();function E(e){(0,i.abytes)(e);const t=e.length;if(![16,24,32].includes(t))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+t);const{sbox2:n}=m,r=[];(0,i.isAligned32)(e)||r.push(e=(0,i.copyBytes)(e));const o=(0,i.u32)(e),s=o.length,a=e=>w(n,e,e,e,e),c=new Uint32Array(t+28);c.set(o);for(let e=s;e<c.length;e++){let t=c[e-1];e%s===0?t=a(d(t))^_[e/s-1]:s>6&&e%s===4&&(t=a(t)),c[e]=c[e-s]^t}return(0,i.clean)(...r),c}function b(e){const t=E(e),n=t.slice(),r=t.length,{sbox2:o}=m,{T0:s,T1:a,T2:c,T3:u}=g;for(let e=0;e<r;e+=4)for(let i=0;i<4;i++)n[e+i]=t[r-e-4+i];(0,i.clean)(t);for(let e=4;e<r-4;e++){const t=n[e],r=w(o,t,t,t,t);n[e]=s[255&r]^a[r>>>8&255]^c[r>>>16&255]^u[r>>>24]}return n}function y(e,t,n,r,i,o){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|o>>>24&255]}function w(e,t,n,r,i){return e[255&t|65280&n]|e[r>>>16&255|i>>>16&65280]<<16}function S(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=m;let c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];const u=e.length/4-2;for(let o=0;o<u;o++){const o=e[c++]^y(s,a,t,n,r,i),u=e[c++]^y(s,a,n,r,i,t),l=e[c++]^y(s,a,r,i,t,n),d=e[c++]^y(s,a,i,t,n,r);t=o,n=u,r=l,i=d}return{s0:e[c++]^w(o,t,n,r,i),s1:e[c++]^w(o,n,r,i,t),s2:e[c++]^w(o,r,i,t,n),s3:e[c++]^w(o,i,t,n,r)}}function T(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=g;let c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];const u=e.length/4-2;for(let o=0;o<u;o++){const o=e[c++]^y(s,a,t,i,r,n),u=e[c++]^y(s,a,n,t,i,r),l=e[c++]^y(s,a,r,n,t,i),d=e[c++]^y(s,a,i,r,n,t);t=o,n=u,r=l,i=d}return{s0:e[c++]^w(o,t,i,r,n),s1:e[c++]^w(o,n,t,i,r),s2:e[c++]^w(o,r,n,t,i),s3:e[c++]^w(o,i,r,n,t)}}function R(e,t,n,r){(0,i.abytes)(t,o),(0,i.abytes)(n);const s=n.length;r=(0,i.getOutput)(s,r),(0,i.complexOverlapBytes)(n,r);const a=t,c=(0,i.u32)(a);let{s0:u,s1:l,s2:d,s3:f}=S(e,c[0],c[1],c[2],c[3]);const h=(0,i.u32)(n),p=(0,i.u32)(r);for(let t=0;t+4<=h.length;t+=4){p[t+0]=h[t+0]^u,p[t+1]=h[t+1]^l,p[t+2]=h[t+2]^d,p[t+3]=h[t+3]^f;let n=1;for(let e=a.length-1;e>=0;e--)n=n+(255&a[e])|0,a[e]=255&n,n>>>=8;({s0:u,s1:l,s2:d,s3:f}=S(e,c[0],c[1],c[2],c[3]))}const m=o*Math.floor(h.length/4);if(m<s){const e=new Uint32Array([u,l,d,f]),t=(0,i.u8)(e);for(let e=m,i=0;e<s;e++,i++)r[e]=n[e]^t[i];(0,i.clean)(e)}return r}function A(e,t,n,r,s){(0,i.abytes)(n,o),(0,i.abytes)(r),s=(0,i.getOutput)(r.length,s);const a=n,c=(0,i.u32)(a),u=(0,i.createView)(a),l=(0,i.u32)(r),d=(0,i.u32)(s),f=t?0:12,h=r.length;let p=u.getUint32(f,t),{s0:m,s1:g,s2:_,s3:E}=S(e,c[0],c[1],c[2],c[3]);for(let n=0;n+4<=l.length;n+=4)d[n+0]=l[n+0]^m,d[n+1]=l[n+1]^g,d[n+2]=l[n+2]^_,d[n+3]=l[n+3]^E,p=p+1>>>0,u.setUint32(f,p,t),({s0:m,s1:g,s2:_,s3:E}=S(e,c[0],c[1],c[2],c[3]));const b=o*Math.floor(l.length/4);if(b<h){const e=new Uint32Array([m,g,_,E]),t=(0,i.u8)(e);for(let e=b,n=0;e<h;e++,n++)s[e]=r[e]^t[n];(0,i.clean)(e)}return s}function v(e){if((0,i.abytes)(e),e.length%o!==0)throw new Error("aes-(cbc/ecb).decrypt ciphertext should consist of blocks with size 16")}function O(e,t,n){(0,i.abytes)(e);let r=e.length;const s=r%o;if(!t&&0!==s)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,i.isAligned32)(e)||(e=(0,i.copyBytes)(e));const a=(0,i.u32)(e);if(t){let e=o-s;e||(e=o),r+=e}n=(0,i.getOutput)(r,n),(0,i.complexOverlapBytes)(e,n);return{b:a,o:(0,i.u32)(n),out:n}}function I(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding");const i=e.subarray(0,-r);for(let t=0;t<r;t++)if(e[n-t-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function N(e){const t=new Uint8Array(16),n=(0,i.u32)(t);t.set(e);const r=o-e.length;for(let e=o-r;e<o;e++)t[e]=r;return n}function C(e,t,n,r,o){const s=o?o.length:0,a=e.create(n,r.length+s);o&&a.update(o);const c=(0,i.u64Lengths)(8*r.length,8*s,t);a.update(r),a.update(c);const u=a.digest();return(0,i.clean)(c),u}n.ctr=(0,i.wrapCipher)({blockSize:16,nonceLength:16},function(e,t){function n(n,r){if((0,i.abytes)(n),r!==undefined&&((0,i.abytes)(r),!(0,i.isAligned32)(r)))throw new Error("unaligned destination");const o=E(e),s=(0,i.copyBytes)(t),a=[o,s];(0,i.isAligned32)(n)||a.push(n=(0,i.copyBytes)(n));const c=R(o,s,n,r);return(0,i.clean)(...a),c}return{encrypt:(e,t)=>n(e,t),decrypt:(e,t)=>n(e,t)}}),n.ecb=(0,i.wrapCipher)({blockSize:16},function(e,t={}){const n=!t.disablePadding;return{encrypt(t,r){const{b:o,o:s,out:a}=O(t,n,r),c=E(e);let u=0;for(;u+4<=o.length;){const{s0:e,s1:t,s2:n,s3:r}=S(c,o[u+0],o[u+1],o[u+2],o[u+3]);s[u++]=e,s[u++]=t,s[u++]=n,s[u++]=r}if(n){const e=N(t.subarray(4*u)),{s0:n,s1:r,s2:i,s3:o}=S(c,e[0],e[1],e[2],e[3]);s[u++]=n,s[u++]=r,s[u++]=i,s[u++]=o}return(0,i.clean)(c),a},decrypt(t,r){v(t);const o=b(e);r=(0,i.getOutput)(t.length,r);const s=[o];(0,i.isAligned32)(t)||s.push(t=(0,i.copyBytes)(t)),(0,i.complexOverlapBytes)(t,r);const a=(0,i.u32)(t),c=(0,i.u32)(r);for(let e=0;e+4<=a.length;){const{s0:t,s1:n,s2:r,s3:i}=T(o,a[e+0],a[e+1],a[e+2],a[e+3]);c[e++]=t,c[e++]=n,c[e++]=r,c[e++]=i}return(0,i.clean)(...s),I(r,n)}}}),n.cbc=(0,i.wrapCipher)({blockSize:16,nonceLength:16},function(e,t,n={}){const r=!n.disablePadding;return{encrypt(n,o){const s=E(e),{b:a,o:c,out:u}=O(n,r,o);let l=t;const d=[s];(0,i.isAligned32)(l)||d.push(l=(0,i.copyBytes)(l));const f=(0,i.u32)(l);let h=f[0],p=f[1],m=f[2],g=f[3],_=0;for(;_+4<=a.length;)h^=a[_+0],p^=a[_+1],m^=a[_+2],g^=a[_+3],({s0:h,s1:p,s2:m,s3:g}=S(s,h,p,m,g)),c[_++]=h,c[_++]=p,c[_++]=m,c[_++]=g;if(r){const e=N(n.subarray(4*_));h^=e[0],p^=e[1],m^=e[2],g^=e[3],({s0:h,s1:p,s2:m,s3:g}=S(s,h,p,m,g)),c[_++]=h,c[_++]=p,c[_++]=m,c[_++]=g}return(0,i.clean)(...d),u},decrypt(n,o){v(n);const s=b(e);let a=t;const c=[s];(0,i.isAligned32)(a)||c.push(a=(0,i.copyBytes)(a));const u=(0,i.u32)(a);o=(0,i.getOutput)(n.length,o),(0,i.isAligned32)(n)||c.push(n=(0,i.copyBytes)(n)),(0,i.complexOverlapBytes)(n,o);const l=(0,i.u32)(n),d=(0,i.u32)(o);let f=u[0],h=u[1],p=u[2],m=u[3];for(let e=0;e+4<=l.length;){const t=f,n=h,r=p,i=m;f=l[e+0],h=l[e+1],p=l[e+2],m=l[e+3];const{s0:o,s1:a,s2:c,s3:u}=T(s,f,h,p,m);d[e++]=o^t,d[e++]=a^n,d[e++]=c^r,d[e++]=u^i}return(0,i.clean)(...c),I(o,r)}}}),n.cfb=(0,i.wrapCipher)({blockSize:16,nonceLength:16},function(e,t){function n(n,r,s){(0,i.abytes)(n);const a=n.length;if(s=(0,i.getOutput)(a,s),(0,i.overlapBytes)(n,s))throw new Error("overlapping src and dst not supported.");const c=E(e);let u=t;const l=[c];(0,i.isAligned32)(u)||l.push(u=(0,i.copyBytes)(u)),(0,i.isAligned32)(n)||l.push(n=(0,i.copyBytes)(n));const d=(0,i.u32)(n),f=(0,i.u32)(s),h=r?f:d,p=(0,i.u32)(u);let m=p[0],g=p[1],_=p[2],b=p[3];for(let e=0;e+4<=d.length;){const{s0:t,s1:n,s2:r,s3:i}=S(c,m,g,_,b);f[e+0]=d[e+0]^t,f[e+1]=d[e+1]^n,f[e+2]=d[e+2]^r,f[e+3]=d[e+3]^i,m=h[e++],g=h[e++],_=h[e++],b=h[e++]}const y=o*Math.floor(d.length/4);if(y<a){({s0:m,s1:g,s2:_,s3:b}=S(c,m,g,_,b));const e=(0,i.u8)(new Uint32Array([m,g,_,b]));for(let t=y,r=0;t<a;t++,r++)s[t]=n[t]^e[r];(0,i.clean)(e)}return(0,i.clean)(...l),s}return{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}}),n.gcm=(0,i.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(e,t,n){if(t.length<8)throw new Error("aes/gcm: invalid nonce length");function o(e,t,i){const o=C(r.ghash,!1,e,i,n);for(let e=0;e<t.length;e++)o[e]^=t[e];return o}function a(){const n=E(e),o=s.slice(),a=s.slice();if(A(n,!1,a,a,o),12===t.length)a.set(t);else{const e=s.slice(),n=(0,i.createView)(e);(0,i.setBigUint64)(n,8,BigInt(8*t.length),!1);const c=r.ghash.create(o).update(t).update(e);c.digestInto(a),c.destroy()}return{xk:n,authKey:o,counter:a,tagMask:A(n,!1,a,s)}}return{encrypt(e){const{xk:t,authKey:n,counter:r,tagMask:s}=a(),c=new Uint8Array(e.length+16),u=[t,n,r,s];(0,i.isAligned32)(e)||u.push(e=(0,i.copyBytes)(e)),A(t,!1,r,e,c.subarray(0,e.length));const l=o(n,s,c.subarray(0,c.length-16));return u.push(l),c.set(l,e.length),(0,i.clean)(...u),c},decrypt(e){const{xk:t,authKey:n,counter:r,tagMask:s}=a(),c=[t,n,s,r];(0,i.isAligned32)(e)||c.push(e=(0,i.copyBytes)(e));const u=e.subarray(0,-16),l=e.subarray(-16),d=o(n,s,u);if(c.push(d),!(0,i.equalBytes)(d,l))throw new Error("aes/gcm: invalid ghash tag");const f=A(t,!1,r,u);return(0,i.clean)(...c),f}}});const P=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n){throw new Error(e+": expected value in range "+("["+t+".."+n+"]")+", got "+r)}};function x(e){return e instanceof Uint32Array||ArrayBuffer.isView(e)&&"Uint32Array"===e.constructor.name}function k(e,t){if((0,i.abytes)(t,16),!x(e))throw new Error("_encryptBlock accepts result of expandKeyLE");const n=(0,i.u32)(t);let{s0:r,s1:o,s2:s,s3:a}=S(e,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=o,n[2]=s,n[3]=a,t}function L(e,t){if((0,i.abytes)(t,16),!x(e))throw new Error("_decryptBlock accepts result of expandKeyLE");const n=(0,i.u32)(t);let{s0:r,s1:o,s2:s,s3:a}=T(e,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=o,n[2]=s,n[3]=a,t}n.gcmsiv=(0,i.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(e,t,n){const o=P("AAD",0,2**36),s=P("plaintext",0,2**36),a=P("nonce",12,12),c=P("ciphertext",16,2**36+16);function u(){const n=E(e),r=new Uint8Array(e.length),o=new Uint8Array(16),s=[n,r];let a=t;(0,i.isAligned32)(a)||s.push(a=(0,i.copyBytes)(a));const c=(0,i.u32)(a);let u=0,l=c[0],d=c[1],f=c[2],h=0;for(const e of[o,r].map(i.u32)){const t=(0,i.u32)(e);for(let e=0;e<t.length;e+=2){const{s0:r,s1:i}=S(n,u,l,d,f);t[e+0]=r,t[e+1]=i,u=++h}}const p={authKey:o,encKey:E(r)};return(0,i.clean)(...s),p}function l(e,o,s){const a=C(r.polyval,!0,o,s,n);for(let e=0;e<12;e++)a[e]^=t[e];a[15]&=127;const c=(0,i.u32)(a);let u=c[0],l=c[1],d=c[2],f=c[3];return({s0:u,s1:l,s2:d,s3:f}=S(e,u,l,d,f)),c[0]=u,c[1]=l,c[2]=d,c[3]=f,a}function d(e,t,n){let r=(0,i.copyBytes)(t);r[15]|=128;const o=A(e,!0,r,n);return(0,i.clean)(r),o}return(0,i.abytes)(e,16,24,32),a(t.length),n!==undefined&&o(n.length),{encrypt(e){s(e.length);const{encKey:t,authKey:n}=u(),r=l(t,n,e),o=[t,n,r];(0,i.isAligned32)(e)||o.push(e=(0,i.copyBytes)(e));const a=new Uint8Array(e.length+16);return a.set(r,e.length),a.set(d(t,r,e)),(0,i.clean)(...o),a},decrypt(e){c(e.length);const t=e.subarray(-16),{encKey:n,authKey:r}=u(),o=[n,r];(0,i.isAligned32)(e)||o.push(e=(0,i.copyBytes)(e));const s=d(n,t,e.subarray(0,-16)),a=l(n,r,s);if(o.push(a),!(0,i.equalBytes)(t,a))throw(0,i.clean)(...o),new Error("invalid polyval tag");return(0,i.clean)(...o),s}}}),n.siv=n.gcmsiv;const B={encrypt(e,t){if(t.length>=2**32)throw new Error("plaintext should be less than 4gb");const n=E(e);if(16===t.length)k(n,t);else{const e=(0,i.u32)(t);let r=e[0],o=e[1];for(let t=0,i=1;t<6;t++)for(let t=2;t<e.length;t+=2,i++){const{s0:s,s1:a,s2:c,s3:u}=S(n,r,o,e[t],e[t+1]);r=s,o=a^h(i),e[t]=c,e[t+1]=u}e[0]=r,e[1]=o}n.fill(0)},decrypt(e,t){if(t.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const n=b(e),r=t.length/8-1;if(1===r)L(n,t);else{const e=(0,i.u32)(t);let o=e[0],s=e[1];for(let t=0,i=6*r;t<6;t++)for(let t=2*r;t>=1;t-=2,i--){s^=h(i);const{s0:r,s1:a,s2:c,s3:u}=T(n,o,s,e[t],e[t+1]);o=r,s=a,e[t]=c,e[t+1]=u}e[0]=o,e[1]=s}n.fill(0)}},D=new Uint8Array(8).fill(166);n.aeskw=(0,i.wrapCipher)({blockSize:8},e=>({encrypt(t){if(!t.length||t.length%8!=0)throw new Error("invalid plaintext length");if(8===t.length)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const n=(0,i.concatBytes)(D,t);return B.encrypt(e,n),n},decrypt(t){if(t.length%8!=0||t.length<24)throw new Error("invalid ciphertext length");const n=(0,i.copyBytes)(t);if(B.decrypt(e,n),!(0,i.equalBytes)(n.subarray(0,8),D))throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}}));const M=2790873510;n.aeskwp=(0,i.wrapCipher)({blockSize:8},e=>({encrypt(t){if(!t.length)throw new Error("invalid plaintext length");const n=8*Math.ceil(t.length/8),r=new Uint8Array(8+n);r.set(t,8);const o=(0,i.u32)(r);return o[0]=M,o[1]=h(t.length),B.encrypt(e,r),r},decrypt(t){if(t.length<16)throw new Error("invalid ciphertext length");const n=(0,i.copyBytes)(t),r=(0,i.u32)(n);B.decrypt(e,n);const o=h(r[1])>>>0,s=8*Math.ceil(o/8);if(r[0]!==M||n.length-8!==s)throw new Error("integrity check failed");for(let e=o;e<s;e++)if(0!==n[8+e])throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8,8+o)}})),n.unsafe={expandKeyLE:E,expandKeyDecLE:b,encrypt:S,decrypt:T,encryptBlock:k,decryptBlock:L,ctrCounter:R,ctr32:A}}}},{package:"@noble/ciphers",file:"node_modules/@noble/ciphers/aes.js"}],[2390,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=void 0,n.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@noble/ciphers",file:"node_modules/@noble/ciphers/crypto.js"}],[2391,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function o(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function s(e,...t){if(!r(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}
/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.wrapCipher=n.Hash=n.nextTick=n.isLE=void 0,n.isBytes=r,n.abool=i,n.anumber=o,n.abytes=s,n.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");o(e.outputLen),o(e.blockLen)},n.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},n.aoutput=function(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)},n.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},n.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},n.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},n.createView=a,n.bytesToHex=l,n.hexToBytes=h,n.hexToNumber=p,n.bytesToNumberBE=function(e){return p(l(e))},n.numberToBytesBE=function(e,t){return h(e.toString(16).padStart(2*t,"0"))},n.utf8ToBytes=m,n.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},n.toBytes=function(e){if("string"==typeof e)e=m(e);else{if(!r(e))throw new Error("Uint8Array expected, got "+typeof e);e=b(e)}return e},n.overlapBytes=g,n.complexOverlapBytes=function(e,t){if(g(e,t)&&e.byteOffset<t.byteOffset)throw new Error("complex overlap of input and output is not supported")},n.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];s(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n},n.checkOpts=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)},n.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},n.getOutput=function(e,t,n=!0){if(t===undefined)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!E(t))throw new Error("invalid output, must be aligned");return t},n.setBigUint64=_,n.u64Lengths=function(e,t,n){i(n);const r=new Uint8Array(16),o=a(r);return _(o,0,BigInt(t),n),_(o,8,BigInt(e),n),r},n.isAligned32=E,n.copyBytes=b,n.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];const c=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(e){if(s(e),c)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=u[e[n]];return t}const d={_0:48,_9:57,A:65,F:70,a:97,f:102};function f(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function h(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(c)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=f(e.charCodeAt(i)),o=f(e.charCodeAt(i+1));if(n===undefined||o===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+o}return r}function p(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x"+e)}function m(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function g(e,t){return e.buffer===t.buffer&&e.byteOffset<t.byteOffset+t.byteLength&&t.byteOffset<e.byteOffset+e.byteLength}n.nextTick=async()=>{};n.Hash=class{};function _(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}function E(e){return e.byteOffset%4==0}function b(e){return Uint8Array.from(e)}n.wrapCipher=(e,t)=>{function r(r,...i){if(s(r),!n.isLE)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==undefined){const t=i[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?s(t):s(t,e.nonceLength)}const o=e.tagLength;o&&i[1]!==undefined&&s(i[1]);const a=t(r,...i),c=(e,t)=>{if(t!==undefined){if(2!==e)throw new Error("cipher output not supported");s(t)}};let u=!1;return{encrypt(e,t){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,s(e),c(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(s(e),o&&e.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(r,e),r}}}},{package:"@noble/ciphers",file:"node_modules/@noble/ciphers/utils.js"}],[2392,{"./utils.js":2391,"@noble/ciphers/crypto":2390},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.gcm=n.ctr=n.cbc=n.utils=void 0,n.randomBytes=o,n.getWebcryptoSubtle=s,n.managedNonce=function(e){const{nonceLength:t}=e;return(0,i.anumber)(t),(n,...r)=>({encrypt(s,...a){const c=o(t),u=e(n,c,...r).encrypt(s,...a),l=(0,i.concatBytes)(c,u);return u.fill(0),l},decrypt(i,...o){const s=i.subarray(0,t),a=i.subarray(t);return e(n,s,...r).decrypt(a,...o)}})};const r=e("@noble/ciphers/crypto"),i=e("./utils.js");function o(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return Uint8Array.from(r.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function s(){if(r.crypto&&"object"==typeof r.crypto.subtle&&null!=r.crypto.subtle)return r.crypto.subtle;throw new Error("crypto.subtle must be defined")}n.utils={async encrypt(e,t,n,r){const i=s(),o=await i.importKey("raw",e,t,!0,["encrypt"]),a=await i.encrypt(n,o,r);return new Uint8Array(a)},async decrypt(e,t,n,r){const i=s(),o=await i.importKey("raw",e,t,!0,["decrypt"]),a=await i.decrypt(n,o,r);return new Uint8Array(a)}};const a="AES-CBC",c="AES-CTR",u="AES-GCM";function l(e){return(t,r,o)=>{(0,i.abytes)(t),(0,i.abytes)(r);const s={name:e,length:8*t.length},l=function(e,t,n){if(e===a)return{name:a,iv:t};if(e===c)return{name:c,counter:t,length:64};if(e===u)return n?{name:u,iv:t,additionalData:n}:{name:u,iv:t};throw new Error("unknown aes block mode")}(e,r,o);let d=!1;return{encrypt(e){if((0,i.abytes)(e),d)throw new Error("Cannot encrypt() twice with same key / nonce");return d=!0,n.utils.encrypt(t,s,l,e)},decrypt:e=>((0,i.abytes)(e),n.utils.decrypt(t,s,l,e))}}}n.cbc=l(a),n.ctr=l(c),n.gcm=(()=>l(u))()}}},{package:"@noble/ciphers",file:"node_modules/@noble/ciphers/webcrypto.js"}],[2393,{"./abstract/weierstrass.js":2400},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHash=function(e){return{hash:e}},n.createCurve=function(e,t){const n=t=>(0,r.weierstrass)({...e,hash:t});return{...n(t),create:n}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("./abstract/weierstrass.js")}}},{package:"@noble/curves",file:"node_modules/@noble/curves/_shortw_utils.js"}],[2394,{"../utils.js":2403,"./modular.js":2397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wNAF=void 0,n.negateCt=a,n.normalizeZ=function(e,t){const n=(0,i.FpInvertBatch)(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))},n.mulEndoUnsafe=function(e,t,n,r){let i=t,a=e.ZERO,c=e.ZERO;for(;n>o||r>o;)n&s&&(a=a.add(i)),r&s&&(c=c.add(i)),i=i.double(),n>>=s,r>>=s;return{p1:a,p2:c}},n.pippenger=function(e,t,n,i){d(n,e),f(i,t);const o=n.length,s=i.length;if(o!==s)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,c=(0,r.bitLen)(BigInt(o));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const l=(0,r.bitMask)(u),h=new Array(Number(l)+1).fill(a),p=Math.floor((t.BITS-1)/u)*u;let m=a;for(let e=p;e>=0;e-=u){h.fill(a);for(let t=0;t<s;t++){const r=i[t],o=Number(r>>BigInt(e)&l);h[o]=h[o].add(n[t])}let t=a;for(let e=h.length-1,n=a;e>0;e--)n=n.add(h[e]),t=t.add(n);if(m=m.add(t),0!==e)for(let e=0;e<u;e++)m=m.double()}return m},n.precomputeMSMUnsafe=function(e,t,n,i){c(i,t.BITS),d(n,e);const o=e.ZERO,s=2**i-1,a=Math.ceil(t.BITS/i),u=(0,r.bitMask)(i),l=n.map(e=>{const t=[];for(let n=0,r=e;n<s;n++)t.push(r),r=r.add(e);return t});return e=>{if(f(e,t),e.length>n.length)throw new Error("array of scalars must be smaller than array of points");let r=o;for(let t=0;t<a;t++){if(r!==o)for(let e=0;e<i;e++)r=r.double();const n=BigInt(a*i-(t+1)*i);for(let t=0;t<e.length;t++){const i=e[t],o=Number(i>>n&u);o&&(r=r.add(l[t][o-1]))}}return r}},n.validateBasic=function(e){return(0,i.validateField)(e.Fp),(0,r.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,i.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})},n._createCurveFields=function(e,t,n={}){if(!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const n=t[e];if(!("bigint"==typeof n&&n>o))throw new Error(`CURVE.${e} must be positive bigint`)}const r=_(t.p,n.Fp),i=_(t.n,n.Fn),s=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of s)if(!r.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("../utils.js"),i=e("./modular.js"),o=BigInt(0),s=BigInt(1);function a(e,t){const n=t.negate();return e?n:t}function c(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function u(e,t){c(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:(0,r.bitMask)(e),maxNumber:n,shiftBy:BigInt(e)}}function l(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:a}=n;let c=Number(e&i),u=e>>a;c>r&&(c-=o,u+=s);const l=t*r;return{nextN:u,offset:l+Math.abs(c)-1,isZero:0===c,isNeg:c<0,isNegF:t%2!=0,offsetF:l}}function d(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}function f(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}const h=new WeakMap,p=new WeakMap;function m(e){return p.get(e)||1}function g(e){if(e!==o)throw new Error("invalid wNAF")}function _(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,i.validateField)(t),t}return(0,i.Field)(e)}n.wNAF=class{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>o;)t&s&&(n=n.add(r)),r=r.double(),t>>=s;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=u(t,this.bits),i=[];let o=e,s=o;for(let e=0;e<n;e++){s=o,i.push(s);for(let e=1;e<r;e++)s=s.add(o),i.push(s);o=s.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const o=u(e,this.bits);for(let e=0;e<o.windows;e++){const{nextN:s,offset:c,isZero:u,isNeg:d,isNegF:f,offsetF:h}=l(n,e,o);n=s,u?i=i.add(a(f,t[h])):r=r.add(a(d,t[c]))}return g(n),{p:r,f:i}}wNAFUnsafe(e,t,n,r=this.ZERO){const i=u(e,this.bits);for(let e=0;e<i.windows&&n!==o;e++){const{nextN:o,offset:s,isZero:a,isNeg:c}=l(n,e,i);if(n=o,!a){const e=t[s];r=r.add(c?e.negate():e)}}return g(n),r}getPrecomputes(e,t,n){let r=h.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),h.set(t,r))),r}cached(e,t,n){const r=m(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=m(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){c(t,this.bits),p.set(e,t),h.delete(e)}hasCache(e){return 1!==m(e)}}}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/curve.js"}],[2395,{"../utils.js":2403,"./curve.js":2394,"./modular.js":2397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PrimeEdwardsPoint=void 0,n.edwards=l,n.eddsa=d,n.twistedEdwards=function(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:i}=function(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=(0,o.Field)(t.n,e.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:e.uvRatio},s={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,hash:e.hash,eddsaOpts:s}}(e),s=d(l(t,n),r,i);return function(e,t){const n=Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e});return n}(e,s)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("../utils.js"),i=e("./curve.js"),o=e("./modular.js"),s=BigInt(0),a=BigInt(1),c=BigInt(2),u=BigInt(8);function l(e,t={}){const{Fp:n,Fn:o}=(0,i._createCurveFields)("edwards",e,t),{h:l,n:d}=e;(0,r._validateObject)(t,{},{uvRatio:"function"});const f=c<<BigInt(8*o.BYTES)-a,h=e=>n.create(e),p=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(n.div(e,t))}}catch(e){return{isValid:!1,value:s}}});if(!function(e,t,n,r){const i=e.sqr(n),o=e.sqr(r),s=e.add(e.mul(t.a,i),o),a=e.add(e.ONE,e.mul(t.d,e.mul(i,o)));return e.eql(s,a)}(n,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function m(e,t,n=!1){const i=n?a:s;return(0,r.aInRange)("coordinate "+e,t,i,f),t}function g(e){if(!(e instanceof b))throw new Error("ExtendedPoint expected")}const _=(0,r.memoized)((e,t)=>{const{X:r,Y:i,Z:o}=e,c=e.is0();null==t&&(t=c?u:n.inv(o));const l=h(r*t),d=h(i*t),f=n.mul(o,t);if(c)return{x:s,y:a};if(f!==a)throw new Error("invZ was invalid");return{x:l,y:d}}),E=(0,r.memoized)(t=>{const{a:n,d:r}=e;if(t.is0())throw new Error("bad point: ZERO");const{X:i,Y:o,Z:s,T:a}=t,c=h(i*i),u=h(o*o),l=h(s*s),d=h(l*l),f=h(c*n);if(h(l*h(f+u))!==h(d+h(r*h(c*u))))throw new Error("bad point: equation left != right (1)");if(h(i*o)!==h(s*a))throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(e,t,n,r){this.X=m("x",e),this.Y=m("y",t),this.Z=m("z",n,!0),this.T=m("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return(0,i.normalizeZ)(b,e)}static msm(e,t){return(0,i.pippenger)(b,o,e,t)}_setWindowSize(e){this.precompute(e)}static fromAffine(e){if(e instanceof b)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return m("x",t),m("y",n),new b(t,n,a,h(t*n))}precompute(e=8,t=!0){return y.createCache(this,e),t||this.multiply(c),this}assertValidity(){E(this)}equals(e){g(e);const{X:t,Y:n,Z:r}=this,{X:i,Y:o,Z:s}=e,a=h(t*s),c=h(i*r),u=h(n*s),l=h(o*r);return a===c&&u===l}is0(){return this.equals(b.ZERO)}negate(){return new b(h(-this.X),this.Y,this.Z,h(-this.T))}double(){const{a:t}=e,{X:n,Y:r,Z:i}=this,o=h(n*n),s=h(r*r),a=h(c*h(i*i)),u=h(t*o),l=n+r,d=h(h(l*l)-o-s),f=u+s,p=f-a,m=u-s,g=h(d*p),_=h(f*m),E=h(d*m),y=h(p*f);return new b(g,_,y,E)}add(t){g(t);const{a:n,d:r}=e,{X:i,Y:o,Z:s,T:a}=this,{X:c,Y:u,Z:l,T:d}=t,f=h(i*c),p=h(o*u),m=h(a*r*d),_=h(s*l),E=h((i+o)*(c+u)-f-p),y=_-m,w=_+m,S=h(p-n*f),T=h(E*y),R=h(w*S),A=h(E*S),v=h(y*w);return new b(T,R,v,A)}subtract(e){return this.add(e.negate())}multiply(e){const t=e;(0,r.aInRange)("scalar",t,a,d);const{p:n,f:o}=y.cached(this,t,e=>(0,i.normalizeZ)(b,e));return(0,i.normalizeZ)(b,[n,o])[0]}multiplyUnsafe(e,t=b.ZERO){const n=e;return(0,r.aInRange)("scalar",n,s,d),n===s?b.ZERO:this.is0()||n===a?this:y.unsafe(this,n,e=>(0,i.normalizeZ)(b,e),t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return y.unsafe(this,d).is0()}toAffine(e){return _(this,e)}clearCofactor(){return l===a?this:this.multiplyUnsafe(l)}static fromBytes(e,t=!1){return(0,r.abytes)(e),b.fromHex(e,t)}static fromHex(t,i=!1){const{d:o,a:c}=e,u=n.BYTES;t=(0,r.ensureBytes)("pointHex",t,u),(0,r.abool)("zip215",i);const l=t.slice(),d=t[u-1];l[u-1]=-129&d;const m=(0,r.bytesToNumberLE)(l),g=i?f:n.ORDER;(0,r.aInRange)("pointHex.y",m,s,g);const _=h(m*m),E=h(_-a),y=h(o*_-c);let{isValid:w,value:S}=p(E,y);if(!w)throw new Error("Point.fromHex: invalid y coordinate");const T=(S&a)===a,R=!!(128&d);if(!i&&S===s&&R)throw new Error("Point.fromHex: x=0 and x_0=1");return R!==T&&(S=h(-S)),b.fromAffine({x:S,y:m})}toBytes(){const{x:e,y:t}=this.toAffine(),i=(0,r.numberToBytesLE)(t,n.BYTES);return i[i.length-1]|=e&a?128:0,i}toRawBytes(){return this.toBytes()}toHex(){return(0,r.bytesToHex)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}b.BASE=new b(e.Gx,e.Gy,a,h(e.Gx*e.Gy)),b.ZERO=new b(s,a,a,s),b.Fp=n,b.Fn=o;const y=new i.wNAF(b,8*o.BYTES);return b}function d(e,t,n){if("function"!=typeof t)throw new Error('"hash" function param is required');(0,r._validateObject)(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:o,Fp:c,Fn:u}=e,l=u.ORDER,d=n.randomBytes||r.randomBytes,f=n.adjustScalarBytes||(e=>e),h=n.domain||((e,t,n)=>{if((0,r.abool)("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function p(e){return u.create(e)}function m(e){return p((0,r.bytesToNumberLE)(e))}function g(e){const{head:n,prefix:i,scalar:s}=function(e){const n=c.BYTES;e=(0,r.ensureBytes)("private key",e,n);const i=(0,r.ensureBytes)("hashed private key",t(e),2*n),o=f(i.slice(0,n));return{head:o,prefix:i.slice(n,2*n),scalar:m(o)}}(e),a=o.multiply(s),u=a.toBytes();return{head:n,prefix:i,scalar:s,point:a,pointBytes:u}}function _(e){return g(e).pointBytes}function E(e=Uint8Array.of(),...n){const o=(0,r.concatBytes)(...n);return m(t(h(o,(0,r.ensureBytes)("context",e),!!i)))}const b={zip215:!0};o.precompute(8);const y=c.BYTES,w={secret:y,public:y,signature:2*y,seed:y};function S(e=d(w.seed)){return e}const T={getExtendedPublicKey:g,randomSecretKey:S,isValidSecretKey:function(e){try{return!!u.fromBytes(e,!1)}catch(e){return!1}},isValidPublicKey:function(t,n){try{return!!e.fromBytes(t,n)}catch(e){return!1}},randomPrivateKey:S,toMontgomery(t){const{y:n}=e.fromBytes(t),r=32===y;if(!r&&57!==y)throw new Error("only defined for 25519 and 448");const i=r?c.div(a+n,a-n):c.div(n-a,n+a);return c.toBytes(i)},toMontgomeryPriv(e){(0,r.abytes)(e,y);const n=t(e.subarray(0,y));return f(n).subarray(0,y)},precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({keygen:function(e){const t=T.randomSecretKey(e);return{secretKey:t,publicKey:_(t)}},getPublicKey:_,sign:function(e,t,n={}){e=(0,r.ensureBytes)("message",e),i&&(e=i(e));const{prefix:a,scalar:u,pointBytes:d}=g(t),f=E(n.context,a,e),h=o.multiply(f).toBytes(),m=p(f+E(n.context,h,d,e)*u);(0,r.aInRange)("signature.s",m,s,l);const _=c.BYTES,b=(0,r.concatBytes)(h,(0,r.numberToBytesLE)(m,_));return(0,r.ensureBytes)("result",b,2*_)},verify:function(t,n,s,a=b){const{context:u,zip215:l}=a,d=c.BYTES;t=(0,r.ensureBytes)("signature",t,2*d),n=(0,r.ensureBytes)("message",n),s=(0,r.ensureBytes)("publicKey",s,d),l!==undefined&&(0,r.abool)("zip215",l),i&&(n=i(n));const f=(0,r.bytesToNumberLE)(t.slice(d,2*d));let h,p,m;try{h=e.fromHex(s,l),p=e.fromHex(t.slice(0,d),l),m=o.multiplyUnsafe(f)}catch(e){return!1}if(!l&&h.isSmallOrder())return!1;const g=E(u,p.toBytes(),h.toBytes(),n);return p.add(h.multiplyUnsafe(g)).subtract(m).clearCofactor().is0()},utils:T,Point:e,info:{type:"edwards",lengths:w}})}n.PrimeEdwardsPoint=class{constructor(e){this.ep=e}static fromBytes(e){throw new Error("fromBytes must be implemented by subclass")}static fromHex(e){throw new Error("fromHex must be implemented by subclass")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toRawBytes(){return this.toBytes()}toHex(){return(0,r.bytesToHex)(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}}}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/edwards.js"}],[2396,{"../utils.js":2403,"./modular.js":2397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n._DST_scalar=void 0,n.expand_message_xmd=l,n.expand_message_xof=d,n.hash_to_field=f,n.isogenyMap=function(e,t){const n=t.map(e=>Array.from(e).reverse());return(t,r)=>{const[o,s,a,c]=n.map(n=>n.reduce((n,r)=>e.add(e.mul(n,t),r))),[u,l]=(0,i.FpInvertBatch)(e,[s,c],!0);return t=e.mul(o,u),r=e.mul(r,e.mul(a,l)),{x:t,y:r}}},n.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");function i(n){return e.fromAffine(t(n))}function o(t){const n=t.clearCofactor();return n.equals(e.ZERO)?e.ZERO:(n.assertValidity(),n)}return{defaults:r,hashToCurve(e,t){const n=f(e,2,Object.assign({},r,t)),s=i(n[0]),a=i(n[1]);return o(s.add(a))},encodeToCurve(e,t){const n=r.encodeDST?{DST:r.encodeDST}:{};return o(i(f(e,1,Object.assign({},r,n,t))[0]))},mapToCurve(e){if(!Array.isArray(e))throw new Error("expected array of bigints");for(const t of e)if("bigint"!=typeof t)throw new Error("expected array of bigints");return o(i(e))},hashToScalar(t,i){const o=e.Fn.ORDER;return f(t,1,Object.assign({},r,{p:o,m:1,DST:n._DST_scalar},i))[0][0]}}};const r=e("../utils.js"),i=e("./modular.js"),o=r.bytesToNumberBE;function s(e,t){if(c(e),c(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function a(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e){if(!(0,r.isBytes)(e)&&"string"!=typeof e)throw new Error("DST must be Uint8Array or string");return"string"==typeof e?(0,r.utf8ToBytes)(e):e}function l(e,t,n,i){(0,r.abytes)(e),c(n),(t=u(t)).length>255&&(t=i((0,r.concatBytes)((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:l}=i,d=Math.ceil(n/o);if(n>65535||d>255)throw new Error("expand_message_xmd: invalid lenInBytes");const f=(0,r.concatBytes)(t,s(t.length,1)),h=s(0,l),p=s(n,2),m=new Array(d),g=i((0,r.concatBytes)(h,e,p,s(0,1),f));m[0]=i((0,r.concatBytes)(g,s(1,1),f));for(let e=1;e<=d;e++){const t=[a(g,m[e-1]),s(e+1,1),f];m[e]=i((0,r.concatBytes)(...t))}return(0,r.concatBytes)(...m).slice(0,n)}function d(e,t,n,i,o){if((0,r.abytes)(e),c(n),(t=u(t)).length>255){const e=Math.ceil(2*i/8);t=o.create({dkLen:e}).update((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:n}).update(e).update(s(n,2)).update(t).update(s(t.length,1)).digest()}function f(e,t,n){(0,r._validateObject)(n,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:s,k:a,m:u,hash:f,expand:h,DST:p}=n;if(!(0,r.isHash)(n.hash))throw new Error("expected valid hash");(0,r.abytes)(e),c(t);const m=s.toString(2).length,g=Math.ceil((m+a)/8),_=t*u*g;let E;if("xmd"===h)E=l(e,p,_,f);else if("xof"===h)E=d(e,p,_,a,f);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');E=e}const b=new Array(t);for(let e=0;e<t;e++){const t=new Array(u);for(let n=0;n<u;n++){const r=g*(n+e*u),a=E.subarray(r,r+g);t[n]=(0,i.mod)(o(a),s)}b[e]=t}return b}n._DST_scalar=(0,r.utf8ToBytes)("HashToScalar-")}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/hash-to-curve.js"}],[2397,{"../utils.js":2403},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNegativeLE=void 0,n.mod=p,n.pow=function(e,t,n){return S(v(n),e,t)},n.pow2=function(e,t,n){let r=e;for(;t-- >i;)r*=r,r%=n;return r},n.invert=m,n.tonelliShanks=b,n.FpSqrt=y,n.validateField=function(e){const t=w.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,r._validateObject)(e,t),e},n.FpPow=S,n.FpInvertBatch=T,n.FpDiv=function(e,t,n){return e.mul(t,"bigint"==typeof n?m(n,e.ORDER):e.inv(n))},n.FpLegendre=R,n.FpIsSquare=function(e,t){return 1===R(e,t)},n.nLength=A,n.Field=v,n.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)},n.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n},n.hashToPrivateScalar=function(e,t,n=!1){const i=(e=(0,r.ensureBytes)("privateHash",e)).length,s=A(t).nByteLength+8;if(s<24||i<s||i>1024)throw new Error("hashToPrivateScalar: expected "+s+"-1024 bytes of input, got "+i);return p(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-o)+o},n.getFieldBytesLength=O,n.getMinHashLength=I,n.mapHashToField=function(e,t,n=!1){const i=e.length,s=O(t),a=I(t);if(i<16||i<a||i>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+i);const c=p(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-o)+o;return n?(0,r.numberToBytesLE)(c,s):(0,r.numberToBytesBE)(c,s)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("../utils.js"),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),l=BigInt(7),d=BigInt(8),f=BigInt(9),h=BigInt(16);function p(e,t){const n=e%t;return n>=i?n:t+n}function m(e,t){if(e===i)throw new Error("invert: expected non-zero number");if(t<=i)throw new Error("invert: expected positive modulus, got "+t);let n=p(e,t),r=t,s=i,a=o,c=o,u=i;for(;n!==i;){const e=r/n,t=r%n,i=s-c*e,o=a-u*e;r=n,n=t,s=c,a=u,c=i,u=o}if(r!==o)throw new Error("invert: does not exist");return p(s,t)}function g(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function _(e,t){const n=(e.ORDER+o)/c,r=e.pow(t,n);return g(e,r,t),r}function E(e,t){const n=(e.ORDER-u)/d,r=e.mul(t,s),i=e.pow(r,n),o=e.mul(t,i),a=e.mul(e.mul(o,s),i),c=e.mul(o,e.sub(a,e.ONE));return g(e,c,t),c}function b(e){if(e<a)throw new Error("sqrt is not defined for small field");let t=e-o,n=0;for(;t%s===i;)t/=s,n++;let r=s;const c=v(e);for(;1===R(c,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return _;let u=c.pow(r,t);const l=(t+o)/s;return function(e,r){if(e.is0(r))return r;if(1!==R(e,r))throw new Error("Cannot find square root");let i=n,s=e.mul(e.ONE,u),a=e.pow(r,t),c=e.pow(r,l);for(;!e.eql(a,e.ONE);){if(e.is0(a))return e.ZERO;let t=1,n=e.sqr(a);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=o<<BigInt(i-t-1),u=e.pow(s,r);i=t,s=e.sqr(u),a=e.mul(a,s),c=e.mul(c,u)}return c}}function y(e){return e%c===a?_:e%d===u?E:e%h===f?function(e){const t=v(e),n=b(e),r=n(t,t.neg(t.ONE)),i=n(t,r),o=n(t,t.neg(r)),s=(e+l)/h;return(e,t)=>{let n=e.pow(t,s),a=e.mul(n,r);const c=e.mul(n,i),u=e.mul(n,o),l=e.eql(e.sqr(a),t),d=e.eql(e.sqr(c),t);n=e.cmov(n,a,l),a=e.cmov(u,c,d);const f=e.eql(e.sqr(a),t),h=e.cmov(n,a,f);return g(e,h,t),h}}(e):b(e)}n.isNegativeLE=(e,t)=>(p(e,t)&o)===o;const w=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function S(e,t,n){if(n<i)throw new Error("invalid exponent, negatives unsupported");if(n===i)return e.ONE;if(n===o)return t;let r=e.ONE,s=t;for(;n>i;)n&o&&(r=e.mul(r,s)),s=e.sqr(s),n>>=o;return r}function T(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:undefined),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),o=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),o),r}function R(e,t){const n=(e.ORDER-o)/s,r=e.pow(t,n),i=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),c=e.eql(r,e.neg(e.ONE));if(!i&&!a&&!c)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function A(e,t){t!==undefined&&(0,r.anumber)(t);const n=t!==undefined?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function v(e,t,n=!1,s={}){if(e<=i)throw new Error("invalid field: expected ORDER > 0, got "+e);let a=undefined,c=undefined,u=!1,l=undefined;if("object"==typeof t&&null!=t){if(s.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(a=e.BITS),e.sqrt&&(c=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modOnDecode&&(u=e.modOnDecode),l=e.allowedLengths}else"number"==typeof t&&(a=t),s.sqrt&&(c=s.sqrt);const{nBitLength:d,nByteLength:f}=A(e,a);if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const g=Object.freeze({ORDER:e,isLE:n,BITS:d,BYTES:f,MASK:(0,r.bitMask)(d),ZERO:i,ONE:o,allowedLengths:l,create:t=>p(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isValidNot0:e=>!g.is0(e)&&g.isValid(e),isOdd:e=>(e&o)===o,neg:t=>p(-t,e),eql:(e,t)=>e===t,sqr:t=>p(t*t,e),add:(t,n)=>p(t+n,e),sub:(t,n)=>p(t-n,e),mul:(t,n)=>p(t*n,e),pow:(e,t)=>S(g,e,t),div:(t,n)=>p(t*m(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>m(t,e),sqrt:c||(t=>(h||(h=y(e)),h(g,t))),toBytes:e=>n?(0,r.numberToBytesLE)(e,f):(0,r.numberToBytesBE)(e,f),fromBytes:(t,i=!0)=>{if(l){if(!l.includes(t.length)||t.length>f)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);const e=new Uint8Array(f);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+t.length);let o=n?(0,r.bytesToNumberLE)(t):(0,r.bytesToNumberBE)(t);if(u&&(o=p(o,e)),!i&&!g.isValid(o))throw new Error("invalid field element: outside of range 0..ORDER");return o},invertBatch:e=>T(g,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(g)}function O(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function I(e){const t=O(e);return t+Math.ceil(t/2)}}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/modular.js"}],[2398,{"../utils.js":2403,"./modular.js":2397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.montgomery=function(e){const t=(h=e,(0,r._validateObject)(h,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...h})),{P:n,type:c,adjustScalarBytes:u,powPminus2:l,randomBytes:d}=t,f="x25519"===c;var h;if(!f&&"x448"!==c)throw new Error("invalid type");const p=d||r.randomBytes,m=f?255:448,g=f?32:56,_=f?BigInt(9):BigInt(5),E=f?BigInt(121665):BigInt(39081),b=f?a**BigInt(254):a**BigInt(447),y=f?BigInt(8)*a**BigInt(251)-s:BigInt(4)*a**BigInt(445)-s,w=b+y+s,S=e=>(0,i.mod)(e,n),T=R(_);function R(e){return(0,r.numberToBytesLE)(S(e),g)}function A(e,t){const i=function(e,t){(0,r.aInRange)("u",e,o,n),(0,r.aInRange)("scalar",t,b,w);const i=t,a=e;let c=s,u=o,d=e,f=s,h=o;for(let e=BigInt(m-1);e>=o;e--){const t=i>>e&s;h^=t,({x_2:c,x_3:d}=O(h,c,d)),({x_2:u,x_3:f}=O(h,u,f)),h=t;const n=c+u,r=S(n*n),o=c-u,l=S(o*o),p=r-l,m=d+f,g=S((d-f)*n),_=S(m*o),b=g+_,y=g-_;d=S(b*b),f=S(a*S(y*y)),c=S(r*l),u=S(p*(r+S(E*p)))}({x_2:c,x_3:d}=O(h,c,d)),({x_2:u,x_3:f}=O(h,u,f));const p=l(u);return S(c*p)}(function(e){const t=(0,r.ensureBytes)("u coordinate",e,g);return f&&(t[31]&=127),S((0,r.bytesToNumberLE)(t))}(t),function(e){return(0,r.bytesToNumberLE)(u((0,r.ensureBytes)("scalar",e,g)))}(e));if(i===o)throw new Error("invalid private or public key received");return R(i)}function v(e){return A(e,T)}function O(e,t,n){const r=S(e*(t-n));return{x_2:t=S(t-r),x_3:n=S(n+r)}}const I=(e=p(g))=>e,N={randomSecretKey:I,randomPrivateKey:I};const C={secret:g,public:g,seed:g};return{keygen:function(e){const t=N.randomSecretKey(e);return{secretKey:t,publicKey:v(t)}},getSharedSecret:(e,t)=>A(e,t),getPublicKey:e=>v(e),scalarMult:A,scalarMultBase:v,utils:N,GuBytes:T.slice(),info:{type:"montgomery",lengths:C}}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("../utils.js"),i=e("./modular.js"),o=BigInt(0),s=BigInt(1),a=BigInt(2)}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/montgomery.js"}],[2399,{"../utils.js":2403},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("../utils.js"),n)}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/utils.js"}],[2400,{"../utils.js":2403,"./curve.js":2394,"./modular.js":2397,"@noble/hashes/hmac.js":2408,"@noble/hashes/utils":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DER=n.DERErr=void 0,n._splitEndoScalar=u,n._legacyHelperEquat=_,n._normFnElement=E,n.weierstrassN=b,n.weierstrassPoints=function(e){const{CURVE:t,curveOpts:n}=T(e),r=b(t,n);return function(e,t){const{Fp:n,Fn:r}=t;function i(e){return(0,o.inRange)(e,h,r.ORDER)}const s=_(n,e.a,e.b);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:e=>E(r,e),weierstrassEquation:s,isWithinCurveOrder:i})}(e,r)},n.SWUFpSqrtRatio=w,n.mapToCurveSimpleSWU=function(e,t){(0,a.validateField)(e);const{A:n,B:r,Z:i}=t;if(!e.isValid(n)||!e.isValid(r)||!e.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");const o=w(e,i);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return t=>{let s,c,u,l,d,f,h,p;s=e.sqr(t),s=e.mul(s,i),c=e.sqr(s),c=e.add(c,s),u=e.add(c,e.ONE),u=e.mul(u,r),l=e.cmov(i,e.neg(c),!e.eql(c,e.ZERO)),l=e.mul(l,n),c=e.sqr(u),f=e.sqr(l),d=e.mul(f,n),c=e.add(c,d),c=e.mul(c,u),f=e.mul(f,l),d=e.mul(f,r),c=e.add(c,d),h=e.mul(s,u);const{isValid:m,value:g}=o(c,f);p=e.mul(s,t),p=e.mul(p,g),h=e.cmov(h,u,m),p=e.cmov(p,g,m);const _=e.isOdd(t)===e.isOdd(p);p=e.cmov(e.neg(p),p,_);const E=(0,a.FpInvertBatch)(e,[l],!0)[0];return h=e.mul(h,E),{x:h,y:p}}},n.ecdsa=S,n.weierstrass=function(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=function(e){const{CURVE:t,curveOpts:n}=T(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}(e),o=S(b(t,n),r,i);return function(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}(e,o)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/hmac.js"),i=e("@noble/hashes/utils"),o=e("../utils.js"),s=e("./curve.js"),a=e("./modular.js"),c=(e,t)=>(e+(e>=0?t:-t)/p)/t;function u(e,t,n){const[[r,i],[s,a]]=t,u=c(a*e,n),l=c(-i*e,n);let d=e-u*r-l*s,p=-u*i-l*a;const m=d<f,g=p<f;m&&(d=-d),g&&(p=-p);const _=(0,o.bitMask)(Math.ceil((0,o.bitLen)(n)/2))+h;if(d<f||d>=_||p<f||p>=_)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:m,k1:d,k2neg:g,k2:p}}function l(e){e.lowS!==undefined&&(0,o.abool)("lowS",e.lowS),e.prehash!==undefined&&(0,o.abool)("prehash",e.prehash)}class d extends Error{constructor(e=""){super(e)}}n.DERErr=d,n.DER={Err:d,_tlv:{encode:(e,t)=>{const{Err:r}=n.DER;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const i=t.length/2,s=(0,o.numberToHexUnpadded)(i);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const a=i>127?(0,o.numberToHexUnpadded)(s.length/2|128):"";return(0,o.numberToHexUnpadded)(e)+a+s+t},decode(e,t){const{Err:r}=n.DER;let i=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[i++]!==e)throw new r("tlv.decode: wrong tlv");const o=t[i++];let s=0;if(!!(128&o)){const e=127&o;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const n=t.subarray(i,i+e);if(n.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===n[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of n)s=s<<8|e;if(i+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=o;const a=t.subarray(i,i+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(i+s)}}},_int:{encode(e){const{Err:t}=n.DER;if(e<f)throw new t("integer: negative integers are not allowed");let r=(0,o.numberToHexUnpadded)(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=n.DER;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return(0,o.bytesToNumberBE)(e)}},toSig(e){const{Err:t,_int:r,_tlv:i}=n.DER,s=(0,o.ensureBytes)("signature",e),{v:a,l:c}=i.decode(48,s);if(c.length)throw new t("invalid signature: left bytes after parsing");const{v:u,l:l}=i.decode(2,a),{v:d,l:f}=i.decode(2,l);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(u),s:r.decode(d)}},hexFromSig(e){const{_tlv:t,_int:r}=n.DER,i=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,i)}};const f=BigInt(0),h=BigInt(1),p=BigInt(2),m=BigInt(3),g=BigInt(4);function _(e,t,n){return function(r){const i=e.sqr(r),o=e.mul(i,r);return e.add(e.add(o,e.mul(r,t)),n)}}function E(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let i=(0,o.ensureBytes)("private key",t);try{r=e.fromBytes(i)}catch(e){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function b(e,t={}){const{Fp:n,Fn:r}=(0,s._createCurveFields)("weierstrass",e,t),{h:i,n:a}=e;(0,o._validateObject)(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!n.is0(e.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');function l(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const d=t.toBytes||function(e,t,r){const{x:i,y:s}=t.toAffine(),a=n.toBytes(i);if((0,o.abool)("isCompressed",r),r){l();const e=!n.isOdd(s);return(0,o.concatBytes)(y(e),a)}return(0,o.concatBytes)(Uint8Array.of(4),a,n.toBytes(s))},p=t.fromBytes||function(e){(0,o.abytes)(e);const t=n.BYTES,r=t+1,i=2*t+1,s=e.length,a=e[0],c=e.subarray(1);if(s!==r||2!==a&&3!==a){if(s===i&&4===a){const e=n.fromBytes(c.subarray(0*t,1*t)),r=n.fromBytes(c.subarray(1*t,2*t));if(!w(e,r))throw new Error("bad point: is not on curve");return{x:e,y:r}}throw new Error(`bad point: got length ${s}, expected compressed=${r} or uncompressed=${i}`)}{const e=n.fromBytes(c);if(!n.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=b(e);let r;try{r=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}l();return!(1&~a)!==n.isOdd(r)&&(r=n.neg(r)),{x:e,y:r}}},b=_(n,e.a,e.b);function w(e,t){const r=n.sqr(t),i=b(e);return n.eql(r,i)}if(!w(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const S=n.mul(n.pow(e.a,m),g),T=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(S,T)))throw new Error("bad curve params: a or b");function R(e,t,r=!1){if(!n.isValid(t)||r&&n.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function A(e){if(!(e instanceof C))throw new Error("ProjectivePoint expected")}function v(e){if(!c||!c.basises)throw new Error("no endo");return u(e,c.basises,r.ORDER)}const O=(0,o.memoized)((e,t)=>{const{X:r,Y:i,Z:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};const s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));const a=n.mul(r,t),c=n.mul(i,t),u=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),I=(0,o.memoized)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not field elements");if(!w(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function N(e,t,r,i,o){return r=new C(n.mul(r.X,e),r.Y,r.Z),t=(0,s.negateCt)(i,t),r=(0,s.negateCt)(o,r),t.add(r)}class C{constructor(e,t,n){this.X=R("x",e),this.Y=R("y",t,!0),this.Z=R("z",n),Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof C)throw new Error("projective point not allowed");return n.is0(t)&&n.is0(r)?C.ZERO:new C(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}static normalizeZ(e){return(0,s.normalizeZ)(C,e)}static fromBytes(e){return(0,o.abytes)(e),C.fromHex(e)}static fromHex(e){const t=C.fromAffine(p((0,o.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return C.BASE.multiply(E(r,e))}static msm(e,t){return(0,s.pippenger)(C,r,e,t)}_setWindowSize(e){this.precompute(e)}precompute(e=8,t=!0){return x.createCache(this,e),t||this.multiply(m),this}assertValidity(){I(this)}hasEvenY(){const{y:e}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){A(e);const{X:t,Y:r,Z:i}=this,{X:o,Y:s,Z:a}=e,c=n.eql(n.mul(t,a),n.mul(o,i)),u=n.eql(n.mul(r,a),n.mul(s,i));return c&&u}negate(){return new C(this.X,n.neg(this.Y),this.Z)}double(){const{a:t,b:r}=e,i=n.mul(r,m),{X:o,Y:s,Z:a}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,d=n.mul(o,o),f=n.mul(s,s),h=n.mul(a,a),p=n.mul(o,s);return p=n.add(p,p),l=n.mul(o,a),l=n.add(l,l),c=n.mul(t,l),u=n.mul(i,h),u=n.add(c,u),c=n.sub(f,u),u=n.add(f,u),u=n.mul(c,u),c=n.mul(p,c),l=n.mul(i,l),h=n.mul(t,h),p=n.sub(d,h),p=n.mul(t,p),p=n.add(p,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,h),d=n.mul(d,p),u=n.add(u,d),h=n.mul(s,a),h=n.add(h,h),d=n.mul(h,p),c=n.sub(c,d),l=n.mul(h,f),l=n.add(l,l),l=n.add(l,l),new C(c,u,l)}add(t){A(t);const{X:r,Y:i,Z:o}=this,{X:s,Y:a,Z:c}=t;let u=n.ZERO,l=n.ZERO,d=n.ZERO;const f=e.a,h=n.mul(e.b,m);let p=n.mul(r,s),g=n.mul(i,a),_=n.mul(o,c),E=n.add(r,i),b=n.add(s,a);E=n.mul(E,b),b=n.add(p,g),E=n.sub(E,b),b=n.add(r,o);let y=n.add(s,c);return b=n.mul(b,y),y=n.add(p,_),b=n.sub(b,y),y=n.add(i,o),u=n.add(a,c),y=n.mul(y,u),u=n.add(g,_),y=n.sub(y,u),d=n.mul(f,b),u=n.mul(h,_),d=n.add(u,d),u=n.sub(g,d),d=n.add(g,d),l=n.mul(u,d),g=n.add(p,p),g=n.add(g,p),_=n.mul(f,_),b=n.mul(h,b),g=n.add(g,_),_=n.sub(p,_),_=n.mul(f,_),b=n.add(b,_),p=n.mul(g,b),l=n.add(l,p),p=n.mul(y,b),u=n.mul(E,u),u=n.sub(u,p),p=n.mul(E,g),d=n.mul(y,d),d=n.add(d,p),new C(u,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(C.ZERO)}multiply(e){const{endo:n}=t;if(!r.isValidNot0(e))throw new Error("invalid scalar: out of range");let i,o;const a=e=>x.cached(this,e,e=>(0,s.normalizeZ)(C,e));if(n){const{k1neg:t,k1:r,k2neg:s,k2:c}=v(e),{p:u,f:l}=a(r),{p:d,f:f}=a(c);o=l.add(f),i=N(n.beta,u,d,t,s)}else{const{p:t,f:n}=a(e);i=t,o=n}return(0,s.normalizeZ)(C,[i,o])[0]}multiplyUnsafe(e){const{endo:n}=t,i=this;if(!r.isValid(e))throw new Error("invalid scalar: out of range");if(e===f||i.is0())return C.ZERO;if(e===h)return i;if(x.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:r,k2neg:o,k2:a}=v(e),{p1:c,p2:u}=(0,s.mulEndoUnsafe)(C,i,r,a);return N(n.beta,c,u,t,o)}return x.unsafe(i,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?undefined:r}toAffine(e){return O(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return i===h||(e?e(C,this):x.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:e}=t;return i===h?this:e?e(C,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(e=!0){return(0,o.abool)("isCompressed",e),this.assertValidity(),d(C,this,e)}toRawBytes(e=!0){return this.toBytes(e)}toHex(e=!0){return(0,o.bytesToHex)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}C.BASE=new C(e.Gx,e.Gy,n.ONE),C.ZERO=new C(n.ZERO,n.ONE,n.ZERO),C.Fp=n,C.Fn=r;const P=r.BITS,x=new s.wNAF(C,t.endo?Math.ceil(P/2):P);return C}function y(e){return Uint8Array.of(e?2:3)}function w(e,t){const n=e.ORDER;let r=f;for(let e=n-h;e%p===f;e/=p)r+=h;const i=r,o=p<<i-h-h,s=o*p,a=(n-h)/s,c=(a-h)/p,u=s-h,l=o,d=e.pow(t,a),_=e.pow(t,(a+h)/p);let E=(t,n)=>{let r=d,o=e.pow(n,u),s=e.sqr(o);s=e.mul(s,n);let a=e.mul(t,s);a=e.pow(a,c),a=e.mul(a,o),o=e.mul(a,n),s=e.mul(a,t);let f=e.mul(s,o);a=e.pow(f,l);let m=e.eql(a,e.ONE);o=e.mul(s,_),a=e.mul(f,r),s=e.cmov(o,s,m),f=e.cmov(a,f,m);for(let t=i;t>h;t--){let n=t-p;n=p<<n-h;let i=e.pow(f,n);const a=e.eql(i,e.ONE);o=e.mul(s,r),r=e.mul(r,r),i=e.mul(f,r),s=e.cmov(o,s,a),f=e.cmov(i,f,a)}return{isValid:m,value:s}};if(e.ORDER%g===m){const n=(e.ORDER-m)/g,r=e.sqrt(e.neg(t));E=(t,i)=>{let o=e.sqr(i);const s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,n);a=e.mul(a,s);const c=e.mul(a,r),u=e.mul(e.sqr(a),i),l=e.eql(u,t);return{isValid:l,value:e.cmov(c,a,l)}}}return E}function S(e,t,s={}){(0,i.ahash)(t),(0,o._validateObject)(s,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const c=s.randomBytes||o.randomBytes,u=s.hmac||((e,...n)=>(0,r.hmac)(t,e,(0,o.concatBytes)(...n))),{Fp:d,Fn:m}=e,{ORDER:g,BITS:_}=m,b=(0,a.getMinHashLength)(g),w={secret:m.BYTES,public:1+d.BYTES,publicUncompressed:1+2*d.BYTES,signature:2*m.BYTES,seed:b};function S(e){return e>g>>h}function T(e,t){if(!m.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..CURVE.n`)}class R{constructor(e,t,n){T("r",e),T("s",t),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t="compact"){if("compact"===t){const t=m.BYTES;(0,o.abytes)(e,2*t);const n=e.subarray(0,t),r=e.subarray(t,2*t);return new R(m.fromBytes(n),m.fromBytes(r))}if("der"===t){(0,o.abytes)(e);const{r:t,s:r}=n.DER.toSig(e);return new R(t,r)}throw new Error("invalid format")}static fromHex(e,t){return this.fromBytes((0,o.hexToBytes)(e),t)}addRecoveryBit(e){return new R(this.r,this.s,e)}recoverPublicKey(t){const n=d.ORDER,{r:r,s:i,recovery:s}=this;if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");if(g*p<n&&s>1)throw new Error("recovery id is ambiguous for h>1 curve");const a=2===s||3===s?r+g:r;if(!d.isValid(a))throw new Error("recovery id 2 or 3 invalid");const c=d.toBytes(a),u=e.fromHex((0,o.concatBytes)(y(!(1&s)),c)),l=m.inv(a),f=P((0,o.ensureBytes)("msgHash",t)),h=m.create(-f*l),_=m.create(i*l),E=e.BASE.multiplyUnsafe(h).add(u.multiplyUnsafe(_));if(E.is0())throw new Error("point at infinify");return E.assertValidity(),E}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,m.neg(this.s),this.recovery):this}toBytes(e="compact"){if("compact"===e)return(0,o.concatBytes)(m.toBytes(this.r),m.toBytes(this.s));if("der"===e)return(0,o.hexToBytes)(n.DER.hexFromSig(this));throw new Error("invalid format")}toHex(e){return(0,o.bytesToHex)(this.toBytes(e))}assertValidity(){}static fromCompact(e){return R.fromBytes((0,o.ensureBytes)("sig",e),"compact")}static fromDER(e){return R.fromBytes((0,o.ensureBytes)("sig",e),"der")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,o.bytesToHex)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,o.bytesToHex)(this.toBytes("compact"))}}function A(e){try{return!!E(m,e)}catch(e){return!1}}function v(e=c(b)){return(0,a.mapHashToField)(e,g)}const O={isValidSecretKey:A,isValidPublicKey:function(t,n){try{const r=t.length;return(!0!==n||r===w.public)&&((!1!==n||r===w.publicUncompressed)&&!!e.fromBytes(t))}catch(e){return!1}},randomSecretKey:v,isValidPrivateKey:A,randomPrivateKey:v,normPrivateKeyToScalar:e=>E(m,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};function I(t,n=!0){return e.BASE.multiply(E(m,t)).toBytes(n)}function N(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;if(m.allowedLengths||w.secret===w.public)return undefined;const n=(0,o.ensureBytes)("key",t).length;return n===w.public||n===w.publicUncompressed}const C=s.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=(0,o.bytesToNumberBE)(e),n=8*e.length-_;return n>0?t>>BigInt(n):t},P=s.bits2int_modN||function(e){return m.create(C(e))},x=(0,o.bitMask)(_);function k(e){return(0,o.aInRange)("num < 2^"+_,e,f,x),m.toBytes(e)}function L(n,r,i=B){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");let{lowS:s,prehash:a,extraEntropy:u}=i;null==s&&(s=!0),n=(0,o.ensureBytes)("msgHash",n),l(i),a&&(n=(0,o.ensureBytes)("prehashed msgHash",t(n)));const d=P(n),p=E(m,r),g=[k(p),k(d)];if(null!=u&&!1!==u){const e=!0===u?c(w.secret):u;g.push((0,o.ensureBytes)("extraEntropy",e))}const _=(0,o.concatBytes)(...g),b=d;return{seed:_,k2sig:function(t){const n=C(t);if(!m.isValidNot0(n))return;const r=m.inv(n),i=e.BASE.multiply(n).toAffine(),o=m.create(i.x);if(o===f)return;const a=m.create(r*m.create(b+o*p));if(a===f)return;let c=(i.x===o?0:2)|Number(i.y&h),u=a;return s&&S(a)&&(u=function(e){return S(e)?m.neg(e):e}(a),c^=1),new R(o,u,c)}}}const B={lowS:s.lowS,prehash:!1},D={lowS:s.lowS,prehash:!1};return e.BASE.precompute(8),Object.freeze({keygen:function(e){const t=O.randomSecretKey(e);return{secretKey:t,publicKey:I(t)}},getPublicKey:I,sign:function(e,n,r=B){const{seed:i,k2sig:s}=L(e,n,r);return(0,o.createHmacDrbg)(t.outputLen,m.BYTES,u)(i,s)},verify:function(r,i,s,a=D){const c=r;i=(0,o.ensureBytes)("msgHash",i),s=(0,o.ensureBytes)("publicKey",s),l(a);const{lowS:u,prehash:d,format:f}=a;if("strict"in a)throw new Error("options.strict was renamed to lowS");let h,p=undefined;if(f===undefined){const e="string"==typeof c||(0,o.isBytes)(c),t=!e&&null!==c&&"object"==typeof c&&"bigint"==typeof c.r&&"bigint"==typeof c.s;if(!e&&!t)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(t)p=new R(c.r,c.s);else if(e){try{p=R.fromDER(c)}catch(e){if(!(e instanceof n.DER.Err))throw e}if(!p)try{p=R.fromCompact(c)}catch(e){return!1}}}else if("compact"===f||"der"===f){if("string"!=typeof c&&!(0,o.isBytes)(c))throw new Error('"der" / "compact" format expects Uint8Array signature');p=R.fromBytes((0,o.ensureBytes)("sig",c),f)}else{if("js"!==f)throw new Error('format must be "compact", "der" or "js"');if(!(c instanceof R))throw new Error('"js" format expects Signature instance');p=c}if(!p)return!1;try{if(h=e.fromHex(s),u&&p.hasHighS())return!1;d&&(i=t(i));const{r:n,s:r}=p,o=P(i),a=m.inv(r),c=m.create(o*a),l=m.create(n*a),f=e.BASE.multiplyUnsafe(c).add(h.multiplyUnsafe(l));if(f.is0())return!1;return m.create(f.x)===n}catch(e){return!1}},getSharedSecret:function(t,n,r=!0){if(!0===N(t))throw new Error("first arg must be private key");if(!1===N(n))throw new Error("second arg must be public key");const i=E(m,t);return e.fromHex(n).multiply(i).toBytes(r)},utils:O,Point:e,Signature:R,info:{type:"weierstrass",lengths:w,publicKeyHasPrefix:!0}})}function T(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):undefined;return{CURVE:t,curveOpts:{Fp:n,Fn:(0,a.Field)(t.n,{BITS:e.nBitLength,allowedLengths:r,modOnDecode:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/weierstrass.js"}],[2401,{"./abstract/curve.js":2394,"./abstract/edwards.js":2395,"./abstract/hash-to-curve.js":2396,"./abstract/modular.js":2397,"./abstract/montgomery.js":2398,"./utils.js":2403,"@noble/hashes/sha2.js":2413,"@noble/hashes/utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ED25519_TORSION_SUBGROUP=n.hash_to_ristretto255=n.hashToRistretto255=n.encodeToCurve=n.hashToCurve=n.ristretto255_hasher=n.ristretto255=n.RistrettoPoint=n.ed25519_hasher=n.edwardsToMontgomery=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=void 0,n.edwardsToMontgomeryPub=v,n.edwardsToMontgomeryPriv=function(e){return n.ed25519.utils.toMontgomeryPriv((0,l.ensureBytes)("pub",e))};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/sha2.js"),i=e("@noble/hashes/utils.js"),o=e("./abstract/curve.js"),s=e("./abstract/edwards.js"),a=e("./abstract/hash-to-curve.js"),c=e("./abstract/modular.js"),u=e("./abstract/montgomery.js"),l=e("./utils.js"),d=BigInt(0),f=BigInt(1),h=BigInt(2),p=BigInt(3),m=BigInt(5),g=BigInt(8),_={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:g,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function E(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=_.p,s=e*e%o*e%o,a=(0,c.pow2)(s,h,o)*s%o,u=(0,c.pow2)(a,f,o)*e%o,l=(0,c.pow2)(u,m,o)*u%o,d=(0,c.pow2)(l,t,o)*l%o,p=(0,c.pow2)(d,n,o)*d%o,g=(0,c.pow2)(p,r,o)*p%o,E=(0,c.pow2)(g,i,o)*g%o,b=(0,c.pow2)(E,i,o)*g%o,y=(0,c.pow2)(b,t,o)*l%o;return{pow_p_5_8:(0,c.pow2)(y,h,o)*e%o,b2:s}}function b(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const y=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function w(e,t){const n=_.p,r=(0,c.mod)(t*t*t,n),i=E(e*(0,c.mod)(r*r*t,n)).pow_p_5_8;let o=(0,c.mod)(e*r*i,n);const s=(0,c.mod)(t*o*o,n),a=o,u=(0,c.mod)(o*y,n),l=s===e,d=s===(0,c.mod)(-e,n),f=s===(0,c.mod)(-e*y,n);return l&&(o=a),(d||f)&&(o=u),(0,c.isNegativeLE)(o,n)&&(o=(0,c.mod)(-o,n)),{isValid:l||d,value:o}}const S=(()=>(0,c.Field)(_.p,{isLE:!0}))(),T=(()=>(0,c.Field)(_.n,{isLE:!0}))(),R=(()=>({..._,Fp:S,hash:r.sha512,adjustScalarBytes:b,uvRatio:w}))();function A(e,t,n){if(t.length>255)throw new Error("Context is too big");return(0,i.concatBytes)((0,i.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,t.length]),t,e)}function v(e){return n.ed25519.utils.toMontgomery((0,l.ensureBytes)("pub",e))}n.ed25519=(0,s.twistedEdwards)(R),n.ed25519ctx=(0,s.twistedEdwards)({...R,domain:A}),n.ed25519ph=(0,s.twistedEdwards)(Object.assign({},R,{domain:A,prehash:r.sha512})),n.x25519=(()=>{const e=_.p;return(0,u.montgomery)({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=E(t);return(0,c.mod)((0,c.pow2)(n,p,e)*r,e)},adjustScalarBytes:b})})(),n.edwardsToMontgomery=v;const O=(()=>(S.ORDER+p)/g)(),I=(()=>S.pow(h,O))(),N=(()=>S.sqrt(S.neg(S.ONE)))();const C=(()=>(0,c.FpSqrtEven)(S,S.neg(BigInt(486664))))();function P(e){const{xMn:t,xMd:n,yMn:r,yMd:i}=function(e){const t=(S.ORDER-m)/g,n=BigInt(486662);let r=S.sqr(e);r=S.mul(r,h);let i=S.add(r,S.ONE),o=S.neg(n),s=S.sqr(i),a=S.mul(s,i),c=S.mul(r,n);c=S.mul(c,o),c=S.add(c,s),c=S.mul(c,o);let u=S.sqr(a);s=S.sqr(u),u=S.mul(u,a),u=S.mul(u,c),s=S.mul(s,u);let l=S.pow(s,t);l=S.mul(l,u);let d=S.mul(l,N);s=S.sqr(l),s=S.mul(s,a);let p=S.eql(s,c),_=S.cmov(d,l,p),E=S.mul(o,r),b=S.mul(l,e);b=S.mul(b,I);let y=S.mul(b,N),w=S.mul(c,r);s=S.sqr(b),s=S.mul(s,a);let T=S.eql(s,w),R=S.cmov(y,b,T);s=S.sqr(_),s=S.mul(s,a);let A=S.eql(s,c),v=S.cmov(E,o,A),O=S.cmov(R,_,A),C=S.isOdd(O);return O=S.cmov(O,S.neg(O),A!==C),{xMn:v,xMd:i,yMn:O,yMd:f}}(e);let o=S.mul(t,i);o=S.mul(o,C);let s=S.mul(n,r),a=S.sub(t,n),u=S.add(t,n),l=S.mul(s,u),d=S.eql(l,S.ZERO);o=S.cmov(o,S.ZERO,d),s=S.cmov(s,S.ONE,d),a=S.cmov(a,S.ONE,d),u=S.cmov(u,S.ONE,d);const[p,_]=(0,c.FpInvertBatch)(S,[s,u],!0);return{x:S.mul(o,p),y:S.mul(a,_)}}n.ed25519_hasher=(0,a.createHasher)(n.ed25519.Point,e=>P(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:S.ORDER,m:1,k:128,expand:"xmd",hash:r.sha512});const x=y,k=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),L=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),M=e=>w(f,e),j=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),U=e=>n.ed25519.CURVE.Fp.create((0,l.bytesToNumberLE)(e)&j);function F(e){const{d:t}=n.ed25519.CURVE,r=n.ed25519.CURVE.Fp.ORDER,i=n.ed25519.CURVE.Fp.create,o=i(x*e*e),s=i((o+f)*B);let a=BigInt(-1);const u=i((a-t*o)*i(o+t));let{isValid:l,value:d}=w(s,u),h=i(d*e);(0,c.isNegativeLE)(h,r)||(h=i(-h)),l||(d=h),l||(a=o);const p=i(a*(o-f)*D-u),m=d*d,g=i((d+d)*u),_=i(p*k),E=i(f-m),b=i(f+m);return new n.ed25519.Point(i(g*b),i(E*_),i(_*b),i(g*E))}function H(e){(0,i.abytes)(e,64);const t=F(U(e.subarray(0,32))),n=F(U(e.subarray(32,64)));return new G(t.add(n))}class G extends s.PrimeEdwardsPoint{constructor(e){super(e)}static fromAffine(e){return new G(n.ed25519.Point.fromAffine(e))}assertSame(e){if(!(e instanceof G))throw new Error("RistrettoPoint expected")}init(e){return new G(e)}static hashToCurve(e){return H((0,l.ensureBytes)("ristrettoHash",e,64))}static fromBytes(e){(0,i.abytes)(e,32);const{a:t,d:r}=n.ed25519.CURVE,o=S.ORDER,s=S.create,a=U(e);if(!(0,l.equalBytes)((0,l.numberToBytesLE)(a,32),e)||(0,c.isNegativeLE)(a,o))throw new Error("invalid ristretto255 encoding 1");const u=s(a*a),h=s(f+t*u),p=s(f-t*u),m=s(h*h),g=s(p*p),_=s(t*r*m-g),{isValid:E,value:b}=M(s(_*g)),y=s(b*p),w=s(b*y*_);let T=s((a+a)*y);(0,c.isNegativeLE)(T,o)&&(T=s(-T));const R=s(h*w),A=s(T*R);if(!E||(0,c.isNegativeLE)(A,o)||R===d)throw new Error("invalid ristretto255 encoding 2");return new G(new n.ed25519.Point(T,R,f,A))}static fromHex(e){return G.fromBytes((0,l.ensureBytes)("ristrettoHex",e,32))}static msm(e,t){return(0,o.pippenger)(G,n.ed25519.Point.Fn,e,t)}toBytes(){let{X:e,Y:t,Z:n,T:r}=this.ep;const i=S.ORDER,o=S.create,s=o(o(n+t)*o(n-t)),a=o(e*t),u=o(a*a),{value:d}=M(o(s*u)),f=o(d*s),h=o(d*a),p=o(f*h*r);let m;if((0,c.isNegativeLE)(r*p,i)){let n=o(t*x),r=o(e*x);e=n,t=r,m=o(f*L)}else m=h;(0,c.isNegativeLE)(e*p,i)&&(t=o(-t));let g=o((n-t)*m);return(0,c.isNegativeLE)(g,i)&&(g=o(-g)),(0,l.numberToBytesLE)(g,32)}equals(e){this.assertSame(e);const{X:t,Y:n}=this.ep,{X:r,Y:i}=e.ep,o=S.create,s=o(t*i)===o(n*r),a=o(n*i)===o(t*r);return s||a}is0(){return this.equals(G.ZERO)}}G.BASE=(()=>new G(n.ed25519.Point.BASE))(),G.ZERO=(()=>new G(n.ed25519.Point.ZERO))(),G.Fp=S,G.Fn=T,n.RistrettoPoint=G,n.ristretto255={Point:G},n.ristretto255_hasher={hashToCurve(e,t){const n=t?.DST||"ristretto255_XMD:SHA-512_R255MAP_RO_";return H((0,a.expand_message_xmd)(e,n,64,r.sha512))},hashToScalar:(e,t={DST:a._DST_scalar})=>T.create((0,l.bytesToNumberLE)((0,a.expand_message_xmd)(e,t.DST,64,r.sha512)))},n.hashToCurve=n.ed25519_hasher.hashToCurve,n.encodeToCurve=n.ed25519_hasher.encodeToCurve,n.hashToRistretto255=n.ristretto255_hasher.hashToCurve,n.hash_to_ristretto255=n.ristretto255_hasher.hashToCurve,n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"]}}},{package:"@noble/curves",file:"node_modules/@noble/curves/ed25519.js"}],[2402,{"./_shortw_utils.js":2393,"./abstract/hash-to-curve.js":2396,"./abstract/modular.js":2397,"./abstract/weierstrass.js":2400,"./utils.js":2403,"@noble/hashes/sha2.js":2413,"@noble/hashes/utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.encodeToCurve=n.hashToCurve=n.secp256k1_hasher=n.schnorr=n.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/sha2.js"),i=e("@noble/hashes/utils.js"),o=e("./_shortw_utils.js"),s=e("./abstract/hash-to-curve.js"),a=e("./abstract/modular.js"),c=e("./abstract/weierstrass.js"),u=e("./utils.js"),l={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},d={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},f=BigInt(0),h=BigInt(1),p=BigInt(2);function m(e){const t=l.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),c=BigInt(44),u=BigInt(88),d=e*e*e%t,f=d*d*e%t,h=(0,a.pow2)(f,n,t)*f%t,m=(0,a.pow2)(h,n,t)*f%t,_=(0,a.pow2)(m,p,t)*d%t,E=(0,a.pow2)(_,i,t)*_%t,b=(0,a.pow2)(E,o,t)*E%t,y=(0,a.pow2)(b,c,t)*b%t,w=(0,a.pow2)(y,u,t)*y%t,S=(0,a.pow2)(w,c,t)*b%t,T=(0,a.pow2)(S,n,t)*f%t,R=(0,a.pow2)(T,s,t)*E%t,A=(0,a.pow2)(R,r,t)*d%t,v=(0,a.pow2)(A,p,t);if(!g.eql(g.sqr(v),e))throw new Error("Cannot find square root");return v}const g=(0,a.Field)(l.p,undefined,undefined,{sqrt:m});n.secp256k1=(0,o.createCurve)({...l,Fp:g,lowS:!0,endo:d},r.sha256);const _={};function E(e,...t){let n=_[e];if(n===undefined){const t=(0,r.sha256)(Uint8Array.from(e,e=>e.charCodeAt(0)));n=(0,u.concatBytes)(t,t),_[e]=n}return(0,r.sha256)((0,u.concatBytes)(n,...t))}const b=e=>e.toBytes(!0).slice(1),y=e=>(0,u.numberToBytesBE)(e,32),w=e=>(0,a.mod)(e,l.p),S=e=>(0,a.mod)(e,l.n),T=(()=>n.secp256k1.Point)(),R=e=>e%p===f;function A(e){let t=(0,c._normFnElement)(T.Fn,e),n=T.BASE.multiply(t);return{scalar:R(n.y)?t:S(-t),bytes:b(n)}}function v(e){(0,u.aInRange)("x",e,h,l.p);const t=w(e*e);let n=m(w(t*e+BigInt(7)));R(n)||(n=w(-n));const r=T.fromAffine({x:e,y:n});return r.assertValidity(),r}const O=u.bytesToNumberBE;function I(...e){return S(O(E("BIP0340/challenge",...e)))}function N(e){return A(e).bytes}function C(e,t,n=(0,i.randomBytes)(32)){const r=(0,u.ensureBytes)("message",e),{bytes:o,scalar:s}=A(t),a=(0,u.ensureBytes)("auxRand",n,32),c=y(s^O(E("BIP0340/aux",a))),l=E("BIP0340/nonce",c,o,r),d=S(O(l));if(d===f)throw new Error("sign failed: k is zero");const{bytes:h,scalar:p}=A(d),m=I(h,o,r),g=new Uint8Array(64);if(g.set(h,0),g.set(y(S(p+m*s)),32),!P(g,r,o))throw new Error("sign: Invalid signature produced");return g}function P(e,t,n){const r=(0,u.ensureBytes)("signature",e,64),i=(0,u.ensureBytes)("message",t),o=(0,u.ensureBytes)("publicKey",n,32);try{const e=v(O(o)),t=O(r.subarray(0,32));if(!(0,u.inRange)(t,h,l.p))return!1;const n=O(r.subarray(32,64));if(!(0,u.inRange)(n,h,l.n))return!1;const s=I(y(t),b(e),i),a=T.BASE.multiplyUnsafe(n).add(e.multiplyUnsafe(S(-s))),{x:c,y:d}=a.toAffine();return!(a.is0()||!R(d)||c!==t)}catch(e){return!1}}n.schnorr=(()=>{const e=(e=(0,i.randomBytes)(48))=>(0,a.mapHashToField)(e,l.n);return n.secp256k1.utils.randomSecretKey,{keygen:function(t){const n=e(t);return{secretKey:n,publicKey:N(n)}},getPublicKey:N,sign:C,verify:P,Point:T,utils:{randomSecretKey:e,randomPrivateKey:e,taggedHash:E,lift_x:v,pointToBytes:b,numberToBytesBE:u.numberToBytesBE,bytesToNumberBE:u.bytesToNumberBE,mod:a.mod},info:{type:"weierstrass",publicKeyHasPrefix:!1,lengths:{secret:32,public:32,signature:64,seed:48}}}})();const x=(()=>(0,s.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))))(),k=(()=>(0,c.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))();n.secp256k1_hasher=(0,s.createHasher)(n.secp256k1.Point,e=>{const{x:t,y:n}=k(g.create(e[0]));return x(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256}),n.hashToCurve=n.secp256k1_hasher.hashToCurve,n.encodeToCurve=n.secp256k1_hasher.encodeToCurve}}},{package:"@noble/curves",file:"node_modules/@noble/curves/secp256k1.js"}],[2403,{"@noble/hashes/utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.notImplemented=n.bitMask=n.utf8ToBytes=n.randomBytes=n.isBytes=n.hexToBytes=n.concatBytes=n.bytesToUtf8=n.bytesToHex=n.anumber=n.abytes=void 0,n.abool=function(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)},n.numberToHexUnpadded=a,n.hexToNumber=c,n.bytesToNumberBE=function(e){return c((0,r.bytesToHex)(e))},n.bytesToNumberLE=function(e){return(0,r.abytes)(e),c((0,r.bytesToHex)(Uint8Array.from(e).reverse()))},n.numberToBytesBE=u,n.numberToBytesLE=function(e,t){return u(e,t).reverse()},n.numberToVarBytesBE=function(e){return(0,r.hexToBytes)(a(e))},n.ensureBytes=function(e,t,n){let i;if("string"==typeof t)try{i=(0,r.hexToBytes)(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!(0,r.isBytes)(t))throw new Error(e+" must be hex string or Uint8Array");i=Uint8Array.from(t)}const o=i.length;if("number"==typeof n&&o!==n)throw new Error(e+" of length "+n+" expected, got "+o);return i},n.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},n.inRange=d,n.aInRange=function(e,t,n,r){if(!d(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)},n.bitLen=function(e){let t;for(t=0;e>o;e>>=s,t+=1);return t},n.bitGet=function(e,t){return e>>BigInt(t)&s},n.bitSet=function(e,t,n){return e|(n?s:o)<<BigInt(t)},n.createHmacDrbg=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const i=e=>new Uint8Array(e),o=e=>Uint8Array.of(e);let s=i(e),a=i(e),c=0;const u=()=>{s.fill(1),a.fill(0),c=0},l=(...e)=>n(a,s,...e),d=(e=i(0))=>{a=l(o(0),e),s=l(),0!==e.length&&(a=l(o(1),e),s=l())},f=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){s=l();const t=s.slice();n.push(t),e+=s.length}return(0,r.concatBytes)(...n)};return(e,t)=>{u(),d(e);let n=undefined;for(;!(n=t(f()));)d();return u(),n}},n.validateObject=function(e,t,n={}){const r=(t,n,r)=>{const i=f[n];if("function"!=typeof i)throw new Error("invalid validator function");const o=e[t];if(!(r&&o===undefined||i(o,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e},n.isHash=function(e){return"function"==typeof e&&Number.isSafeInteger(e.outputLen)},n._validateObject=function(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&i===undefined)return;const o=typeof i;if(o!==n||null===i)throw new Error(`param "${t}" is invalid: expected ${n}, got ${o}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))},n.memoized=function(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==undefined)return i;const o=e(n,...r);return t.set(n,o),o}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/utils.js");var i=e("@noble/hashes/utils.js");Object.defineProperty(n,"abytes",{enumerable:!0,get:function(){return i.abytes}}),Object.defineProperty(n,"anumber",{enumerable:!0,get:function(){return i.anumber}}),Object.defineProperty(n,"bytesToHex",{enumerable:!0,get:function(){return i.bytesToHex}}),Object.defineProperty(n,"bytesToUtf8",{enumerable:!0,get:function(){return i.bytesToUtf8}}),Object.defineProperty(n,"concatBytes",{enumerable:!0,get:function(){return i.concatBytes}}),Object.defineProperty(n,"hexToBytes",{enumerable:!0,get:function(){return i.hexToBytes}}),Object.defineProperty(n,"isBytes",{enumerable:!0,get:function(){return i.isBytes}}),Object.defineProperty(n,"randomBytes",{enumerable:!0,get:function(){return i.randomBytes}}),Object.defineProperty(n,"utf8ToBytes",{enumerable:!0,get:function(){return i.utf8ToBytes}});const o=BigInt(0),s=BigInt(1);function a(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function c(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?o:BigInt("0x"+e)}function u(e,t){return(0,r.hexToBytes)(e.toString(16).padStart(2*t,"0"))}const l=e=>"bigint"==typeof e&&o<=e;function d(e,t,n){return l(e)&&l(t)&&l(n)&&t<=e&&e<n}n.bitMask=e=>(s<<BigInt(e))-s;const f={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||(0,r.isBytes)(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};n.notImplemented=()=>{throw new Error("not implemented")}}}},{package:"@noble/curves",file:"node_modules/@noble/curves/utils.js"}],[2404,{"./utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SHA512_IV=n.SHA384_IV=n.SHA224_IV=n.SHA256_IV=n.HashMD=void 0,n.setBigUint64=i,n.Chi=function(e,t,n){return e&t^~e&n},n.Maj=function(e,t,n){return e&t^e&n^t&n};const r=e("./utils.js");function i(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}class o extends r.Hash{constructor(e,t,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,r.createView)(this.buffer)}update(e){(0,r.aexists)(this),e=(0,r.toBytes)(e),(0,r.abytes)(e);const{view:t,buffer:n,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const t=(0,r.createView)(e);for(;i<=o-s;s+=i)this.process(t,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.aexists)(this),(0,r.aoutput)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,(0,r.clean)(this.buffer.subarray(a)),this.padOffset>o-a&&(this.process(n,0),a=0);for(let e=a;e<o;e++)t[e]=0;i(n,o-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,r.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.destroyed=o,e.finished=i,e.length=r,e.pos=s,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}n.HashMD=o,n.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),n.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),n.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),n.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_md.js"}],[2405,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toBig=n.shrSL=n.shrSH=n.rotrSL=n.rotrSH=n.rotrBL=n.rotrBH=n.rotr32L=n.rotr32H=n.rotlSL=n.rotlSH=n.rotlBL=n.rotlBH=n.add5L=n.add5H=n.add4L=n.add4H=n.add3L=n.add3H=void 0,n.add=y,n.fromBig=o,n.split=s;const r=BigInt(2**32-1),i=BigInt(32);function o(e,t=!1){return t?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function s(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:a}=o(e[s],t);[r[s],i[s]]=[n,a]}return[r,i]}const a=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);n.toBig=a;const c=(e,t,n)=>e>>>n;n.shrSH=c;const u=(e,t,n)=>e<<32-n|t>>>n;n.shrSL=u;const l=(e,t,n)=>e>>>n|t<<32-n;n.rotrSH=l;const d=(e,t,n)=>e<<32-n|t>>>n;n.rotrSL=d;const f=(e,t,n)=>e<<64-n|t>>>n-32;n.rotrBH=f;const h=(e,t,n)=>e>>>n-32|t<<64-n;n.rotrBL=h;const p=(e,t)=>t;n.rotr32H=p;const m=(e,t)=>e;n.rotr32L=m;const g=(e,t,n)=>e<<n|t>>>32-n;n.rotlSH=g;const _=(e,t,n)=>t<<n|e>>>32-n;n.rotlSL=_;const E=(e,t,n)=>t<<n-32|e>>>64-n;n.rotlBH=E;const b=(e,t,n)=>e<<n-32|t>>>64-n;function y(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}n.rotlBL=b;const w=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);n.add3L=w;const S=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;n.add3H=S;const T=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);n.add4L=T;const R=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;n.add4H=R;const A=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);n.add5L=A;const v=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0;n.add5H=v;const O={fromBig:o,split:s,toBig:a,shrSH:c,shrSL:u,rotrSH:l,rotrSL:d,rotrBH:f,rotrBL:h,rotr32H:p,rotr32L:m,rotlSH:g,rotlSL:_,rotlBH:E,rotlBL:b,add:y,add3L:w,add3H:S,add4L:T,add4H:R,add5H:v,add5L:A};n.default=O}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_u64.js"}],[2406,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=void 0,n.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/crypto.js"}],[2407,{"./hmac.js":2408,"./utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hkdf=void 0,n.extract=o,n.expand=c;const r=e("./hmac.js"),i=e("./utils.js");function o(e,t,n){return(0,i.ahash)(e),n===undefined&&(n=new Uint8Array(e.outputLen)),(0,r.hmac)(e,(0,i.toBytes)(n),(0,i.toBytes)(t))}const s=Uint8Array.from([0]),a=Uint8Array.of();function c(e,t,n,o=32){(0,i.ahash)(e),(0,i.anumber)(o);const c=e.outputLen;if(o>255*c)throw new Error("Length should be <= 255*HashLen");const u=Math.ceil(o/c);n===undefined&&(n=a);const l=new Uint8Array(u*c),d=r.hmac.create(e,t),f=d._cloneInto(),h=new Uint8Array(d.outputLen);for(let e=0;e<u;e++)s[0]=e+1,f.update(0===e?a:h).update(n).update(s).digestInto(h),l.set(h,c*e),d._cloneInto(f);return d.destroy(),f.destroy(),(0,i.clean)(h,s),l.slice(0,o)}n.hkdf=(e,t,n,r,i)=>c(e,o(e,t,n),r,i)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/hkdf.js"}],[2408,{"./utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hmac=n.HMAC=void 0;const r=e("./utils.js");class i extends r.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.ahash)(e);const n=(0,r.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),(0,r.clean)(o)}update(e){return(0,r.aexists)(this),this.iHash.update(e),this}digestInto(e){(0,r.aexists)(this),(0,r.abytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}n.HMAC=i;n.hmac=(e,t,n)=>new i(e,t).update(n).digest(),n.hmac.create=(e,t)=>new i(e,t)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/hmac.js"}],[2409,{"./_md.js":2404,"./utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ripemd160=n.RIPEMD160=n.md5=n.MD5=n.sha1=n.SHA1=void 0;const r=e("./_md.js"),i=e("./utils.js"),o=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),s=new Uint32Array(80);class a extends r.HashMD{constructor(){super(64,20,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4]}get(){const{A:e,B:t,C:n,D:r,E:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)s[n]=e.getUint32(t,!1);for(let e=16;e<80;e++)s[e]=(0,i.rotl)(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let{A:n,B:o,C:a,D:c,E:u}=this;for(let e=0;e<80;e++){let t,l;e<20?(t=(0,r.Chi)(o,a,c),l=1518500249):e<40?(t=o^a^c,l=1859775393):e<60?(t=(0,r.Maj)(o,a,c),l=2400959708):(t=o^a^c,l=3395469782);const d=(0,i.rotl)(n,5)+t+u+l+s[e]|0;u=c,c=a,a=(0,i.rotl)(o,30),o=n,n=d}n=n+this.A|0,o=o+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,this.set(n,o,a,c,u)}roundClean(){(0,i.clean)(s)}destroy(){this.set(0,0,0,0,0),(0,i.clean)(this.buffer)}}n.SHA1=a,n.sha1=(0,i.createHasher)(()=>new a);const c=Math.pow(2,32),u=Array.from({length:64},(e,t)=>Math.floor(c*Math.abs(Math.sin(t+1)))),l=o.slice(0,4),d=new Uint32Array(16);class f extends r.HashMD{constructor(){super(64,16,8,!0),this.A=0|l[0],this.B=0|l[1],this.C=0|l[2],this.D=0|l[3]}get(){const{A:e,B:t,C:n,D:r}=this;return[e,t,n,r]}set(e,t,n,r){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r}process(e,t){for(let n=0;n<16;n++,t+=4)d[n]=e.getUint32(t,!0);let{A:n,B:o,C:s,D:a}=this;for(let e=0;e<64;e++){let t,c,l;e<16?(t=(0,r.Chi)(o,s,a),c=e,l=[7,12,17,22]):e<32?(t=(0,r.Chi)(a,o,s),c=(5*e+1)%16,l=[5,9,14,20]):e<48?(t=o^s^a,c=(3*e+5)%16,l=[4,11,16,23]):(t=s^(o|~a),c=7*e%16,l=[6,10,15,21]),t=t+n+u[e]+d[c],n=a,a=s,s=o,o+=(0,i.rotl)(t,l[e%4])}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,a=a+this.D|0,this.set(n,o,s,a)}roundClean(){(0,i.clean)(d)}destroy(){this.set(0,0,0,0),(0,i.clean)(this.buffer)}}n.MD5=f,n.md5=(0,i.createHasher)(()=>new f);const h=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),p=(()=>Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)))(),m=(()=>p.map(e=>(9*e+5)%16))(),g=(()=>{const e=[[p],[m]];for(let t=0;t<4;t++)for(let n of e)n.push(n[t].map(e=>h[e]));return e})(),_=(()=>g[0])(),E=(()=>g[1])(),b=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),y=_.map((e,t)=>e.map(e=>b[t][e])),w=E.map((e,t)=>e.map(e=>b[t][e])),S=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),T=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function R(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const A=new Uint32Array(16);class v extends r.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)A[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,o=0|this.h1,s=o,a=0|this.h2,c=a,u=0|this.h3,l=u,d=0|this.h4,f=d;for(let e=0;e<5;e++){const t=4-e,h=S[e],p=T[e],m=_[e],g=E[e],b=y[e],v=w[e];for(let t=0;t<16;t++){const r=(0,i.rotl)(n+R(e,o,a,u)+A[m[t]]+h,b[t])+d|0;n=d,d=u,u=0|(0,i.rotl)(a,10),a=o,o=r}for(let e=0;e<16;e++){const n=(0,i.rotl)(r+R(t,s,c,l)+A[g[e]]+p,v[e])+f|0;r=f,f=l,l=0|(0,i.rotl)(c,10),c=s,s=n}}this.set(this.h1+a+l|0,this.h2+u+f|0,this.h3+d+r|0,this.h4+n+s|0,this.h0+o+c|0)}roundClean(){(0,i.clean)(A)}destroy(){this.destroyed=!0,(0,i.clean)(this.buffer),this.set(0,0,0,0,0)}}n.RIPEMD160=v,n.ripemd160=(0,i.createHasher)(()=>new v)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/legacy.js"}],[2410,{"./hmac.js":2408,"./utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pbkdf2=function(e,t,n,r){const{c:a,dkLen:c,DK:u,PRF:l,PRFSalt:d}=o(e,t,n,r);let f;const h=new Uint8Array(4),p=(0,i.createView)(h),m=new Uint8Array(l.outputLen);for(let e=1,t=0;t<c;e++,t+=l.outputLen){const n=u.subarray(t,t+l.outputLen);p.setInt32(0,e,!1),(f=d._cloneInto(f)).update(h).digestInto(m),n.set(m.subarray(0,n.length));for(let e=1;e<a;e++){l._cloneInto(f).update(m).digestInto(m);for(let e=0;e<n.length;e++)n[e]^=m[e]}}return s(l,d,u,f,m)},n.pbkdf2Async=async function(e,t,n,r){const{c:a,dkLen:c,asyncTick:u,DK:l,PRF:d,PRFSalt:f}=o(e,t,n,r);let h;const p=new Uint8Array(4),m=(0,i.createView)(p),g=new Uint8Array(d.outputLen);for(let e=1,t=0;t<c;e++,t+=d.outputLen){const n=l.subarray(t,t+d.outputLen);m.setInt32(0,e,!1),(h=f._cloneInto(h)).update(p).digestInto(g),n.set(g.subarray(0,n.length)),await(0,i.asyncLoop)(a-1,u,()=>{d._cloneInto(h).update(g).digestInto(g);for(let e=0;e<n.length;e++)n[e]^=g[e]})}return s(d,f,l,h,g)};const r=e("./hmac.js"),i=e("./utils.js");function o(e,t,n,o){(0,i.ahash)(e);const s=(0,i.checkOpts)({dkLen:32,asyncTick:10},o),{c:a,dkLen:c,asyncTick:u}=s;if((0,i.anumber)(a),(0,i.anumber)(c),(0,i.anumber)(u),a<1)throw new Error("iterations (c) should be >= 1");const l=(0,i.kdfInputToBytes)(t),d=(0,i.kdfInputToBytes)(n),f=new Uint8Array(c),h=r.hmac.create(e,l),p=h._cloneInto().update(d);return{c:a,dkLen:c,asyncTick:u,DK:f,PRF:h,PRFSalt:p}}function s(e,t,n,r,o){return e.destroy(),t.destroy(),r&&r.destroy(),(0,i.clean)(o),n}}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/pbkdf2.js"}],[2411,{"./legacy.js":2409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ripemd160=n.RIPEMD160=void 0;const r=e("./legacy.js");n.RIPEMD160=r.RIPEMD160,n.ripemd160=r.ripemd160}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/ripemd160.js"}],[2412,{"./pbkdf2.js":2410,"./sha2.js":2413,"./utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.scrypt=function(e,t,n){const{N:r,r:i,p:s,dkLen:l,blockSize32:d,V:f,B32:h,B:p,tmp:m,blockMixCb:g}=c(e,t,n);(0,o.swap32IfBE)(h);for(let e=0;e<s;e++){const t=d*e;for(let e=0;e<d;e++)f[e]=h[t+e];for(let e=0,t=0;e<r-1;e++)a(f,t,f,t+=d,i),g();a(f,(r-1)*d,h,t,i),g();for(let e=0;e<r;e++){const e=h[t+d-16]%r;for(let n=0;n<d;n++)m[n]=h[t+n]^f[e*d+n];a(m,0,h,t,i),g()}}return(0,o.swap32IfBE)(h),u(e,l,p,f,m)},n.scryptAsync=async function(e,t,n){const{N:r,r:i,p:s,dkLen:l,blockSize32:d,V:f,B32:h,B:p,tmp:m,blockMixCb:g,asyncTick:_}=c(e,t,n);(0,o.swap32IfBE)(h);for(let e=0;e<s;e++){const t=d*e;for(let e=0;e<d;e++)f[e]=h[t+e];let n=0;await(0,o.asyncLoop)(r-1,_,()=>{a(f,n,f,n+=d,i),g()}),a(f,(r-1)*d,h,t,i),g(),await(0,o.asyncLoop)(r,_,()=>{const e=h[t+d-16]%r;for(let n=0;n<d;n++)m[n]=h[t+n]^f[e*d+n];a(m,0,h,t,i),g()})}return(0,o.swap32IfBE)(h),u(e,l,p,f,m)};const r=e("./pbkdf2.js"),i=e("./sha2.js"),o=e("./utils.js");function s(e,t,n,r,i,s){let a=e[t++]^n[r++],c=e[t++]^n[r++],u=e[t++]^n[r++],l=e[t++]^n[r++],d=e[t++]^n[r++],f=e[t++]^n[r++],h=e[t++]^n[r++],p=e[t++]^n[r++],m=e[t++]^n[r++],g=e[t++]^n[r++],_=e[t++]^n[r++],E=e[t++]^n[r++],b=e[t++]^n[r++],y=e[t++]^n[r++],w=e[t++]^n[r++],S=e[t++]^n[r++],T=a,R=c,A=u,v=l,O=d,I=f,N=h,C=p,P=m,x=g,k=_,L=E,B=b,D=y,M=w,j=S;for(let e=0;e<8;e+=2)O^=(0,o.rotl)(T+B|0,7),P^=(0,o.rotl)(O+T|0,9),B^=(0,o.rotl)(P+O|0,13),T^=(0,o.rotl)(B+P|0,18),x^=(0,o.rotl)(I+R|0,7),D^=(0,o.rotl)(x+I|0,9),R^=(0,o.rotl)(D+x|0,13),I^=(0,o.rotl)(R+D|0,18),M^=(0,o.rotl)(k+N|0,7),A^=(0,o.rotl)(M+k|0,9),N^=(0,o.rotl)(A+M|0,13),k^=(0,o.rotl)(N+A|0,18),v^=(0,o.rotl)(j+L|0,7),C^=(0,o.rotl)(v+j|0,9),L^=(0,o.rotl)(C+v|0,13),j^=(0,o.rotl)(L+C|0,18),R^=(0,o.rotl)(T+v|0,7),A^=(0,o.rotl)(R+T|0,9),v^=(0,o.rotl)(A+R|0,13),T^=(0,o.rotl)(v+A|0,18),N^=(0,o.rotl)(I+O|0,7),C^=(0,o.rotl)(N+I|0,9),O^=(0,o.rotl)(C+N|0,13),I^=(0,o.rotl)(O+C|0,18),L^=(0,o.rotl)(k+x|0,7),P^=(0,o.rotl)(L+k|0,9),x^=(0,o.rotl)(P+L|0,13),k^=(0,o.rotl)(x+P|0,18),B^=(0,o.rotl)(j+M|0,7),D^=(0,o.rotl)(B+j|0,9),M^=(0,o.rotl)(D+B|0,13),j^=(0,o.rotl)(M+D|0,18);i[s++]=a+T|0,i[s++]=c+R|0,i[s++]=u+A|0,i[s++]=l+v|0,i[s++]=d+O|0,i[s++]=f+I|0,i[s++]=h+N|0,i[s++]=p+C|0,i[s++]=m+P|0,i[s++]=g+x|0,i[s++]=_+k|0,i[s++]=E+L|0,i[s++]=b+B|0,i[s++]=y+D|0,i[s++]=w+M|0,i[s++]=S+j|0}function a(e,t,n,r,i){let o=r+0,a=r+16*i;for(let r=0;r<16;r++)n[a+r]=e[t+16*(2*i-1)+r];for(let r=0;r<i;r++,o+=16,t+=16)s(n,a,e,t,n,o),r>0&&(a+=16),s(n,o,e,t+=16,n,a)}function c(e,t,n){const s=(0,o.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:a,r:c,p:u,dkLen:l,asyncTick:d,maxmem:f,onProgress:h}=s;if((0,o.anumber)(a),(0,o.anumber)(c),(0,o.anumber)(u),(0,o.anumber)(l),(0,o.anumber)(d),(0,o.anumber)(f),h!==undefined&&"function"!=typeof h)throw new Error("progressCb should be function");const p=128*c,m=p/4,g=Math.pow(2,32);if(a<=1||a&a-1||a>g)throw new Error("Scrypt: N must be larger than 1, a power of 2, and less than 2^32");if(u<0||u>32*(g-1)/p)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(l<0||l>32*(g-1))throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");if(p*(a+u)>f)throw new Error("Scrypt: memused is bigger than maxMem. Expected 128 * r * (N + p) > maxmem of "+f);const _=(0,r.pbkdf2)(i.sha256,e,t,{c:1,dkLen:p*u}),E=(0,o.u32)(_),b=(0,o.u32)(new Uint8Array(p*a)),y=(0,o.u32)(new Uint8Array(p));let w=()=>{};if(h){const e=2*a*u,t=Math.max(Math.floor(e/1e4),1);let n=0;w=()=>{n++,!h||n%t&&n!==e||h(n/e)}}return{N:a,r:c,p:u,dkLen:l,blockSize32:m,V:b,B32:E,B:_,tmp:y,blockMixCb:w,asyncTick:d}}function u(e,t,n,s,a){const c=(0,r.pbkdf2)(i.sha256,e,n,{c:1,dkLen:t});return(0,o.clean)(n,s,a),c}}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/scrypt.js"}],[2413,{"./_md.js":2404,"./_u64.js":2405,"./utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha512_224=n.sha512_256=n.sha384=n.sha512=n.sha224=n.sha256=n.SHA512_256=n.SHA512_224=n.SHA384=n.SHA512=n.SHA224=n.SHA256=void 0;const r=e("./_md.js"),i=e("./_u64.js"),o=e("./utils.js"),s=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array(64);class c extends r.HashMD{constructor(e=32){super(64,e,8,!1),this.A=0|r.SHA256_IV[0],this.B=0|r.SHA256_IV[1],this.C=0|r.SHA256_IV[2],this.D=0|r.SHA256_IV[3],this.E=0|r.SHA256_IV[4],this.F=0|r.SHA256_IV[5],this.G=0|r.SHA256_IV[6],this.H=0|r.SHA256_IV[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)a[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],n=a[e-2],r=(0,o.rotr)(t,7)^(0,o.rotr)(t,18)^t>>>3,i=(0,o.rotr)(n,17)^(0,o.rotr)(n,19)^n>>>10;a[e]=i+a[e-7]+r+a[e-16]|0}let{A:n,B:i,C:c,D:u,E:l,F:d,G:f,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,o.rotr)(l,6)^(0,o.rotr)(l,11)^(0,o.rotr)(l,25))+(0,r.Chi)(l,d,f)+s[e]+a[e]|0,p=((0,o.rotr)(n,2)^(0,o.rotr)(n,13)^(0,o.rotr)(n,22))+(0,r.Maj)(n,i,c)|0;h=f,f=d,d=l,l=u+t|0,u=c,c=i,i=n,n=t+p|0}n=n+this.A|0,i=i+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(n,i,c,u,l,d,f,h)}roundClean(){(0,o.clean)(a)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,o.clean)(this.buffer)}}n.SHA256=c;class u extends c{constructor(){super(28),this.A=0|r.SHA224_IV[0],this.B=0|r.SHA224_IV[1],this.C=0|r.SHA224_IV[2],this.D=0|r.SHA224_IV[3],this.E=0|r.SHA224_IV[4],this.F=0|r.SHA224_IV[5],this.G=0|r.SHA224_IV[6],this.H=0|r.SHA224_IV[7]}}n.SHA224=u;const l=(()=>i.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),d=(()=>l[0])(),f=(()=>l[1])(),h=new Uint32Array(80),p=new Uint32Array(80);class m extends r.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=0|r.SHA512_IV[0],this.Al=0|r.SHA512_IV[1],this.Bh=0|r.SHA512_IV[2],this.Bl=0|r.SHA512_IV[3],this.Ch=0|r.SHA512_IV[4],this.Cl=0|r.SHA512_IV[5],this.Dh=0|r.SHA512_IV[6],this.Dl=0|r.SHA512_IV[7],this.Eh=0|r.SHA512_IV[8],this.El=0|r.SHA512_IV[9],this.Fh=0|r.SHA512_IV[10],this.Fl=0|r.SHA512_IV[11],this.Gh=0|r.SHA512_IV[12],this.Gl=0|r.SHA512_IV[13],this.Hh=0|r.SHA512_IV[14],this.Hl=0|r.SHA512_IV[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:f,Gl:h,Hh:p,Hl:m}=this;return[e,t,n,r,i,o,s,a,c,u,l,d,f,h,p,m]}set(e,t,n,r,i,o,s,a,c,u,l,d,f,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)h[n]=e.getUint32(t),p[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|h[e-15],n=0|p[e-15],r=i.rotrSH(t,n,1)^i.rotrSH(t,n,8)^i.shrSH(t,n,7),o=i.rotrSL(t,n,1)^i.rotrSL(t,n,8)^i.shrSL(t,n,7),s=0|h[e-2],a=0|p[e-2],c=i.rotrSH(s,a,19)^i.rotrBH(s,a,61)^i.shrSH(s,a,6),u=i.rotrSL(s,a,19)^i.rotrBL(s,a,61)^i.shrSL(s,a,6),l=i.add4L(o,u,p[e-7],p[e-16]),d=i.add4H(l,r,c,h[e-7],h[e-16]);h[e]=0|d,p[e]=0|l}let{Ah:n,Al:r,Bh:o,Bl:s,Ch:a,Cl:c,Dh:u,Dl:l,Eh:m,El:g,Fh:_,Fl:E,Gh:b,Gl:y,Hh:w,Hl:S}=this;for(let e=0;e<80;e++){const t=i.rotrSH(m,g,14)^i.rotrSH(m,g,18)^i.rotrBH(m,g,41),T=i.rotrSL(m,g,14)^i.rotrSL(m,g,18)^i.rotrBL(m,g,41),R=m&_^~m&b,A=g&E^~g&y,v=i.add5L(S,T,A,f[e],p[e]),O=i.add5H(v,w,t,R,d[e],h[e]),I=0|v,N=i.rotrSH(n,r,28)^i.rotrBH(n,r,34)^i.rotrBH(n,r,39),C=i.rotrSL(n,r,28)^i.rotrBL(n,r,34)^i.rotrBL(n,r,39),P=n&o^n&a^o&a,x=r&s^r&c^s&c;w=0|b,S=0|y,b=0|_,y=0|E,_=0|m,E=0|g,({h:m,l:g}=i.add(0|u,0|l,0|O,0|I)),u=0|a,l=0|c,a=0|o,c=0|s,o=0|n,s=0|r;const k=i.add3L(I,C,x);n=i.add3H(k,O,N,P),r=0|k}({h:n,l:r}=i.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:s}=i.add(0|this.Bh,0|this.Bl,0|o,0|s)),({h:a,l:c}=i.add(0|this.Ch,0|this.Cl,0|a,0|c)),({h:u,l:l}=i.add(0|this.Dh,0|this.Dl,0|u,0|l)),({h:m,l:g}=i.add(0|this.Eh,0|this.El,0|m,0|g)),({h:_,l:E}=i.add(0|this.Fh,0|this.Fl,0|_,0|E)),({h:b,l:y}=i.add(0|this.Gh,0|this.Gl,0|b,0|y)),({h:w,l:S}=i.add(0|this.Hh,0|this.Hl,0|w,0|S)),this.set(n,r,o,s,a,c,u,l,m,g,_,E,b,y,w,S)}roundClean(){(0,o.clean)(h,p)}destroy(){(0,o.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}n.SHA512=m;class g extends m{constructor(){super(48),this.Ah=0|r.SHA384_IV[0],this.Al=0|r.SHA384_IV[1],this.Bh=0|r.SHA384_IV[2],this.Bl=0|r.SHA384_IV[3],this.Ch=0|r.SHA384_IV[4],this.Cl=0|r.SHA384_IV[5],this.Dh=0|r.SHA384_IV[6],this.Dl=0|r.SHA384_IV[7],this.Eh=0|r.SHA384_IV[8],this.El=0|r.SHA384_IV[9],this.Fh=0|r.SHA384_IV[10],this.Fl=0|r.SHA384_IV[11],this.Gh=0|r.SHA384_IV[12],this.Gl=0|r.SHA384_IV[13],this.Hh=0|r.SHA384_IV[14],this.Hl=0|r.SHA384_IV[15]}}n.SHA384=g;const _=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),E=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class b extends m{constructor(){super(28),this.Ah=0|_[0],this.Al=0|_[1],this.Bh=0|_[2],this.Bl=0|_[3],this.Ch=0|_[4],this.Cl=0|_[5],this.Dh=0|_[6],this.Dl=0|_[7],this.Eh=0|_[8],this.El=0|_[9],this.Fh=0|_[10],this.Fl=0|_[11],this.Gh=0|_[12],this.Gl=0|_[13],this.Hh=0|_[14],this.Hl=0|_[15]}}n.SHA512_224=b;class y extends m{constructor(){super(32),this.Ah=0|E[0],this.Al=0|E[1],this.Bh=0|E[2],this.Bl=0|E[3],this.Ch=0|E[4],this.Cl=0|E[5],this.Dh=0|E[6],this.Dl=0|E[7],this.Eh=0|E[8],this.El=0|E[9],this.Fh=0|E[10],this.Fl=0|E[11],this.Gh=0|E[12],this.Gl=0|E[13],this.Hh=0|E[14],this.Hl=0|E[15]}}n.SHA512_256=y,n.sha256=(0,o.createHasher)(()=>new c),n.sha224=(0,o.createHasher)(()=>new u),n.sha512=(0,o.createHasher)(()=>new m),n.sha384=(0,o.createHasher)(()=>new g),n.sha512_256=(0,o.createHasher)(()=>new y),n.sha512_224=(0,o.createHasher)(()=>new b)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha2.js"}],[2414,{"./sha2.js":2413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha224=n.SHA224=n.sha256=n.SHA256=void 0;const r=e("./sha2.js");n.SHA256=r.SHA256,n.sha256=r.sha256,n.SHA224=r.SHA224,n.sha224=r.sha224}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha256.js"}],[2415,{"./_u64.js":2405,"./utils.js":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shake256=n.shake128=n.keccak_512=n.keccak_384=n.keccak_256=n.keccak_224=n.sha3_512=n.sha3_384=n.sha3_256=n.sha3_224=n.Keccak=void 0,n.keccakP=b;const r=e("./_u64.js"),i=e("./utils.js"),o=BigInt(0),s=BigInt(1),a=BigInt(2),c=BigInt(7),u=BigInt(256),l=BigInt(113),d=[],f=[],h=[];for(let e=0,t=s,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],d.push(2*(5*r+n)),f.push((e+1)*(e+2)/2%64);let i=o;for(let e=0;e<7;e++)t=(t<<s^(t>>c)*l)%u,t&a&&(i^=s<<(s<<BigInt(e))-s);h.push(i)}const p=(0,r.split)(h,!0),m=p[0],g=p[1],_=(e,t,n)=>n>32?(0,r.rotlBH)(e,t,n):(0,r.rotlSH)(e,t,n),E=(e,t,n)=>n>32?(0,r.rotlBL)(e,t,n):(0,r.rotlSL)(e,t,n);function b(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,o=n[i],s=n[i+1],a=_(o,s,1)^n[r],c=E(o,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=f[n],o=_(t,i,r),s=E(t,i,r),a=d[n];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=m[r],e[1]^=g[r]}(0,i.clean)(n)}class y extends i.Hash{constructor(e,t,n,r=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=o,(0,i.anumber)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.swap32IfBE)(this.state32),b(this.state32,this.rounds),(0,i.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.aexists)(this),e=(0,i.toBytes)(e),(0,i.abytes)(e);const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const o=Math.min(t-this.pos,r-i);for(let t=0;t<o;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,i.aexists)(this,!1),(0,i.abytes)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.clean)(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new y(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}n.Keccak=y;const w=(e,t,n)=>(0,i.createHasher)(()=>new y(t,e,n));n.sha3_224=w(6,144,28),n.sha3_256=w(6,136,32),n.sha3_384=w(6,104,48),n.sha3_512=w(6,72,64),n.keccak_224=w(1,144,28),n.keccak_256=w(1,136,32),n.keccak_384=w(1,104,48),n.keccak_512=w(1,72,64);const S=(e,t,n)=>(0,i.createXOFer)((r={})=>new y(t,e,r.dkLen===undefined?n:r.dkLen,!0));n.shake128=S(31,168,16),n.shake256=S(31,136,32)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha3.js"}],[2416,{"./sha2.js":2413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha512_256=n.SHA512_256=n.sha512_224=n.SHA512_224=n.sha384=n.SHA384=n.sha512=n.SHA512=void 0;const r=e("./sha2.js");n.SHA512=r.SHA512,n.sha512=r.sha512,n.SHA384=r.SHA384,n.sha384=r.sha384,n.SHA512_224=r.SHA512_224,n.sha512_224=r.sha512_224,n.SHA512_256=r.SHA512_256,n.sha512_256=r.sha512_256}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha512.js"}],[2417,{"@noble/hashes/crypto":2406},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.wrapXOFConstructorWithOpts=n.wrapConstructorWithOpts=n.wrapConstructor=n.Hash=n.nextTick=n.swap32IfBE=n.byteSwapIfBE=n.swap8IfBE=n.isLE=void 0,n.isBytes=i,n.anumber=o,n.abytes=s,n.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");o(e.outputLen),o(e.blockLen)},n.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},n.aoutput=function(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)},n.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},n.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},n.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},n.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},n.rotr=function(e,t){return e<<32-t|e>>>t},n.rotl=function(e,t){return e<<t|e>>>32-t>>>0},n.byteSwap=a,n.byteSwap32=c,n.bytesToHex=function(e){if(s(e),u)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=l[e[n]];return t},n.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(u)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=f(e.charCodeAt(i)),o=f(e.charCodeAt(i+1));if(n===undefined||o===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+o}return r},n.asyncLoop=async function(e,t,r){let i=Date.now();for(let o=0;o<e;o++){r(o);const e=Date.now()-i;e>=0&&e<t||(await(0,n.nextTick)(),i+=e)}},n.utf8ToBytes=h,n.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},n.toBytes=p,n.kdfInputToBytes=function(e){"string"==typeof e&&(e=h(e));return s(e),e},n.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];s(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n},n.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!=={}.toString.call(t))throw new Error("options should be object or undefined");return Object.assign(e,t)},n.createHasher=m,n.createOptHasher=g,n.createXOFer=_,n.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return Uint8Array.from(r.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")};const r=e("@noble/hashes/crypto");function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function o(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function s(e,...t){if(!i(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function c(e){for(let t=0;t<e.length;t++)e[t]=a(e[t]);return e}n.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],n.swap8IfBE=n.isLE?e=>e:e=>a(e),n.byteSwapIfBE=n.swap8IfBE,n.swap32IfBE=n.isLE?e=>e:c;const u=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),l=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const d={_0:48,_9:57,A:65,F:70,a:97,f:102};function f(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function h(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=h(e)),s(e),e}n.nextTick=async()=>{};function m(e){const t=t=>e().update(p(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function g(e){const t=(t,n)=>e(n).update(p(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}function _(e){const t=(t,n)=>e(n).update(p(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}n.Hash=class{},n.wrapConstructor=m,n.wrapConstructorWithOpts=g,n.wrapXOFConstructorWithOpts=_}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/utils.js"}],[2422,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function i(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){var t=i(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function s(e){return e instanceof i(e).Element||e instanceof Element}function a(e){return e instanceof i(e).HTMLElement||e instanceof HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof i(e).ShadowRoot||e instanceof ShadowRoot)}function u(e){return e?(e.nodeName||"").toLowerCase():null}function l(e){return((s(e)?e.ownerDocument:e.document)||window.document).documentElement}function d(e){return r(l(e)).left+o(e).scrollLeft}function f(e){return i(e).getComputedStyle(e)}function h(e){var t=f(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function p(e,t,n){void 0===n&&(n=!1);var s,c,f=l(t),p=r(e),m=a(t),g={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(m||!m&&!n)&&(("body"!==u(t)||h(f))&&(g=(s=t)!==i(s)&&a(s)?{scrollLeft:(c=s).scrollLeft,scrollTop:c.scrollTop}:o(s)),a(t)?((_=r(t)).x+=t.clientLeft,_.y+=t.clientTop):f&&(_.x=d(f))),{x:p.left+g.scrollLeft-_.x,y:p.top+g.scrollTop-_.y,width:p.width,height:p.height}}function m(e){var t=r(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function g(e){return"html"===u(e)?e:e.assignedSlot||e.parentNode||(c(e)?e.host:null)||l(e)}function _(e){return["html","body","#document"].indexOf(u(e))>=0?e.ownerDocument.body:a(e)&&h(e)?e:_(g(e))}function E(e,t){var n;void 0===t&&(t=[]);var r=_(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),s=i(r),a=o?[s].concat(s.visualViewport||[],h(r)?r:[]):r,c=t.concat(a);return o?c:c.concat(E(g(a)))}function b(e){return["table","td","th"].indexOf(u(e))>=0}function y(e){return a(e)&&"fixed"!==f(e).position?e.offsetParent:null}function w(e){for(var t=i(e),n=y(e);n&&b(n)&&"static"===f(n).position;)n=y(n);return n&&("html"===u(n)||"body"===u(n)&&"static"===f(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&a(e)&&"fixed"===f(e).position)return null;for(var n=g(e);a(n)&&["html","body"].indexOf(u(n))<0;){var r=f(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}Object.defineProperty(n,"__esModule",{value:!0});var S="top",T="bottom",R="right",A="left",v="auto",O=[S,T,R,A],I="start",N="end",C="viewport",P="popper",x=O.reduce(function(e,t){return e.concat([t+"-"+I,t+"-"+N])},[]),k=[].concat(O,[v]).reduce(function(e,t){return e.concat([t,t+"-"+I,t+"-"+N])},[]),L=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function B(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||i(e)}),r}function D(e){return e.split("-")[0]}var M=Math.max,j=Math.min,U=Math.round;function F(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&c(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function H(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function G(e,t){return t===C?H(function(e){var t=i(e),n=l(e),r=t.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,c=0;return r&&(o=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,c=r.offsetTop)),{width:o,height:s,x:a+d(e),y:c}}(e)):a(t)?function(e){var t=r(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):H(function(e){var t,n=l(e),r=o(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=M(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=M(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+d(e),u=-r.scrollTop;return"rtl"===f(i||n).direction&&(c+=M(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:c,y:u}}(l(e)))}function z(e,t,n){var r="clippingParents"===t?function(e){var t=E(g(e)),n=["absolute","fixed"].indexOf(f(e).position)>=0&&a(e)?w(e):e;return s(n)?t.filter(function(e){return s(e)&&F(e,n)&&"body"!==u(e)}):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],c=i.reduce(function(t,n){var r=G(e,n);return t.top=M(r.top,t.top),t.right=j(r.right,t.right),t.bottom=j(r.bottom,t.bottom),t.left=M(r.left,t.left),t},G(e,o));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function V(e){return e.split("-")[1]}function W(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function q(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?D(i):null,s=i?V(i):null,a=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case S:t={x:a,y:n.y-r.height};break;case T:t={x:a,y:n.y+n.height};break;case R:t={x:n.x+n.width,y:c};break;case A:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var u=o?W(o):null;if(null!=u){var l="y"===u?"height":"width";switch(s){case I:t[u]=t[u]-(n[l]/2-r[l]/2);break;case N:t[u]=t[u]+(n[l]/2-r[l]/2)}}return t}function K(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function X(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function Y(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=void 0===i?e.placement:i,a=n.boundary,c=void 0===a?"clippingParents":a,u=n.rootBoundary,d=void 0===u?C:u,f=n.elementContext,h=void 0===f?P:f,p=n.altBoundary,m=void 0!==p&&p,g=n.padding,_=void 0===g?0:g,E=K("number"!=typeof _?_:X(_,O)),b=h===P?"reference":P,y=e.elements.reference,w=e.rects.popper,A=e.elements[m?b:h],v=z(s(A)?A:A.contextElement||l(e.elements.popper),c,d),I=r(y),N=q({reference:I,element:w,strategy:"absolute",placement:o}),x=H(Object.assign({},w,N)),k=h===P?x:I,L={top:v.top-k.top+E.top,bottom:k.bottom-v.bottom+E.bottom,left:v.left-k.left+E.left,right:k.right-v.right+E.right},B=e.modifiersData.offset;if(h===P&&B){var D=B[o];Object.keys(L).forEach(function(e){var t=[R,T].indexOf(e)>=0?1:-1,n=[S,T].indexOf(e)>=0?"y":"x";L[e]+=D[n]*t})}return L}var $={placement:"bottom",modifiers:[],strategy:"absolute"};function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function J(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?$:i;return function(e,t,n){void 0===n&&(n=o);var i,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},$,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],l=!1,d={state:c,setOptions:function(n){f(),c.options=Object.assign({},o,c.options,n),c.scrollParents={reference:s(e)?E(e):e.contextElement?E(e.contextElement):[],popper:E(t)};var i=function(e){var t=B(e);return L.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,c.options.modifiers)));return c.orderedModifiers=i.filter(function(e){return e.enabled}),c.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:c,name:t,instance:d,options:r}),s=function(){};u.push(o||s)}}),d.update()},forceUpdate:function(){if(!l){var e=c.elements,t=e.reference,n=e.popper;if(Q(t,n)){c.rects={reference:p(t,w(n),"fixed"===c.options.strategy),popper:m(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(e){return c.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var i=c.orderedModifiers[r],o=i.fn,s=i.options,a=void 0===s?{}:s,u=i.name;"function"==typeof o&&(c=o({state:c,options:a,name:u,instance:d})||c)}else c.reset=!1,r=-1}}},update:(i=function(){return new Promise(function(e){d.forceUpdate(),e(c)})},function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=undefined,e(i())})})),a}),destroy:function(){f(),l=!0}};if(!Q(e,t))return d;function f(){u.forEach(function(e){return e()}),u=[]}return d.setOptions(n).then(function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)}),d}}var Z={passive:!0};var ee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,s=void 0===o||o,a=r.resize,c=void 0===a||a,u=i(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&l.forEach(function(e){e.addEventListener("scroll",n.update,Z)}),c&&u.addEventListener("resize",n.update,Z),function(){s&&l.forEach(function(e){e.removeEventListener("scroll",n.update,Z)}),c&&u.removeEventListener("resize",n.update,Z)}},data:{}};var te={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function re(e){var t,n=e.popper,r=e.popperRect,o=e.placement,s=e.offsets,a=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,h=!0===d?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:U(U(t*r)/r)||0,y:U(U(n*r)/r)||0}}(s):"function"==typeof d?d(s):s,p=h.x,m=void 0===p?0:p,g=h.y,_=void 0===g?0:g,E=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),y=A,v=S,O=window;if(u){var I=w(n),N="clientHeight",C="clientWidth";I===i(n)&&"static"!==f(I=l(n)).position&&(N="scrollHeight",C="scrollWidth"),o===S&&(v=T,_-=I[N]-r.height,_*=c?1:-1),o===A&&(y=R,m-=I[C]-r.width,m*=c?1:-1)}var P,x=Object.assign({position:a},u&&ne);return c?Object.assign({},x,((P={})[v]=b?"0":"",P[y]=E?"0":"",P.transform=(O.devicePixelRatio||1)<2?"translate("+m+"px, "+_+"px)":"translate3d("+m+"px, "+_+"px, 0)",P)):Object.assign({},x,((t={})[v]=b?_+"px":"",t[y]=E?m+"px":"",t.transform="",t))}var ie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,c=void 0===a||a,u={placement:D(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,re(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,re(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var oe={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];a(i)&&u(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});a(r)&&u(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};var se={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=k.reduce(function(e,n){return e[n]=function(e,t,n){var r=D(e),i=[A,S].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[A,R].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e},{}),a=s[t.placement],c=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}},ae={left:"right",right:"left",bottom:"top",top:"bottom"};function ce(e){return e.replace(/left|right|bottom|top/g,function(e){return ae[e]})}var ue={start:"end",end:"start"};function le(e){return e.replace(/start|end/g,function(e){return ue[e]})}function de(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?k:c,l=V(r),d=l?a?x:x.filter(function(e){return V(e)===l}):O,f=d.filter(function(e){return u.indexOf(e)>=0});0===f.length&&(f=d);var h=f.reduce(function(t,n){return t[n]=Y(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[D(n)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}var fe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,u=n.padding,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,_=D(g),E=c||(_===g||!p?[ce(g)]:function(e){if(D(e)===v)return[];var t=ce(e);return[le(e),t,le(t)]}(g)),b=[g].concat(E).reduce(function(e,n){return e.concat(D(n)===v?de(t,{placement:n,boundary:l,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:m}):n)},[]),y=t.rects.reference,w=t.rects.popper,O=new Map,N=!0,C=b[0],P=0;P<b.length;P++){var x=b[P],k=D(x),L=V(x)===I,B=[S,T].indexOf(k)>=0,M=B?"width":"height",j=Y(t,{placement:x,boundary:l,rootBoundary:d,altBoundary:f,padding:u}),U=B?L?R:A:L?T:S;y[M]>w[M]&&(U=ce(U));var F=ce(U),H=[];if(o&&H.push(j[k]<=0),a&&H.push(j[U]<=0,j[F]<=0),H.every(function(e){return e})){C=x,N=!1;break}O.set(x,H)}if(N)for(var G=function(e){var t=b.find(function(t){var n=O.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return C=t,"break"},z=p?3:1;z>0;z--){if("break"===G(z))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function he(e,t,n){return M(e,j(t,n))}var pe={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,p=n.tetherOffset,g=void 0===p?0:p,_=Y(t,{boundary:c,rootBoundary:u,padding:d,altBoundary:l}),E=D(t.placement),b=V(t.placement),y=!b,v=W(E),O="x"===v?"y":"x",N=t.modifiersData.popperOffsets,C=t.rects.reference,P=t.rects.popper,x="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,k={x:0,y:0};if(N){if(o||a){var L="y"===v?S:A,B="y"===v?T:R,U="y"===v?"height":"width",F=N[v],H=N[v]+_[L],G=N[v]-_[B],z=h?-P[U]/2:0,q=b===I?C[U]:P[U],K=b===I?-P[U]:-C[U],X=t.elements.arrow,$=h&&X?m(X):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},J=Q[L],Z=Q[B],ee=he(0,C[U],$[U]),te=y?C[U]/2-z-ee-J-x:q-ee-J-x,ne=y?-C[U]/2+z+ee+Z+x:K+ee+Z+x,re=t.elements.arrow&&w(t.elements.arrow),ie=re?"y"===v?re.clientTop||0:re.clientLeft||0:0,oe=t.modifiersData.offset?t.modifiersData.offset[t.placement][v]:0,se=N[v]+te-oe-ie,ae=N[v]+ne-oe;if(o){var ce=he(h?j(H,se):H,F,h?M(G,ae):G);N[v]=ce,k[v]=ce-F}if(a){var ue="x"===v?S:A,le="x"===v?T:R,de=N[O],fe=de+_[ue],pe=de-_[le],me=he(h?j(fe,se):fe,de,h?M(pe,ae):pe);N[O]=me,k[O]=me-de}}t.modifiersData[r]=k}},requiresIfExists:["offset"]};var me={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=D(n.placement),c=W(a),u=[A,R].indexOf(a)>=0?"height":"width";if(o&&s){var l=function(e,t){return K("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:X(e,O))}(i.padding,n),d=m(o),f="y"===c?S:A,h="y"===c?T:R,p=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],g=s[c]-n.rects.reference[c],_=w(o),E=_?"y"===c?_.clientHeight||0:_.clientWidth||0:0,b=p/2-g/2,y=l[f],v=E-d[u]-l[h],I=E/2-d[u]/2+b,N=he(y,I,v),C=c;n.modifiersData[r]=((t={})[C]=N,t.centerOffset=N-I,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&F(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ge(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function _e(e){return[S,R,T,A].some(function(t){return e[t]>=0})}var Ee={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Y(t,{elementContext:"reference"}),a=Y(t,{altBoundary:!0}),c=ge(s,r),u=ge(a,i,o),l=_e(c),d=_e(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}},be=J({defaultModifiers:[ee,te,ie,oe]}),ye=[ee,te,ie,oe,se,fe,pe,me,Ee],we=J({defaultModifiers:ye});n.applyStyles=oe,n.arrow=me,n.computeStyles=ie,n.createPopper=we,n.createPopperLite=be,n.defaultModifiers=ye,n.detectOverflow=Y,n.eventListeners=ee,n.flip=fe,n.hide=Ee,n.offset=se,n.popperGenerator=J,n.popperOffsets=te,n.preventOverflow=pe}}},{package:"@popperjs/core",file:"node_modules/@popperjs/core/dist/cjs/popper.js"}],[2423,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,s){n[r]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,s(e))}})}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/aspromise",file:"node_modules/@protobufjs/aspromise/index.js"}],[2424,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,n){for(var r,o=null,s=[],a=0,c=0;t<n;){var u=e[t++];switch(c){case 0:s[a++]=i[u>>2],r=(3&u)<<4,c=1;break;case 1:s[a++]=i[r|u>>4],r=(15&u)<<2,c=2;break;case 2:s[a++]=i[r|u>>6],s[a++]=i[63&u],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=i[r],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var a="invalid encoding";r.decode=function(e,t,n){for(var r,i=n,s=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&s>1)break;if((u=o[u])===undefined)throw Error(a);switch(s){case 0:r=u,s=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,s=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,s=3;break;case 3:t[n++]=(3&r)<<6|u,s=0}}if(1===s)throw Error(a);return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/base64",file:"node_modules/@protobufjs/base64/index.js"}],[2425,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){"string"==typeof e&&(t=e,e=undefined);var n=[];function i(e){if("string"!=typeof e){var t=o();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var s=Object.keys(e),a=new Array(s.length+1),c=new Array(s.length),u=0;u<s.length;)a[u]=s[u],c[u]=e[s[u++]];return a[u]=t,Function.apply(null,a).apply(null,c)}return Function(t)()}for(var l=new Array(arguments.length-1),d=0;d<l.length;)l[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,function(e,t){var n=l[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),d!==l.length)throw Error("parameter count mismatch");return n.push(e),i}function o(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=o,i}t.exports=r,r.verbose=!1}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/codegen",file:"node_modules/@protobufjs/codegen/index.js"}],[2426,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(){this._listeners={}}t.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/eventemitter",file:"node_modules/@protobufjs/eventemitter/index.js"}],[2427,{"@protobufjs/aspromise":2423,"@protobufjs/inquire":2429},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=o;var r=e("@protobufjs/aspromise"),i=e("@protobufjs/inquire")("fs");function o(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))}):o.xhr(e,t,n):r(o,this,e,t)}o.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState)return undefined;if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/fetch",file:"node_modules/@protobufjs/fetch/index.js"}],[2428,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?s:a,e.readFloatBE=r?a:s}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,s=8388607&r;return 255===o?s?NaN:i*Infinity:0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,s),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?s:a,e.readDoubleBE=r?a:s}():function(){function t(e,t,n,r,i,o){var s=r<0?1:0;if(s&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,i,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),s=e(r,i+n),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*Infinity:0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,s,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=r(r)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/float",file:"node_modules/@protobufjs/float/index.js"}],[2429,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){try{var t=(0,eval)("quire".replace(/^/,"re"))(e);if(t&&(t.length||Object.keys(t).length))return t}catch(e){}return null}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/inquire",file:"node_modules/@protobufjs/inquire/index.js"}],[2430,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n,i=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=i(e),r="";n&&(r=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):n?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=o(t)),i(t)?t:(n||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/path",file:"node_modules/@protobufjs/path/index.js"}],[2431,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,s=r;return function(n){if(n<1||n>i)return e(n);s+n>r&&(o=e(r),s=0);var a=t.call(o,s,s+=n);return 7&s&&(s=1+(7|s)),a}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/pool",file:"node_modules/@protobufjs/pool/index.js"}],[2432,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],s=0;t<n;)(r=e[t++])<128?o[s++]=r:r>191&&r<224?o[s++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(r>>10),o[s++]=56320+(1023&r)):o[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,n){for(var r,i,o=n,s=0;s<e.length;++s)(r=e.charCodeAt(s))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&i),++s,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/utf8",file:"node_modules/@protobufjs/utf8/index.js"}],[2433,{"./redux-toolkit.cjs.development.js":2434},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./redux-toolkit.cjs.development.js")}}},{package:"@reduxjs/toolkit",file:"node_modules/@reduxjs/toolkit/dist/index.js"}],[2434,{_process:4252,immer:3883,redux:4457,"redux-thunk":4456,reselect:2436},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r,i=this&&this.__define||function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]},o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){i(this,constructor,e)}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},c=Object.create,u=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,m=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,E=function(e,t,n){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},b=function(e,t){for(var n in t||(t={}))g.call(t,n)&&E(e,n,t[n]);if(p)for(var r=0,i=p(t);r<i.length;r++){n=i[r];_.call(t,n)&&E(e,n,t[n])}return e},y=function(e,t){return l(e,f(t))},w=function(e){return u(e,"__esModule",{value:!0})},S=function(e,t,n){if(t&&"object"==typeof t||"function"==typeof t)for(var r=function(r){g.call(e,r)||"default"===r||u(e,r,{get:function(){return t[r]},enumerable:!(n=d(t,r))||n.enumerable})},i=0,o=h(t);i<o.length;i++){r(o[i])}return e},T=function(e){return S(w(u(null!=e?c(m(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},R=function(e,t,n){return new Promise(function(r,i){var o=function(e){try{a(n.next(e))}catch(e){i(e)}},s=function(e){try{a(n.throw(e))}catch(e){i(e)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())})};w(n),function(e,t){for(var n in t)u(e,n,{get:t[n],enumerable:!0})}(n,{EnhancerArray:function(){return K},MiddlewareArray:function(){return q},SHOULD_AUTOBATCH:function(){return wt},TaskAbortError:function(){return et},addListener:function(){return mt},autoBatchEnhancer:function(){return vt},clearAllListeners:function(){return gt},configureStore:function(){return de},createAction:function(){return M},createActionCreatorInvariantMiddleware:function(){return z},createAsyncThunk:function(){return Ce},createDraftSafeSelector:function(){return C},createEntityAdapter:function(){return Re},createImmutableStateInvariantMiddleware:function(){return re},createListenerMiddleware:function(){return bt},createNextState:function(){return v.default},createReducer:function(){return me},createSelector:function(){return O.createSelector},createSerializableStateInvariantMiddleware:function(){return ae},createSlice:function(){return _e},current:function(){return v.current},findNonSerializableValue:function(){return oe},freeze:function(){return v.freeze},getDefaultMiddleware:function(){return ue},getType:function(){return G},isAction:function(){return j},isActionCreator:function(){return U},isAllOf:function(){return Le},isAnyOf:function(){return ke},isAsyncThunkAction:function(){return He},isDraft:function(){return v.isDraft},isFluxStandardAction:function(){return F},isFulfilled:function(){return Fe},isImmutableDefault:function(){return Z},isPending:function(){return Me},isPlain:function(){return ie},isPlainObject:function(){return L},isRejected:function(){return je},isRejectedWithValue:function(){return Ue},miniSerializeError:function(){return Ne},nanoid:function(){return Ae},original:function(){return v.original},prepareAutoBatched:function(){return St},removeListener:function(){return _t},unwrapResult:function(){return Pe}});var A=T(e("immer"));S(n,T(e("redux")));var v=T(e("immer")),O=T(e("reselect")),I=T(e("immer")),N=T(e("reselect")),C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=N.createSelector.apply(void 0,e);return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.apply(void 0,a([(0,I.isDraft)(e)?(0,I.current)(e):e],t))}},P=T(e("redux")),x=T(e("redux")),k="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?x.compose:x.compose.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function L(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var B=T(e("redux-thunk")),D=function(e){return e&&"function"==typeof e.match};function M(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return b(b({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function j(e){return L(e)&&"type"in e}function U(e){return"function"==typeof e&&"type"in e&&D(e)}function F(e){return j(e)&&"string"==typeof e.type&&Object.keys(e).every(H)}function H(e){return["type","payload","error","meta"].indexOf(e)>-1}function G(e){return""+e}function z(e){void 0===e&&(e={});var t=e.isActionCreator,n=void 0===t?U:t;return function(){return function(e){return function(t){var r,i,o;return n(t)&&console.warn((r=t.type,i=r?(""+r).split("/"):[],o=i[i.length-1]||"actionCreator",'Detected an action creator with type "'+(r||"unknown")+"\" being dispatched. \nMake sure you're calling the action creator before dispatching, i.e. `dispatch("+o+"())` instead of `dispatch("+o+")`. This is necessary even if the action has no payload.")),e(t)}}}}var V=T(e("immer"));function W(e,t){var n=0;return{measureTime:function(e){var t=Date.now();try{return e()}finally{var r=Date.now();n+=r-t}},warnIfExceeded:function(){n>e&&console.warn(t+" took "+n+"ms, which is more than the warning threshold of "+e+"ms. \nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\nIt is disabled in production builds, so you don't need to worry about that.")}}}var q=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return o(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),i(t.prototype,"concat",function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)}),i(t.prototype,"prepend",function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,a([void 0],e[0].concat(this)))):new(t.bind.apply(t,a([void 0],e.concat(this))))}),t}(Array),K=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return o(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),i(t.prototype,"concat",function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)}),i(t.prototype,"prepend",function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,a([void 0],e[0].concat(this)))):new(t.bind.apply(t,a([void 0],e.concat(this))))}),t}(Array);function X(e){return(0,V.isDraftable)(e)?(0,V.default)(e,function(){}):e}var Y=!1,$="Invariant failed";function Q(e,t){if(!e){if(Y)throw new Error($);throw new Error($+": "+(t||""))}}function J(e,t,n,r){return JSON.stringify(e,function(e,t){var n=[],r=[];t||(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"});return function(i,o){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,Infinity,i):r.push(i),~n.indexOf(o)&&(o=t.call(this,i,o))}else n.push(o);return null==e?o:e.call(this,i,o)}}(t,r),n)}function Z(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function ee(e,t,n){var r=te(e,t,n);return{detectMutations:function(){return ne(e,t,r,n)}}}function te(e,t,n,r,i){void 0===t&&(t=[]),void 0===r&&(r=""),void 0===i&&(i=new Set);var o={value:n};if(!e(n)&&!i.has(n))for(var s in i.add(n),o.children={},n){var a=r?r+"."+s:s;t.length&&-1!==t.indexOf(a)||(o.children[s]=te(e,t,n[s],a))}return o}function ne(e,t,n,r,i,o){void 0===t&&(t=[]),void 0===i&&(i=!1),void 0===o&&(o="");var s=n?n.value:void 0,a=s===r;if(i&&!a&&!Number.isNaN(r))return{wasMutated:!0,path:o};if(e(s)||e(r))return{wasMutated:!1};var c={};for(var u in n.children)c[u]=!0;for(var u in r)c[u]=!0;var l=t.length>0,d=function(i){var s=o?o+"."+i:i;if(l&&t.some(function(e){return e instanceof RegExp?e.test(s):s===e}))return"continue";var c=ne(e,t,n.children[i],r[i],a,s);if(c.wasMutated)return{value:c}};for(var u in c){var f=d(u);if("object"==typeof f)return f.value}return{wasMutated:!1}}function re(e){void 0===e&&(e={});var t=e.isImmutable,n=void 0===t?Z:t,r=e.ignoredPaths,i=e.warnAfter,o=void 0===i?32:i,s=e.ignore;r=r||s;var a=ee.bind(null,n,r);return function(e){var t,n=e.getState,r=n(),i=a(r);return function(e){return function(s){var c=W(o,"ImmutableStateInvariantMiddleware");c.measureTime(function(){r=n(),t=i.detectMutations(),i=a(r),Q(!t.wasMutated,"A state mutation was detected between dispatches, in the path '"+(t.path||"")+"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")});var u=e(s);return c.measureTime(function(){r=n(),t=i.detectMutations(),i=a(r),t.wasMutated&&Q(!t.wasMutated,"A state mutation was detected inside a dispatch, in the path: "+(t.path||"")+". Take a look at the reducer(s) handling the action "+J(s)+". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")}),c.warnIfExceeded(),u}}}}function ie(e){var t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||L(e)}function oe(e,t,n,r,i,o){var s;if(void 0===t&&(t=""),void 0===n&&(n=ie),void 0===i&&(i=[]),!n(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e)return!1;if(null==o?void 0:o.has(e))return!1;for(var a=null!=r?r(e):Object.entries(e),c=i.length>0,u=function(e,a){var u=t?t+"."+e:e;if(c&&i.some(function(e){return e instanceof RegExp?e.test(u):u===e}))return"continue";return n(a)?"object"==typeof a&&(s=oe(a,u,n,r,i,o))?{value:s}:void 0:{value:{keyPath:u,value:a}}},l=0,d=a;l<d.length;l++){var f=d[l],h=u(f[0],f[1]);if("object"==typeof h)return h.value}return o&&se(e)&&o.add(e),!1}function se(e){if(!Object.isFrozen(e))return!1;for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if("object"==typeof r&&null!==r&&!se(r))return!1}return!0}function ae(e){void 0===e&&(e={});var t=e.isSerializable,n=void 0===t?ie:t,r=e.getEntries,i=e.ignoredActions,o=void 0===i?[]:i,s=e.ignoredActionPaths,a=void 0===s?["meta.arg","meta.baseQueryMeta"]:s,c=e.ignoredPaths,u=void 0===c?[]:c,l=e.warnAfter,d=void 0===l?32:l,f=e.ignoreState,h=void 0!==f&&f,p=e.ignoreActions,m=void 0!==p&&p,g=e.disableCache,_=!(void 0!==g&&g)&&WeakSet?new WeakSet:void 0;return function(e){return function(t){return function(i){var s=t(i),c=W(d,"SerializableStateInvariantMiddleware");return m||o.length&&-1!==o.indexOf(i.type)||c.measureTime(function(){var e=oe(i,"",n,r,a,_);if(e){var t=e.keyPath,o=e.value;console.error("A non-serializable value was detected in an action, in the path: `"+t+"`. Value:",o,"\nTake a look at the logic that dispatched this action: ",i,"\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)","\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)")}}),h||(c.measureTime(function(){var t=oe(e.getState(),"",n,r,u,_);if(t){var o=t.keyPath,s=t.value;console.error("A non-serializable value was detected in the state, in the path: `"+o+"`. Value:",s,"\nTake a look at the reducer(s) handling this action type: "+i.type+".\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)")}}),c.warnIfExceeded()),s}}}}function ce(e){return"boolean"==typeof e}function ue(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=e.immutableCheck,i=void 0===r||r,o=e.serializableCheck,s=void 0===o||o,a=e.actionCreatorCheck,c=void 0===a||a,u=new q;if(n&&(ce(n)?u.push(B.default):u.push(B.default.withExtraArgument(n.extraArgument))),i){var l={};ce(i)||(l=i),u.unshift(re(l))}if(s){var d={};ce(s)||(d=s),u.push(ae(d))}if(c){var f={};ce(c)||(f=c),u.unshift(z(f))}return u}var le=!1;function de(e){var t,n=function(e){return ue(e)},r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,c=void 0===s?n():s,u=r.devTools,l=void 0===u||u,d=r.preloadedState,f=void 0===d?void 0:d,h=r.enhancers,p=void 0===h?void 0:h;if("function"==typeof o)t=o;else{if(!L(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,P.combineReducers)(o)}var m=c;if("function"==typeof m&&(m=m(n),!le&&!Array.isArray(m)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!le&&m.some(function(e){return"function"!=typeof e}))throw new Error("each middleware provided to configureStore must be a function");var g=P.applyMiddleware.apply(void 0,m),_=P.compose;l&&(_=k(b({trace:!le},"object"==typeof l&&l)));var E=new K(g),y=E;Array.isArray(p)?y=a([g],p):"function"==typeof p&&(y=p(E));var w=_.apply(void 0,y);return(0,P.createStore)(t,f,w)}var fe=T(e("immer"));function he(e){var t,n={},r=[],i={addCase:function(e,o){if(r.length>0)throw new Error("`builder.addCase` should only be called before calling `builder.addMatcher`");if(t)throw new Error("`builder.addCase` should only be called before calling `builder.addDefaultCase`");var s="string"==typeof e?e:e.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[s]=o,i},addMatcher:function(e,n){if(t)throw new Error("`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");return r.push({matcher:e,reducer:n}),i},addDefaultCase:function(e){if(t)throw new Error("`builder.addDefaultCase` can only be called once");return t=e,i}};return e(i),[n,r,t]}var pe=!1;function me(e,t,n,r){void 0===n&&(n=[]),"object"==typeof t&&(pe||(pe=!0,console.warn("The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer")));var i,o="function"==typeof t?he(t):[t,n,r],s=o[0],c=o[1],u=o[2];if("function"==typeof e)i=function(){return X(e())};else{var l=X(e);i=function(){return l}}function d(e,t){void 0===e&&(e=i());var n=a([s[t.type]],c.filter(function(e){return(0,e.matcher)(t)}).map(function(e){return e.reducer}));return 0===n.filter(function(e){return!!e}).length&&(n=[u]),n.reduce(function(e,n){if(n){var r;if((0,fe.isDraft)(e))return void 0===(r=n(e,t))?e:r;if((0,fe.isDraftable)(e))return(0,fe.default)(e,function(e){return n(e,t)});if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e},e)}return d.getInitialState=i,d}var ge=!1;function _e(e){var n=e.name;if(!n)throw new Error("`name` is a required option for createSlice");void 0!==t&&void 0===e.initialState&&console.error("You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`");var r,i="function"==typeof e.initialState?e.initialState:X(e.initialState),o=e.reducers||{},s=Object.keys(o),a={},c={},u={};function l(){"object"==typeof e.extraReducers&&(ge||(ge=!0,console.warn("The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice")));var t="function"==typeof e.extraReducers?he(e.extraReducers):[e.extraReducers],n=t[0],r=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,a=t[2],u=void 0===a?void 0:a,l=b(b({},r),c);return me(i,function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=s;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}u&&e.addDefaultCase(u)})}return s.forEach(function(e){var t,r,i=o[e],s=n+"/"+e;"reducer"in i?(t=i.reducer,r=i.prepare):t=i,a[e]=t,c[s]=t,u[e]=r?M(s,r):M(s)}),{name:n,reducer:function(e,t){return r||(r=l()),r(e,t)},actions:u,caseReducers:a,getInitialState:function(){return r||(r=l()),r.getInitialState()}}}var Ee=T(e("immer"));function be(e){return function(t,n){var r=function(t){F(n)?e(n.payload,t):e(n,t)};return(0,Ee.isDraft)(t)?(r(t),t):(0,Ee.default)(t,r)}}function ye(e,t){var n=t(e);return void 0===n&&console.warn("The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",t.toString()),n}function we(e){return Array.isArray(e)||(e=Object.values(e)),e}function Se(e,t,n){for(var r=[],i=[],o=0,s=e=we(e);o<s.length;o++){var a=s[o],c=ye(a,t);c in n.entities?i.push({id:c,changes:a}):r.push(a)}return[r,i]}function Te(e){function t(t,n){var r=ye(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){for(var r=0,i=e=we(e);r<i.length;r++){t(i[r],n)}}function r(t,n){var r=ye(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function i(e,t){var n=!1;e.forEach(function(e){e in t.entities&&(delete t.entities[e],n=!0)}),n&&(t.ids=t.ids.filter(function(e){return e in t.entities}))}function o(t,n){var r={},i={};if(t.forEach(function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:b(b({},i[e.id]?i[e.id].changes:null),e.changes)})}),(t=Object.values(i)).length>0){var o=t.filter(function(t){return function(t,n,r){var i=r.entities[n.id],o=Object.assign({},i,n.changes),s=ye(o,e),a=s!==n.id;return a&&(t[n.id]=s,delete r.entities[n.id]),r.entities[s]=o,a}(r,t,n)}).length>0;o&&(n.ids=Object.keys(n.entities))}}function s(t,r){var i=Se(t,e,r),s=i[0];o(i[1],r),n(s,r)}return{removeAll:(a=function(e){Object.assign(e,{ids:[],entities:{}})},c=be(function(e,t){return a(t)}),function(e){return c(e,void 0)}),addOne:be(t),addMany:be(n),setOne:be(r),setMany:be(function(e,t){for(var n=0,i=e=we(e);n<i.length;n++){r(i[n],t)}}),setAll:be(function(e,t){e=we(e),t.ids=[],t.entities={},n(e,t)}),updateOne:be(function(e,t){return o([e],t)}),updateMany:be(o),upsertOne:be(function(e,t){return s([e],t)}),upsertMany:be(s),removeOne:be(function(e,t){return i([e],t)}),removeMany:be(i)};var a,c}function Re(e){void 0===e&&(e={});var t=b({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer,i={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},o={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=C(t,n,function(e,t){return e.map(function(e){return t[e]})}),i=function(e,t){return t},o=function(e,t){return e[t]},s=C(t,function(e){return e.length});if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:s,selectById:C(n,i,o)};var a=C(e,n);return{selectIds:C(e,t),selectEntities:a,selectAll:C(e,r),selectTotal:C(e,s),selectById:C(a,i,o)}}},s=r?function(e,t){var n=Te(e);function r(t,n){var r=(t=we(t)).filter(function(t){return!(ye(t,e)in n.entities)});0!==r.length&&a(r,n)}function i(e,t){0!==(e=we(e)).length&&a(e,t)}function o(t,n){for(var r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=n.entities[s.id];if(a){r=!0,Object.assign(a,s.changes);var u=e(a);s.id!==u&&(delete n.entities[s.id],n.entities[u]=a)}}r&&c(n)}function s(t,n){var i=Se(t,e,n),s=i[0];o(i[1],n),r(s,n)}function a(t,n){t.forEach(function(t){n.entities[e(t)]=t}),c(n)}function c(n){var r=Object.values(n.entities);r.sort(t);var i=r.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(n.ids,i)||(n.ids=i)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:be(function(e,t){return r([e],t)}),updateOne:be(function(e,t){return o([e],t)}),upsertOne:be(function(e,t){return s([e],t)}),setOne:be(function(e,t){return i([e],t)}),setMany:be(i),setAll:be(function(e,t){e=we(e),t.entities={},t.ids=[],r(e,t)}),addMany:be(r),updateMany:be(o),upsertMany:be(s)}}(n,r):Te(n);return b(b(b({selectId:n,sortComparer:r},i),o),s)}var Ae=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ve=["name","message","stack","code"],Oe=function(e,t){this.payload=e,this.meta=t},Ie=function(e,t){this.payload=e,this.meta=t},Ne=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,r=ve;n<r.length;n++){var i=r[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},Ce=function(){function e(e,t,n){var r=M(e+"/fulfilled",function(e,t,n,r){return{payload:e,meta:y(b({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}}),i=M(e+"/pending",function(e,t,n){return{payload:void 0,meta:y(b({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}}),o=M(e+"/rejected",function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||Ne)(e||"Rejected"),meta:y(b({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}}),a=!1,c="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){a||(a=!0,console.info("This platform does not implement AbortController. \nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'."))},e}();return Object.assign(function(e){return function(a,u,l){var d,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Ae(),h=new c;function p(e){d=e,h.abort()}var m=function(){return R(this,null,function(){var c,m,g,_,E,b;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),_=null==(c=null==n?void 0:n.condition)?void 0:c.call(n,e,{getState:u,extra:l}),null===(y=_)||"object"!=typeof y||"function"!=typeof y.then?[3,2]:[4,_];case 1:_=s.sent(),s.label=2;case 2:if(!1===_||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(e,t){return h.signal.addEventListener("abort",function(){return t({name:"AbortError",message:d||"Aborted"})})}),a(i(f,e,null==(m=null==n?void 0:n.getPendingMeta)?void 0:m.call(n,{requestId:f,arg:e},{getState:u,extra:l}))),[4,Promise.race([E,Promise.resolve(t(e,{dispatch:a,getState:u,extra:l,requestId:f,signal:h.signal,abort:p,rejectWithValue:function(e,t){return new Oe(e,t)},fulfillWithValue:function(e,t){return new Ie(e,t)}})).then(function(t){if(t instanceof Oe)throw t;return t instanceof Ie?r(t.payload,f,e,t.meta):r(t,f,e)})])];case 3:return g=s.sent(),[3,5];case 4:return b=s.sent(),g=b instanceof Oe?o(null,f,e,b.payload,b.meta):o(b,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||a(g),[2,g]}var y})})}();return Object.assign(m,{abort:p,requestId:f,arg:e,unwrap:function(){return m.then(Pe)}})}},{pending:i,rejected:o,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function Pe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var xe=function(e,t){return D(e)?e.match(t):e(t)};function ke(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some(function(e){return xe(e,t)})}}function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every(function(e){return xe(e,t)})}}function Be(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function De(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Be(e,["pending"])}:De(e)?function(t){var n=e.map(function(e){return e.pending});return ke.apply(void 0,n)(t)}:Me()(e[0])}function je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Be(e,["rejected"])}:De(e)?function(t){var n=e.map(function(e){return e.rejected});return ke.apply(void 0,n)(t)}:je()(e[0])}function Ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||De(e)?function(t){return Le(je.apply(void 0,e),n)(t)}:Ue()(e[0])}function Fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Be(e,["fulfilled"])}:De(e)?function(t){var n=e.map(function(e){return e.fulfilled});return ke.apply(void 0,n)(t)}:Fe()(e[0])}function He(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Be(e,["pending","fulfilled","rejected"])}:De(e)?function(t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];n.push(o.pending,o.rejected,o.fulfilled)}return ke.apply(void 0,n)(t)}:He()(e[0])}var Ge=function(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function")},ze=function(){},Ve=function(e,t){return void 0===t&&(t=ze),e.catch(t),e},We=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},qe=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ke="listener",Xe="completed",Ye="cancelled",$e="task-"+Ye,Qe="task-"+Xe,Je=Ke+"-"+Ye,Ze=Ke+"-"+Xe,et=function(e){this.code=e,this.name="TaskAbortError",this.message="task "+Ye+" (reason: "+e+")"},tt=function(e){if(e.aborted)throw new et(e.reason)};function nt(e,t){var n=ze;return new Promise(function(r,i){var o=function(){return i(new et(e.reason))};e.aborted?o():(n=We(e,o),t.finally(function(){return n()}).then(r,i))}).finally(function(){n=ze})}var rt=function(e){return function(t){return Ve(nt(e,t).then(function(t){return tt(e),t}))}},it=function(e){var t=rt(e);return function(e){return t(new Promise(function(t){return setTimeout(t,e)}))}},ot=Object.assign,st={},at="listenerMiddleware",ct=function(e,t){return function(n,r){Ge(n,"taskExecutor");var i,o=new AbortController;i=o,We(e,function(){return qe(i,e.reason)});var a,c,u=(a=function(){return R(void 0,null,function(){var t;return s(this,function(r){switch(r.label){case 0:return tt(e),tt(o.signal),[4,n({pause:rt(o.signal),delay:it(o.signal),signal:o.signal})];case 1:return t=r.sent(),tt(o.signal),[2,t]}})})},c=function(){return qe(o,Qe)},R(void 0,null,function(){var e;return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return t.sent(),[4,a()];case 2:return[2,{status:"ok",value:t.sent()}];case 3:return[2,{status:(e=t.sent())instanceof et?"cancelled":"rejected",error:e}];case 4:return null==c||c(),[7];case 5:return[2]}})}));return(null==r?void 0:r.autoJoin)&&t.push(u),{result:rt(e)(u),cancel:function(){qe(o,$e)}}}},ut=function(e,t){return function(n,r){return Ve(function(n,r){return R(void 0,null,function(){var i,o,a,c;return s(this,function(s){switch(s.label){case 0:tt(t),i=function(){},o=new Promise(function(t,r){var o=e({predicate:n,effect:function(e,n){n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=function(){o(),r()}}),a=[o],null!=r&&a.push(new Promise(function(e){return setTimeout(e,r,null)})),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,nt(t,Promise.race(a))];case 2:return c=s.sent(),tt(t),[2,c];case 3:return i(),[7];case 4:return[2]}})})}(n,r))}},lt=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=M(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Ge(o,"options.listener"),{predicate:i,type:t,effect:o}},dt=function(e){var t=lt(e),n=t.type,r=t.predicate,i=t.effect;return{id:Ae(),effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}},ft=function(e){e.pending.forEach(function(e){qe(e,Je)})},ht=function(e){return function(){e.forEach(ft),e.clear()}},pt=function(e,t,n){try{e(t,n)}catch(e){setTimeout(function(){throw e},0)}},mt=M(at+"/add"),gt=M(at+"/removeAll"),_t=M(at+"/remove"),Et=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,a([at+"/error"],e))};function bt(e){var t=this;void 0===e&&(e={});var n=new Map,r=e.extra,i=e.onError,o=void 0===i?Et:i;Ge(o,"onError");var a=function(e){for(var t=0,r=Array.from(n.values());t<r.length;t++){var i=r[t];if(e(i))return i}},c=function(e){var t=a(function(t){return t.effect===e.effect});return t||(t=dt(e)),function(e){return e.unsubscribe=function(){return n.delete(e.id)},n.set(e.id,e),function(t){e.unsubscribe(),(null==t?void 0:t.cancelActive)&&ft(e)}}(t)},u=function(e){var t=lt(e),n=t.type,r=t.effect,i=t.predicate,o=a(function(e){return("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r});return o&&(o.unsubscribe(),e.cancelActive&&ft(o)),!!o},l=function(e,i,a,u){return R(t,null,function(){var t,l,d,f;return s(this,function(s){switch(s.label){case 0:t=new AbortController,l=ut(c,t.signal),d=[],s.label=1;case 1:return s.trys.push([1,3,4,6]),e.pending.add(t),[4,Promise.resolve(e.effect(i,ot({},a,{getOriginalState:u,condition:function(e,t){return l(e,t).then(Boolean)},take:l,delay:it(t.signal),pause:rt(t.signal),extra:r,signal:t.signal,fork:ct(t.signal,d),unsubscribe:e.unsubscribe,subscribe:function(){n.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach(function(e,n,r){e!==t&&(qe(e,Je),r.delete(e))})}})))];case 2:return s.sent(),[3,6];case 3:return(f=s.sent())instanceof et||pt(o,f,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(d)];case 5:return s.sent(),qe(t,Ze),e.pending.delete(t),[7];case 6:return[2]}})})},d=ht(n);return{middleware:function(e){return function(t){return function(r){if(!j(r))return t(r);if(mt.match(r))return c(r.payload);if(!gt.match(r)){if(_t.match(r))return u(r.payload);var i,s=e.getState(),a=function(){if(s===st)throw new Error(at+": getOriginalState can only be called synchronously");return s};try{if(i=t(r),n.size>0)for(var f=e.getState(),h=Array.from(n.values()),p=0,m=h;p<m.length;p++){var g=m[p],_=!1;try{_=g.predicate(r,f,s)}catch(e){_=!1,pt(o,e,{raisedBy:"predicate"})}_&&l(g,r,e,a)}}finally{s=st}return i}d()}}},startListening:c,stopListening:u,clearListeners:d}}var yt,wt="RTK_autoBatch",St=function(){return function(e){var t;return{payload:e,meta:(t={},t[wt]=!0,t)}}},Tt="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis):function(e){return(yt||(yt=Promise.resolve())).then(e).catch(function(e){return setTimeout(function(){throw e},0)})},Rt=function(e){return function(t){setTimeout(t,e)}},At="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Rt(10),vt=function(e){return void 0===e&&(e={type:"raf"}),function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(void 0,n),o=!0,s=!1,a=!1,c=new Set,u="tick"===e.type?Tt:"raf"===e.type?At:"callback"===e.type?e.queueNotification:Rt(e.timeout),l=function(){a=!1,s&&(s=!1,c.forEach(function(e){return e()}))};return Object.assign({},i,{subscribe:function(e){var t=i.subscribe(function(){return o&&e()});return c.add(e),function(){t(),c.delete(e)}},dispatch:function(e){var t;try{return o=!(null==(t=null==e?void 0:e.meta)?void 0:t[wt]),(s=!o)&&(a||(a=!0,u(l))),i.dispatch(e)}finally{o=!0}}})}}};(0,A.enableES5)()}).call(this)}).call(this,e("_process"))}}},{package:"@reduxjs/toolkit",file:"node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.development.js"}],[2435,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createCacheKeyComparator=o,n.defaultEqualityCheck=void 0,n.defaultMemoize=function(e,t){var n="object"==typeof t?t:{equalityCheck:t},s=n.equalityCheck,a=void 0===s?i:s,c=n.maxSize,u=void 0===c?1:c,l=n.resultEqualityCheck,d=o(a),f=1===u?(h=d,{get:function(e){return p&&h(p.key,e)?p.value:r},put:function(e,t){p={key:e,value:t}},getEntries:function(){return p?[p]:[]},clear:function(){p=undefined}}):function(e,t){var n=[];function i(e){var i=n.findIndex(function(n){return t(e,n.key)});if(i>-1){var o=n[i];return i>0&&(n.splice(i,1),n.unshift(o)),o.value}return r}function o(t,o){i(t)===r&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())}function s(){return n}function a(){n=[]}return{get:i,put:o,getEntries:s,clear:a}}(u,d);var h,p;function m(){var t=f.get(arguments);if(t===r){if(t=e.apply(null,arguments),l){var n=f.getEntries().find(function(e){return l(e.value,t)});n&&(t=n.value)}f.put(arguments,t)}return t}return m.clearCache=function(){return f.clear()},m};var r="NOT_FOUND";var i=function(e,t){return e===t};function o(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}n.defaultEqualityCheck=i}}},{package:"@reduxjs/toolkit>reselect",file:"node_modules/@reduxjs/toolkit/node_modules/reselect/lib/defaultMemoize.js"}],[2436,{"./defaultMemoize":2435},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSelector=void 0,n.createSelectorCreator=i,n.createStructuredSelector=void 0,Object.defineProperty(n,"defaultEqualityCheck",{enumerable:!0,get:function(){return r.defaultEqualityCheck}}),Object.defineProperty(n,"defaultMemoize",{enumerable:!0,get:function(){return r.defaultMemoize}});var r=e("./defaultMemoize");function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,s=0,a={memoizeOptions:undefined},c=r.pop();if("object"==typeof c&&(a=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=a.memoizeOptions,l=void 0===u?n:u,d=Array.isArray(l)?l:[l],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),h=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(d)),p=e(function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return o=h.apply(null,e)});return Object.assign(p,{resultFunc:c,memoizedResultFunc:h,dependencies:f,lastResult:function(){return o},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),p}}var o=i(r.defaultMemoize);n.createSelector=o;n.createStructuredSelector=function(e,t){if(void 0===t&&(t=o),"object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})});return r}}}},{package:"@reduxjs/toolkit>reselect",file:"node_modules/@reduxjs/toolkit/node_modules/reselect/lib/index.js"}],[2438,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i(e,...t){if(!r(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function s(e){if("function"!=typeof e)throw new Error("function expected");return!0}function a(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function c(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function u(e){if(!Array.isArray(e))throw new Error("array expected")}function l(e,t){if(!o(!0,t))throw new Error(`${e}: array of strings expected`)}function d(e,t){if(!o(!1,t))throw new Error(`${e}: array of numbers expected`)}function f(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map(e=>e.encode).reduceRight(n,t),decode:e.map(e=>e.decode).reduce(n,t)}}function h(e){const t="string"==typeof e?e.split(""):e,n=t.length;l("alphabet",t);const r=new Map(t.map((e,t)=>[e,t]));return{encode:r=>(u(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${e}`);return t[r]})),decode:t=>(u(t),t.map(t=>{a("alphabet.decode",t);const n=r.get(t);if(n===undefined)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}function p(e=""){return a("join",e),{encode:t=>(l("join.decode",t),t.join(e)),decode:t=>(a("join.decode",t),t.split(e))}}function m(e,t="="){return c(e),a("padding",t),{encode(n){for(l("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){l("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--){if((r-1)*e%8==0)throw new Error("padding: invalid, string has too much padding")}return n.slice(0,r)}}}function g(e){return s(e),{encode:e=>e,decode:t=>e(t)}}function _(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(u(e),!e.length)return[];let r=0;const i=[],o=Array.from(e,e=>{if(c(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e}),s=o.length;for(;;){let e=0,a=!0;for(let i=r;i<s;i++){const s=o[i],c=t*e,u=c+s;if(!Number.isSafeInteger(u)||c/t!==e||u-s!==c)throw new Error("convertRadix: carry overflow");const l=u/n;e=u%n;const d=Math.floor(l);if(o[i]=d,!Number.isSafeInteger(d)||d*n+e!==u)throw new Error("convertRadix: carry overflow");a&&(d?a=!1:r=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.bytes=n.stringToBytes=n.str=n.bytesToString=n.hex=n.utf8=n.bech32m=n.bech32=n.base58check=n.createBase58check=n.base58xmr=n.base58xrp=n.base58flickr=n.base58=n.base64urlnopad=n.base64url=n.base64nopad=n.base64=n.base32crockford=n.base32hexnopad=n.base32hex=n.base32nopad=n.base32=n.base16=n.utils=void 0;const E=(e,t)=>0===t?e:E(t,e%t),b=(e,t)=>e+(t-E(e,t)),y=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function w(e,t,n,r){if(u(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(b(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${b(t,n)}`);let i=0,o=0;const s=y[t],a=y[n]-1,l=[];for(const r of e){if(c(r),r>=s)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)l.push((i>>o-n&a)>>>0);const e=y[o];if(e===undefined)throw new Error("invalid carry");i&=e-1}if(i=i<<n-o&a,!r&&o>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&l.push(i>>>0),l}function S(e){c(e);return{encode:t=>{if(!r(t))throw new Error("radix.encode input should be Uint8Array");return _(Array.from(t),256,e)},decode:t=>(d("radix.decode",t),Uint8Array.from(_(t,e,256)))}}function T(e,t=!1){if(c(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(b(8,e)>32||b(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!r(n))throw new Error("radix2.encode input should be Uint8Array");return w(Array.from(n),8,e,!t)},decode:n=>(d("radix2.decode",n),Uint8Array.from(w(n,e,8,t)))}}function R(e){return s(e),function(...t){try{return e.apply(null,t)}catch(e){}}}function A(e,t){return c(e),s(t),{encode(n){if(!r(n))throw new Error("checksum.encode: input should be Uint8Array");const i=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(i,n.length),o},decode(n){if(!r(n))throw new Error("checksum.decode: input should be Uint8Array");const i=n.slice(0,-e),o=n.slice(-e),s=t(i).slice(0,e);for(let t=0;t<e;t++)if(s[t]!==o[t])throw new Error("Invalid checksum");return i}}}n.utils={alphabet:h,chain:f,checksum:A,convertRadix:_,convertRadix2:w,radix:S,radix2:T,join:p,padding:m},n.base16=f(T(4),h("0123456789ABCDEF"),p("")),n.base32=f(T(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),m(5),p("")),n.base32nopad=f(T(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p("")),n.base32hex=f(T(5),h("0123456789ABCDEFGHIJKLMNOPQRSTUV"),m(5),p("")),n.base32hexnopad=f(T(5),h("0123456789ABCDEFGHIJKLMNOPQRSTUV"),p("")),n.base32crockford=f(T(5),h("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),p(""),g(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const v=(()=>"function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64)();n.base64=v?{encode:e=>(i(e),e.toBase64()),decode:e=>(a("base64",e),Uint8Array.fromBase64(e,{lastChunkHandling:"strict"}))}:f(T(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),m(6),p("")),n.base64nopad=f(T(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p("")),n.base64url=v?{encode:e=>(i(e),e.toBase64({alphabet:"base64url"})),decode:e=>(a("base64",e),Uint8Array.fromBase64(e,{alphabet:"base64url"}))}:f(T(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),m(6),p("")),n.base64urlnopad=f(T(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),p(""));const O=e=>f(S(58),h(e),p(""));n.base58=O("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),n.base58flickr=O("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),n.base58xrp=O("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const I=[0,2,3,5,6,7,9,10,11];n.base58xmr={encode(e){let t="";for(let r=0;r<e.length;r+=8){const i=e.subarray(r,r+8);t+=n.base58.encode(i).padStart(I[i.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){const i=e.slice(r,r+11),o=I.indexOf(i.length),s=n.base58.decode(i);for(let e=0;e<s.length-o;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(t)}};n.createBase58check=e=>f(A(4,t=>e(e(t))),n.base58),n.base58check=n.createBase58check;const N=f(h("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),p("")),C=[996825010,642813549,513874426,1027748829,705979059];function P(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<C.length;e++)1==(t>>e&1)&&(n^=C[e]);return n}function x(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=P(i)^n>>5}i=P(i);for(let t=0;t<r;t++)i=P(i)^31&e.charCodeAt(t);for(let e of t)i=P(i)^e;for(let e=0;e<6;e++)i=P(i);return i^=n,N.encode(w([i%y[30]],30,5,!1))}function k(e){const t="bech32"===e?1:734539939,n=T(5),i=n.decode,o=n.encode,s=R(i);function c(e,n,i=90){a("bech32.encode prefix",e),r(n)&&(n=Array.from(n)),d("bech32.encode",n);const o=e.length;if(0===o)throw new TypeError(`Invalid prefix length ${o}`);const s=o+7+n.length;if(!1!==i&&s>i)throw new TypeError(`Length ${s} exceeds limit ${i}`);const c=e.toLowerCase(),u=x(c,n,t);return`${c}1${N.encode(n)}${u}`}function u(e,n=90){a("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError(`invalid string length: ${r} (${e}). Expected (8..${n})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=i.lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const s=i.slice(0,o),c=i.slice(o+1);if(c.length<6)throw new Error("Data must be at least 6 characters long");const u=N.decode(c).slice(0,-6),l=x(s,u,t);if(!c.endsWith(l))throw new Error(`Invalid checksum in ${e}: expected "${l}"`);return{prefix:s,words:u}}return{encode:c,decode:u,encodeFromBytes:function(e,t){return c(e,o(t))},decodeToBytes:function(e){const{prefix:t,words:n}=u(e,!1);return{prefix:t,words:n,bytes:i(n)}},decodeUnsafe:R(u),fromWords:i,fromWordsUnsafe:s,toWords:o}}n.bech32=k("bech32"),n.bech32m=k("bech32m"),n.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};const L=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),B={encode:e=>(i(e),e.toHex()),decode:e=>(a("hex",e),Uint8Array.fromHex(e))};n.hex=L?B:f(T(4),h("0123456789abcdef"),p(""),g(e=>{if("string"!=typeof e||e.length%2!=0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const D={utf8:n.utf8,hex:n.hex,base16:n.base16,base32:n.base32,base64:n.base64,base64url:n.base64url,base58:n.base58,base58xmr:n.base58xmr},M="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";n.bytesToString=(e,t)=>{if("string"!=typeof e||!D.hasOwnProperty(e))throw new TypeError(M);if(!r(t))throw new TypeError("bytesToString() expects Uint8Array");return D[e].encode(t)},n.str=n.bytesToString;n.stringToBytes=(e,t)=>{if(!D.hasOwnProperty(e))throw new TypeError(M);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return D[e].decode(t)},n.bytes=n.stringToBytes}}},{package:"@metamask/utils>@scure/base",file:"node_modules/@scure/base/lib/index.js"}],[2440,{"@solana/assertions":2441,"@solana/codecs-core":2442,"@solana/codecs-strings":2443,"@solana/errors":2444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o=e("@solana/codecs-core"),s=e("@solana/codecs-strings"),a=e("@solana/errors"),c=e("@solana/assertions");function u(){return r||(r=s.getBase58Encoder()),r}function l(e){if(e.length<32||e.length>44)return!1;const t=u();try{return 32===t.encode(e).byteLength}catch{return!1}}function d(e){if(e.length<32||e.length>44)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE,{actualLength:e.length});const t=u().encode(e).byteLength;if(32!==t)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH,{actualLength:t})}function f(e){return d(e),e}function h(){return o.transformEncoder(o.fixEncoderSize(u(),32),e=>f(e))}function p(){return o.fixDecoderSize((i||(i=s.getBase58Decoder()),i),32)}function m(){return o.combineCodec(h(),p())}var g=57896044618658097711785492504343953926634992332820282019728792003956564819949n,_=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function E(e){const t=e%g;return t>=0n?t:g+t}function b(e,t){let n=e;for(;t-- >0n;)n*=n,n%=g;return n}function y(e,t){const n=E(t*t*t),r=function(e){const t=e*e%g*e%g,n=b(t,2n)*t%g,r=b(n,1n)*e%g,i=b(r,5n)*r%g,o=b(i,10n)*i%g,s=b(o,20n)*o%g,a=b(s,40n)*s%g,c=b(a,80n)*a%g,u=b(c,80n)*a%g,l=b(u,10n)*i%g;return b(l,2n)*e%g}(e*E(n*n*t));let i=E(e*n*r);const o=E(t*i*i),s=i,a=E(i*_),c=o===e,u=o===E(-e),l=o===E(-e*_);return c&&(i=s),(u||l)&&(i=a),1n==(1n&E(i))&&(i=E(-i)),c||u?i:null}function w(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`,"");return BigInt(`0x${t}`)}(e);return function(e,t){const n=E(e*e),r=y(E(n-1n),E(37095705934669439343138083508754565189542113879843219016388785533085940283555n*n+1n));return null!==r&&(0n!==r||!(128&t))}(t,e[31])}var S=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function T({programAddress:e,seeds:t}){if(c.assertDigestCapabilityIsAvailable(),t.length>16)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED,{actual:t.length,maxSeeds:16});let n;const r=t.reduce((e,t,r)=>{const i="string"==typeof t?(n||(n=new TextEncoder)).encode(t):t;if(i.byteLength>32)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED,{actual:i.byteLength,index:r,maxSeedLength:32});return e.push(...i),e},[]),i=m(),o=i.encode(e),s=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...o,...S])),u=new Uint8Array(s);if(w(u))throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE);return i.decode(u)}n.address=f,n.assertIsAddress=d,n.assertIsProgramDerivedAddress=function(e){if(!(Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&"number"==typeof e[1]))throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA);if(e[1]<0||e[1]>255)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE,{bump:e[1]});d(e[0])},n.createAddressWithSeed=async function({baseAddress:e,programAddress:t,seed:n}){const{encode:r,decode:i}=m(),o="string"==typeof n?(new TextEncoder).encode(n):n;if(o.byteLength>32)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED,{actual:o.byteLength,index:0,maxSeedLength:32});const s=r(t);if(s.length>=S.length&&s.slice(-S.length).every((e,t)=>e===S[t]))throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER);const c=await crypto.subtle.digest("SHA-256",new Uint8Array([...r(e),...o,...s]));return i(new Uint8Array(c))},n.getAddressCodec=m,n.getAddressComparator=function(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare},n.getAddressDecoder=p,n.getAddressEncoder=h,n.getAddressFromPublicKey=async function(e){if(c.assertKeyExporterIsAvailable(),"public"!==e.type||"Ed25519"!==e.algorithm.name)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY);const t=await crypto.subtle.exportKey("raw",e);return p().decode(new Uint8Array(t))},n.getProgramDerivedAddress=async function({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await T({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!a.isSolanaError(e,a.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE))throw e;n--}throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED)},n.isAddress=l,n.isProgramDerivedAddress=function(e){return Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&"number"==typeof e[1]&&e[1]>=0&&e[1]<=255&&l(e[0])}}}},{package:"@solana/addresses",file:"node_modules/@solana/addresses/dist/index.browser.cjs"}],[2441,{"@solana/errors":2444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=e("@solana/errors");function o(){if(!globalThis.isSecureContext)throw new i.SolanaError(i.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT)}n.assertDigestCapabilityIsAvailable=function(){var e;if(o(),void 0===globalThis.crypto||"function"!=typeof(null===(e=globalThis.crypto.subtle)||void 0===e?void 0:e.digest))throw new i.SolanaError(i.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED)},n.assertKeyExporterIsAvailable=function(){var e;if(o(),void 0===globalThis.crypto||"function"!=typeof(null===(e=globalThis.crypto.subtle)||void 0===e?void 0:e.exportKey))throw new i.SolanaError(i.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED)},n.assertKeyGenerationIsAvailable=async function(){var e;if(o(),void 0===globalThis.crypto||"function"!=typeof(null===(e=globalThis.crypto.subtle)||void 0===e?void 0:e.generateKey))throw new i.SolanaError(i.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED);if(!await async function(e){return void 0===r&&(r=new Promise(t=>{e.generateKey("Ed25519",!1,["sign","verify"]).then(()=>{t(r=!0)}).catch(()=>{t(r=!1)})})),"boolean"==typeof r?r:await r}(globalThis.crypto.subtle))throw new i.SolanaError(i.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED)},n.assertPRNGIsAvailable=function(){if(void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.getRandomValues)throw new i.SolanaError(i.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED)},n.assertSigningCapabilityIsAvailable=function(){var e;if(o(),void 0===globalThis.crypto||"function"!=typeof(null===(e=globalThis.crypto.subtle)||void 0===e?void 0:e.sign))throw new i.SolanaError(i.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED)},n.assertVerificationCapabilityIsAvailable=function(){var e;if(o(),void 0===globalThis.crypto||"function"!=typeof(null===(e=globalThis.crypto.subtle)||void 0===e?void 0:e.verify))throw new i.SolanaError(i.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED)}}}},{package:"@solana/addresses>@solana/assertions",file:"node_modules/@solana/addresses/node_modules/@solana/assertions/dist/index.browser.cjs"}],[2442,{"@solana/errors":2444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@solana/errors"),i=(e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n},o=(e,t)=>i(e.length<=t?e:e.slice(0,t),t);function s(e,t,n){const r=0===n&&e.length===t.length?e:e.slice(n,n+t.length);return r.length===t.length&&t.every((e,t)=>e===r[t])}function a(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function c(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(a(t,e));return e.write(t,n,0),n}})}function u(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function l(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0],encode:t=>{const n=new Uint8Array(a(t,e));return e.write(t,n,0),n}})}function d(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function f(e){if(!d(e))throw new r.SolanaError(r.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH)}function h(e){return!d(e)}function p(e,t){if(d(e)!==d(t))throw new r.SolanaError(r.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(d(e)&&d(t)&&e.fixedSize!==t.fixedSize)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!d(e)&&!d(t)&&e.maxSize!==t.maxSize)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function m(e,t){const n=(n,i,o)=>{const s=e.encode(n);if(_(s,t)>=0)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,{encodedBytes:s,hexEncodedBytes:E(s),hexSentinel:E(t),sentinel:t});return i.set(s,o),o+=s.length,i.set(t,o),o+=t.length};return d(e)?c({...e,fixedSize:e.fixedSize+t.length,write:n}):c({...e,...null!=e.maxSize?{maxSize:e.maxSize+t.length}:{},getSizeFromValue:n=>e.getSizeFromValue(n)+t.length,write:n})}function g(e,t){const n=(n,i)=>{const o=0===i?n:n.slice(i),s=_(o,t);if(-1===s)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,{decodedBytes:o,hexDecodedBytes:E(o),hexSentinel:E(t),sentinel:t});const a=o.slice(0,s);return[e.decode(a),i+a.length+t.length]};return d(e)?u({...e,fixedSize:e.fixedSize+t.length,read:n}):u({...e,...null!=e.maxSize?{maxSize:e.maxSize+t.length}:{},read:n})}function _(e,t){return e.findIndex((e,n,r)=>1===t.length?e===t[0]:s(r,t,n))}function E(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}function b(e,t,n,i=0){const o=n.length-i;if(o<t)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:o,codecDescription:e,expected:t})}function y(e,t,n){if(t<0||t>n)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:n,codecDescription:e,offset:t})}function w(e,t){const n=(n,r,i)=>{const o=e.encode(n);return i=t.write(o.length,r,i),r.set(o,i),i+o.length};if(d(t)&&d(e))return c({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=d(t)?t.fixedSize:t.maxSize??null,i=d(e)?e.fixedSize:e.maxSize??null,o=null!==r&&null!==i?r+i:null;return c({...e,...null!==o?{maxSize:o}:{},getSizeFromValue:n=>{const r=a(n,e);return a(r,t)+r},write:n})}function S(e,t){const n=(n,r)=>{const[i,o]=t.read(n,r),s=Number(i);return((r=o)>0||n.length>s)&&(n=n.slice(r,r+s)),b("addDecoderSizePrefix",s,n),[e.decode(n),r+s]};if(d(t)&&d(e))return u({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=d(t)?t.fixedSize:t.maxSize??null,i=d(e)?e.fixedSize:e.maxSize??null,o=null!==r&&null!==i?r+i:null;return u({...e,...null!==o?{maxSize:o}:{},read:n})}function T(e,t){return c({fixedSize:t,write:(n,r,i)=>{const o=e.encode(n),s=o.length>t?o.slice(0,t):o;return r.set(s,i),i+t}})}function R(e,t){return u({fixedSize:t,read:(n,r)=>{b("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),d(e)&&(n=o(n,e.fixedSize));const[i]=e.read(n,0);return[i,r+t]}})}function A(e,t){return c({...e,write:(n,r,i)=>{const o=e=>O(e,r.length),s=t.preOffset?t.preOffset({bytes:r,preOffset:i,wrapBytes:o}):i;y("offsetEncoder",s,r.length);const a=e.write(n,r,s),c=t.postOffset?t.postOffset({bytes:r,newPreOffset:s,postOffset:a,preOffset:i,wrapBytes:o}):a;return y("offsetEncoder",c,r.length),c}})}function v(e,t){return u({...e,read:(n,r)=>{const i=e=>O(e,n.length),o=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:i}):r;y("offsetDecoder",o,n.length);const[s,a]=e.read(n,o),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:o,postOffset:a,preOffset:r,wrapBytes:i}):a;return y("offsetDecoder",c,n.length),[s,c]}})}function O(e,t){return 0===t?0:(e%t+t)%t}function I(e,t){if(d(e)){const n=t(e.fixedSize);if(n<0)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeEncoder"});return c({...e,fixedSize:n})}return c({...e,getSizeFromValue:n=>{const i=t(e.getSizeFromValue(n));if(i<0)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:i,codecDescription:"resizeEncoder"});return i}})}function N(e,t){if(d(e)){const n=t(e.fixedSize);if(n<0)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeDecoder"});return u({...e,fixedSize:n})}return e}function C(e,t){return A(I(e,e=>e+t),{preOffset:({preOffset:e})=>e+t})}function P(e,t){return A(I(e,e=>e+t),{postOffset:({postOffset:e})=>e+t})}function x(e,t){return v(N(e,e=>e+t),{preOffset:({preOffset:e})=>e+t})}function k(e,t){return v(N(e,e=>e+t),{postOffset:({postOffset:e})=>e+t})}function L(e,t,n,r,i=0){for(;n<--r;){const o=e[n];t[n+i]=e[r],t[r+i]=o,n++}n===r&&(t[n+i]=e[n])}function B(e){return f(e),c({...e,write:(t,n,r)=>{const i=e.write(t,n,r);return L(n,n,r,r+e.fixedSize),i}})}function D(e){return f(e),u({...e,read:(t,n)=>{const r=t.slice();return L(t,r,n,n+e.fixedSize),e.read(r,n)}})}function M(e,t){return c({...h(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,i)=>e.write(t(n),r,i)})}function j(e,t){return u({...e,read:(n,r)=>{const[i,o]=e.read(n,r);return[t(i,n,r),o]}})}n.addCodecSentinel=function(e,t){return p(m(e,t),g(e,t))},n.addCodecSizePrefix=function(e,t){return p(w(e,t),S(e,t))},n.addDecoderSentinel=g,n.addDecoderSizePrefix=S,n.addEncoderSentinel=m,n.addEncoderSizePrefix=w,n.assertByteArrayHasEnoughBytesForCodec=b,n.assertByteArrayIsNotEmptyForCodec=function(e,t,n=0){if(t.length-n<=0)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:e})},n.assertByteArrayOffsetIsNotOutOfRange=y,n.assertIsFixedSize=f,n.assertIsVariableSize=function(e){if(!h(e))throw new r.SolanaError(r.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH)},n.combineCodec=p,n.containsBytes=s,n.createCodec=l,n.createDecoder=u,n.createEncoder=c,n.fixBytes=o,n.fixCodecSize=function(e,t){return p(T(e,t),R(e,t))},n.fixDecoderSize=R,n.fixEncoderSize=T,n.getEncodedSize=a,n.isFixedSize=d,n.isVariableSize=h,n.mergeBytes=e=>{const t=e.filter(e=>e.length);if(0===t.length)return e.length?e[0]:new Uint8Array;if(1===t.length)return t[0];const n=t.reduce((e,t)=>e+t.length,0),r=new Uint8Array(n);let i=0;return t.forEach(e=>{r.set(e,i),i+=e.length}),r},n.offsetCodec=function(e,t){return p(A(e,t),v(e,t))},n.offsetDecoder=v,n.offsetEncoder=A,n.padBytes=i,n.padLeftCodec=function(e,t){return p(C(e,t),x(e,t))},n.padLeftDecoder=x,n.padLeftEncoder=C,n.padRightCodec=function(e,t){return p(P(e,t),k(e,t))},n.padRightDecoder=k,n.padRightEncoder=P,n.resizeCodec=function(e,t){return p(I(e,t),N(e,t))},n.resizeDecoder=N,n.resizeEncoder=I,n.reverseCodec=function(e){return p(B(e),D(e))},n.reverseDecoder=D,n.reverseEncoder=B,n.transformCodec=function(e,t,n){return l({...M(e,t),read:n?j(e,n).read:e.read})},n.transformDecoder=j,n.transformEncoder=M}}},{package:"@solana/addresses>@solana/codecs-core",file:"node_modules/@solana/addresses/node_modules/@solana/codecs-core/dist/index.browser.cjs"}],[2443,{"@solana/codecs-core":2442,"@solana/errors":2444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@solana/errors"),i=e("@solana/codecs-core");function o(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:e,base:e.length,value:n})}var s=e=>i.createEncoder({getSizeFromValue:t=>{const[n,r]=u(t,e[0]);if(!r)return t.length;const i=l(r,e);return n.length+Math.ceil(i.toString(16).length/2)},write(t,n,r){if(o(e,t),""===t)return r;const[i,s]=u(t,e[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=l(s,e);const c=[];for(;a>0n;)c.unshift(Number(a%256n)),a/=256n;const d=[...Array(i.length).fill(0),...c];return n.set(d,r),r+d.length}}),a=e=>i.createDecoder({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let i=r.findIndex(e=>0!==e);i=-1===i?r.length:i;const o=e[0].repeat(i);if(i===r.length)return[o,t.length];const s=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(i).reduce((e,t)=>256n*e+BigInt(t),0n),e);return[o+s,t.length]}}),c=e=>i.combineCodec(s(e),a(e));function u(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function l(e,t){const n=BigInt(t.length);let r=0n;for(const i of e)r*=n,r+=BigInt(t.indexOf(i));return r}var d="0123456789",f={alphabet:"0123456789abcdef",base:16};function h(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}var p=()=>i.createEncoder({getSizeFromValue:e=>Math.ceil(e.length/2),write(e,t,n){const i=e.length,o=i/2;if(1===i){const i=h(e.charCodeAt(0));if(void 0===i)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{...f,value:e});return t.set([i],n),1+n}const s=new Uint8Array(o);for(let t=0,n=0;t<o;t++){const i=e.charCodeAt(n++),o=e.charCodeAt(n++),a=h(i),c=h(o);if(void 0===a||void 0===c&&!Number.isNaN(o))throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{...f,value:e});s[t]=Number.isNaN(o)?a:a<<4|(c??0)}return t.set(s,n),s.length+n}}),m=()=>i.createDecoder({read:(e,t)=>[e.slice(t).reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),e.length]}),g="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",_=(e,t)=>i.createEncoder({getSizeFromValue:e=>Math.floor(e.length*t/8),write(n,r,i){if(o(e,n),""===n)return i;const s=b([...n].map(t=>e.indexOf(t)),t,8,!1);return r.set(s,i),s.length+i}}),E=(e,t)=>i.createDecoder({read(n,r=0){const i=0===r?n:n.slice(r);if(0===i.length)return["",n.length];return[b([...i],8,t,!0).map(t=>e[t]).join(""),n.length]}});function b(e,t,n,r){const i=[];let o=0,s=0;const a=(1<<n)-1;for(const r of e)for(o=o<<t|r,s+=t;s>=n;)s-=n,i.push(o>>s&a);return r&&s>0&&i.push(o<<n-s&a),i}var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=()=>i.createEncoder({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:y,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split("").map(e=>e.charCodeAt(0));return t.set(r,n),r.length+n}catch{throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:y,base:64,value:e})}}}),S=()=>i.createDecoder({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),T=e=>e.replace(/\u0000/g,""),R=globalThis.TextDecoder,A=globalThis.TextEncoder,v=()=>{let e;return i.createEncoder({getSizeFromValue:t=>(e||(e=new A)).encode(t).length,write:(t,n,r)=>{const i=(e||(e=new A)).encode(t);return n.set(i,r),r+i.length}})},O=()=>{let e;return i.createDecoder({read(t,n){const r=(e||(e=new R)).decode(t.slice(n));return[T(r),t.length]}})};n.assertValidBaseString=o,n.getBase10Codec=()=>c(d),n.getBase10Decoder=()=>a(d),n.getBase10Encoder=()=>s(d),n.getBase16Codec=()=>i.combineCodec(p(),m()),n.getBase16Decoder=m,n.getBase16Encoder=p,n.getBase58Codec=()=>c(g),n.getBase58Decoder=()=>a(g),n.getBase58Encoder=()=>s(g),n.getBase64Codec=()=>i.combineCodec(w(),S()),n.getBase64Decoder=S,n.getBase64Encoder=w,n.getBaseXCodec=c,n.getBaseXDecoder=a,n.getBaseXEncoder=s,n.getBaseXResliceCodec=(e,t)=>i.combineCodec(_(e,t),E(e,t)),n.getBaseXResliceDecoder=E,n.getBaseXResliceEncoder=_,n.getUtf8Codec=()=>i.combineCodec(v(),O()),n.getUtf8Decoder=O,n.getUtf8Encoder=v,n.padNullCharacters=(e,t)=>e.padEnd(t,"\0"),n.removeNullCharacters=T}}},{package:"@solana/addresses>@solana/codecs-strings",file:"node_modules/@solana/addresses/node_modules/@solana/codecs-strings/dist/index.browser.cjs"}],[2444,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=-32700,o=-32603,s=-32602,a=-32601,c=-32600,u=-32016,l=-32015,d=-32014,f=-32013,h=-32012,p=-32011,m=-32010,g=-32009,_=-32008,E=-32007,b=-32006,y=-32005,w=-32004,S=-32003,T=-32002,R=-32001,A=28e5,v=2800001,O=2800002,I=2800003,N=2800004,C=2800005,P=2800006,x=2800007,k=2800008,L=2800009,B=2800010,D=323e4,M=32300001,j=3230002,U=3230003,F=3230004,H=361e4,G=3610001,z=3610002,V=3610003,W=3610004,q=3610005,K=3610006,X=3610007,Y=3611e3,$=3704e3,Q=3704001,J=3704002,Z=3704003,ee=3704004,te=4128e3,ne=4128001,re=4128002,ie=4615e3,oe=4615001,se=4615002,ae=4615003,ce=4615004,ue=4615005,le=4615006,de=4615007,fe=4615008,he=4615009,pe=4615010,me=4615011,ge=4615012,_e=4615013,Ee=4615014,be=4615015,ye=4615016,we=4615017,Se=4615018,Te=4615019,Re=4615020,Ae=4615021,ve=4615022,Oe=4615023,Ie=4615024,Ne=4615025,Ce=4615026,Pe=4615027,xe=4615028,ke=4615029,Le=4615030,Be=4615031,De=4615032,Me=4615033,je=4615034,Ue=4615035,Fe=4615036,He=4615037,Ge=4615038,ze=4615039,Ve=4615040,We=4615041,qe=4615042,Ke=4615043,Xe=4615044,Ye=4615045,$e=4615046,Qe=4615047,Je=4615048,Ze=4615049,et=4615050,tt=4615051,nt=4615052,rt=4615053,it=4615054,ot=5508e3,st=5508001,at=5508002,ct=5508003,ut=5508004,lt=5508005,dt=5508006,ft=5508007,ht=5508008,pt=5508009,mt=5508010,gt=5508011,_t=5663e3,Et=5663001,bt=5663002,yt=5663003,wt=5663004,St=5663005,Tt=5663006,Rt=5663007,At=5663008,vt=5663009,Ot=5663010,It=5663011,Nt=5663012,Ct=5663013,Pt=5663014,xt=5663015,kt=5663016,Lt=5663017,Bt=5663018,Dt=5663019,Mt=705e4,jt=7050001,Ut=7050002,Ft=7050003,Ht=7050004,Gt=7050005,zt=7050006,Vt=7050007,Wt=7050008,qt=7050009,Kt=7050010,Xt=7050011,Yt=7050012,$t=7050013,Qt=7050014,Jt=7050015,Zt=7050016,en=7050017,tn=7050018,nn=7050019,rn=7050020,on=7050021,sn=7050022,an=7050023,cn=7050024,un=7050025,ln=7050026,dn=7050027,fn=7050028,hn=7050029,pn=7050030,mn=7050031,gn=7050032,_n=7050033,En=7050034,bn=7050035,yn=7050036,wn=8078e3,Sn=8078001,Tn=8078002,Rn=8078003,An=8078004,vn=8078005,On=8078006,In=8078007,Nn=8078008,Cn=8078009,Pn=8078010,xn=8078011,kn=8078012,Ln=8078013,Bn=8078014,Dn=8078015,Mn=8078016,jn=8078017,Un=8078018,Fn=8078019,Hn=8078020,Gn=8078021,zn=8078022,Vn=81e5,Wn=8100001,qn=8100002,Kn=8100003,Xn=819e4,Yn=8190001,$n=8190002,Qn=8190003,Jn=8190004,Zn=99e5,er=9900001,tr=9900002,nr=9900003,rr=9900004;function ir(e){if(Array.isArray(e)){return"%5B"+e.map(ir).join("%2C%20")+"%5D"}return"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function or([e,t]){return`${e}=${ir(t)}`}function sr(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(or).join("&");return btoa(t)}(t)}'`),`${n}\``}}var ar=class extends Error{constructor(...[e,t]){let n,i;if(t){const{cause:e,...r}=t;e&&(i={cause:e}),Object.keys(r).length>0&&(n=r)}super(sr(e,n),i),r(this,"cause",this.cause),r(this,"context",void 0),this.context={__code:e,...n},this.name="SolanaError"}};function cr(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function ur({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},i){let o,s;"string"==typeof r?o=r:(o=Object.keys(r)[0],s=r[o]);const a=e+n.indexOf(o),c=t(a,o,s),u=new ar(a,c);return cr(u,i),u}var lr=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function dr(e,t){const n=Number(e);return ur({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===ie?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===Ce?{code:Number(r),index:n}:e===Ye?{encodedData:r,index:n}:{index:n},orderedErrorNames:lr,rpcEnumError:t},dr)}var fr=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function hr(e){return"object"==typeof e&&"InstructionError"in e?dr(...e.InstructionError):ur({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===Mt?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===pn?{index:Number(n)}:e===mn||e===bn?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:fr,rpcEnumError:e},hr)}n.SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND=D,n.SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED=F,n.SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT=U,n.SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT=j,n.SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND=M,n.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED=L,n.SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS=O,n.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH=A,n.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY=I,n.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE=k,n.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA=N,n.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED=P,n.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED=x,n.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE=C,n.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER=B,n.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE=v,n.SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE=4,n.SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED=1,n.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=wn,n.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS=zn,n.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL=Hn,n.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=vn,n.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=On,n.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=An,n.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE=Nn,n.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=Tn,n.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH=Ln,n.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH=Rn,n.SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE=Fn,n.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=Sn,n.SOLANA_ERROR__CODECS__INVALID_CONSTANT=Un,n.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=Cn,n.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT=Pn,n.SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT=Dn,n.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=In,n.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE=kn,n.SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE=Mn,n.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=xn,n.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE=Bn,n.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES=Gn,n.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=jn,n.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED=Y,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED=he,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED=Oe,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=Ie,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED=Ae,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL=ue,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE=ve,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT=$e,n.SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW=Je,n.SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR=Ye,n.SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS=it,n.SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH=De,n.SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED=Ge,n.SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM=Ce,n.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX=we,n.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC=Ne,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT=Le,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED=xe,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE=ke,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED=Se,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED=Ee,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND=_e,n.SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR=oe,n.SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER=et,n.SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE=Ke,n.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY=Xe,n.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID=de,n.SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS=le,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA=ce,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER=Qe,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT=se,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR=Pe,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA=ae,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC=He,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS=Fe,n.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED=tt,n.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED=nt,n.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED=rt,n.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED=Ue,n.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT=Me,n.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE=fe,n.SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID=ge,n.SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS=Re,n.SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION=ze,n.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE=Ve,n.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE=qe,n.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE=We,n.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED=ye,n.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE=be,n.SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED=je,n.SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED=Te,n.SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION=me,n.SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT=pe,n.SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN=ie,n.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID=Be,n.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR=Ze,n.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS=te,n.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA=ne,n.SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH=re,n.SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH=5,n.SOLANA_ERROR__INVALID_NONCE=2,n.SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING=tr,n.SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED=rr,n.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE=er,n.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING=Zn,n.SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE=nr,n.SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR=o,n.SOLANA_ERROR__JSON_RPC__INVALID_PARAMS=s,n.SOLANA_ERROR__JSON_RPC__INVALID_REQUEST=c,n.SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND=a,n.SOLANA_ERROR__JSON_RPC__PARSE_ERROR=i,n.SOLANA_ERROR__JSON_RPC__SCAN_ERROR=h,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP=R,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE=w,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET=d,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX=m,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED=g,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED=u,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY=y,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT=_,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE=T,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED=E,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE=p,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE=b,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH=f,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE=S,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION=l,n.SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH=$,n.SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH=Q,n.SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH=J,n.SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY=ee,n.SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE=Z,n.SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE=6,n.SOLANA_ERROR__MALFORMED_BIGINT_STRING=7,n.SOLANA_ERROR__MALFORMED_NUMBER_STRING=8,n.SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND=3,n.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN=Xn,n.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED=$n,n.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED=Qn,n.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT=Jn,n.SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID=Yn,n.SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD=Kn,n.SOLANA_ERROR__RPC__INTEGER_OVERFLOW=Vn,n.SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR=qn,n.SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN=Wn,n.SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS=ot,n.SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER=st,n.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER=ct,n.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER=ut,n.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER=at,n.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER=dt,n.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER=ft,n.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER=ht,n.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER=lt,n.SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS=pt,n.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING=mt,n.SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED=gt,n.SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY=X,n.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED=G,n.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT=H,n.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED=z,n.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED=V,n.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED=W,n.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED=q,n.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED=K,n.SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE=9,n.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=Zt,n.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE=jt,n.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE=Ut,n.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND=Ft,n.SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND=an,n.SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED=Vt,n.SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND=Wt,n.SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP=qt,n.SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE=Jt,n.SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION=pn,n.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE=Gt,n.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT=mn,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE=zt,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX=Xt,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA=un,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX=ln,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER=cn,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT=_n,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION=$t,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT=dn,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT=nn,n.SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED=gn,n.SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE=Kt,n.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND=Ht,n.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED=bn,n.SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED=En,n.SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE=Qt,n.SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE=Yt,n.SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS=sn,n.SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION=yn,n.SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN=Mt,n.SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION=tn,n.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT=on,n.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT=hn,n.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT=rn,n.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT=en,n.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT=fn,n.SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION=xt,n.SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING=Ot,n.SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES=kt,n.SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME=bt,n.SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME=yt,n.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING=St,n.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE=Tt,n.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING=At,n.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND=Rt,n.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT=Bt,n.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT=Dt,n.SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING=It,n.SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING=Nt,n.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE=Pt,n.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING=Ct,n.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES=_t,n.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE=Et,n.SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH=Lt,n.SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING=vt,n.SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE=wt,n.SolanaError=ar,n.getSolanaErrorFromInstructionError=dr,n.getSolanaErrorFromJsonRpcError=function e({code:t,data:n,message:r}){let u;const f=Number(t);if(f===T){const{err:e,...t}=n,r=e?{cause:hr(e)}:null;u=new ar(T,{...t,...r})}else{let e;switch(f){case o:case s:case c:case a:case i:case h:case R:case w:case d:case m:case g:case E:case b:case l:e={__serverMessage:r};break;default:"object"!=typeof n||Array.isArray(n)||(e=n)}u=new ar(f,e)}return cr(u,e),u},n.getSolanaErrorFromTransactionError=hr,n.isSolanaError=function(e,t){return!!(e instanceof Error&&"SolanaError"===e.name)&&(void 0===t||e.context.__code===t)},n.safeCaptureStackTrace=cr}}},{package:"@solana/addresses>@solana/errors",file:"node_modules/@solana/addresses/node_modules/@solana/errors/dist/index.browser.cjs"}],[2445,{"./utils":2447,"apg-js/src/apg-api/api":3102,"apg-js/src/apg-lib/node-exports":3120},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParsedMessage=void 0;const o=i(e("apg-js/src/apg-api/api")),s=i(e("apg-js/src/apg-lib/node-exports")),a=e("./utils");class c{static generateApi(){const e=new o.default('\nsign-in-with-ethereum =\n    [ scheme "://" ] domain %s" wants you to sign in with your Ethereum account:" LF\n    address LF\n    LF\n    [ statement LF ]\n    LF\n    %s"URI: " URI LF\n    %s"Version: " version LF\n    %s"Chain ID: " chain-id LF\n    %s"Nonce: " nonce LF\n    %s"Issued At: " issued-at\n    [ LF %s"Expiration Time: " expiration-time ]\n    [ LF %s"Not Before: " not-before ]\n    [ LF %s"Request ID: " request-id ]\n    [ LF %s"Resources:"\n    resources ]\n\ndomain = authority\n\naddress = "0x" 40*40HEXDIG\n    ; Must also conform to captilization\n    ; checksum encoding specified in EIP-55\n    ; where applicable (EOAs).\n\nstatement = 1*( reserved / unreserved / " " )\n    ; The purpose is to exclude LF (line breaks).\n\nversion = "1"\n\nnonce = 8*( ALPHA / DIGIT )\n\nissued-at = date-time\nexpiration-time = date-time\nnot-before = date-time\n\nrequest-id = *pchar\n\nchain-id = 1*DIGIT\n    ; See EIP-155 for valid CHAIN_IDs.\n\nresources = *( LF resource )\n\nresource = "- " URI\n\n; ------------------------------------------------------------------------------\n; RFC 3986\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n                 / %x31-39 DIGIT         ; 10-99\n                 / "1" 2DIGIT            ; 100-199\n                 / "2" %x30-34 DIGIT     ; 200-249\n                 / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n\n; ------------------------------------------------------------------------------\n; RFC 3339\n\ndate-fullyear   = 4DIGIT\ndate-month      = 2DIGIT  ; 01-12\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\ntime-hour       = 2DIGIT  ; 00-23\ntime-minute     = 2DIGIT  ; 00-59\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\ntime-secfrac    = "." 1*DIGIT\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\nfull-date       = date-fullyear "-" date-month "-" date-mday\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n\n; ------------------------------------------------------------------------------\n; RFC 5234\n\nALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z\nLF             =  %x0A\n                  ; linefeed\nDIGIT          =  %x30-39\n                  ; 0-9\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n');if(e.generate(),e.errors.length)throw console.error(e.errorsToAscii()),console.error(e.linesToAscii()),console.log(e.displayAttributeErrors()),new Error("ABNF grammar has errors");return e.toObject()}}r=c,c.grammarObj=r.generateApi();n.ParsedMessage=class{constructor(e){const t=new s.default.parser;t.ast=new s.default.ast;const n=s.default.ids;t.ast.callbacks.scheme=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&0===r&&(o.scheme=s.default.utils.charsToString(t,r,i)),a};t.ast.callbacks.domain=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.domain=s.default.utils.charsToString(t,r,i)),a};t.ast.callbacks.address=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.address=s.default.utils.charsToString(t,r,i)),a};t.ast.callbacks.statement=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.statement=s.default.utils.charsToString(t,r,i)),a};t.ast.callbacks.uri=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.uri||(o.uri=s.default.utils.charsToString(t,r,i))),a};t.ast.callbacks.version=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.version=s.default.utils.charsToString(t,r,i)),a};t.ast.callbacks["chain-id"]=function(e,t,r,i,o){const c=n.SEM_OK;return e===n.SEM_PRE&&(o.chainId=(0,a.parseIntegerNumber)(s.default.utils.charsToString(t,r,i))),c};t.ast.callbacks.nonce=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.nonce=s.default.utils.charsToString(t,r,i)),a};t.ast.callbacks["issued-at"]=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.issuedAt=s.default.utils.charsToString(t,r,i)),a};t.ast.callbacks["expiration-time"]=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.expirationTime=s.default.utils.charsToString(t,r,i)),a};t.ast.callbacks["not-before"]=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.notBefore=s.default.utils.charsToString(t,r,i)),a};t.ast.callbacks["request-id"]=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.requestId=s.default.utils.charsToString(t,r,i)),a};t.ast.callbacks.resources=function(e,t,r,i,o){const a=n.SEM_OK;return e===n.SEM_PRE&&(o.resources=s.default.utils.charsToString(t,r,i).slice(3).split("\n- ")),a};const r=t.parse(c.grammarObj,"sign-in-with-ethereum",e);if(!r.success)throw new Error(`Invalid message: ${JSON.stringify(r)}`);const i={};t.ast.translate(i);for(const[e,t]of Object.entries(i))this[e]=t;if(0===this.domain.length)throw new Error("Domain cannot be empty.")}}}}},{package:"@metamask/controller-utils>@spruceid/siwe-parser",file:"node_modules/@spruceid/siwe-parser/dist/abnf.js"}],[2446,{"./abnf":2445,"./utils":2447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.ParsedMessage=void 0;const o=e("./abnf");Object.defineProperty(n,"ParsedMessage",{enumerable:!0,get:function(){return o.ParsedMessage}}),i(e("./utils"),n)}}},{package:"@metamask/controller-utils>@spruceid/siwe-parser",file:"node_modules/@spruceid/siwe-parser/dist/parsers.js"}],[2447,{"@noble/hashes/sha3":2415,"@noble/hashes/utils":2417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseIntegerNumber=n.isEIP55Address=void 0;const r=e("@noble/hashes/sha3"),i=e("@noble/hashes/utils");n.isEIP55Address=e=>{if(42!=e.length)return!1;const t=`${e}`.toLowerCase().replace("0x",""),n=(0,i.bytesToHex)((0,r.keccak_256)(t));let o="0x";for(let e=0;e<t.length;e++)parseInt(n[e],16)>=8?o+=t[e].toUpperCase():o+=t[e];return e===o};n.parseIntegerNumber=e=>{const t=parseInt(e);if(isNaN(t))throw new Error("Invalid number.");if(t===Infinity)throw new Error("Invalid number.");return t}}}},{package:"@metamask/controller-utils>@spruceid/siwe-parser",file:"node_modules/@spruceid/siwe-parser/dist/utils.js"}],[2448,{"@stablelib/int":2449},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("@stablelib/int");function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function l(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),l(e/4294967296>>>0,t,n),l(e>>>0,t,n+4),t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),d(e>>>0,t,n),d(e/4294967296>>>0,t,n+4),t}n.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},n.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},n.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},n.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},n.writeUint16BE=i,n.writeInt16BE=i,n.writeUint16LE=o,n.writeInt16LE=o,n.readInt32BE=s,n.readUint32BE=a,n.readInt32LE=c,n.readUint32LE=u,n.writeUint32BE=l,n.writeInt32BE=l,n.writeUint32LE=d,n.writeInt32LE=d,n.readInt64BE=function(e,t){void 0===t&&(t=0);var n=s(e,t),r=s(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},n.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},n.readInt64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n-4294967296*(n>>31)},n.readUint64LE=function(e,t){void 0===t&&(t=0);var n=u(e,t);return 4294967296*u(e,t+4)+n},n.writeUint64BE=f,n.writeInt64BE=f,n.writeUint64LE=h,n.writeInt64LE=h,n.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,o=e/8+n-1;o>=n;o--)r+=t[o]*i,i*=256;return r},n.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,o=n;o<n+e/8;o++)r+=t[o]*i,i*=256;return r},n.writeUintBE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,s=e/8+i-1;s>=i;s--)n[s]=t/o&255,o*=256;return n},n.writeUintLE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+e/8;s++)n[s]=t/o&255,o*=256;return n},n.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},n.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},n.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},n.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},n.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},n.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},n.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},n.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random>@stablelib/binary",file:"node_modules/@stablelib/binary/lib/binary.js"}],[2449,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},n.add=function(e,t){return e+t|0},n.sub=function(e,t){return e-t|0},n.rotl=function(e,t){return e<<t|e>>>32-t},n.rotr=function(e,t){return e<<32-t|e>>>t},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.MAX_SAFE_INTEGER=9007199254740991,n.isSafeInteger=function(e){return n.isInteger(e)&&e>=-n.MAX_SAFE_INTEGER&&e<=n.MAX_SAFE_INTEGER}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random>@stablelib/binary>@stablelib/int",file:"node_modules/@stablelib/int/lib/int.js"}],[2450,{"./source/system":2453,"@stablelib/binary":2448,"@stablelib/wipe":2454},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.randomStringForEntropy=n.randomString=n.randomUint32=n.randomBytes=n.defaultRandomSource=void 0;const r=e("./source/system"),i=e("@stablelib/binary"),o=e("@stablelib/wipe");function s(e,t=n.defaultRandomSource){return t.randomBytes(e)}n.defaultRandomSource=new r.SystemRandomSource,n.randomBytes=s,n.randomUint32=function(e=n.defaultRandomSource){const t=s(4,e),r=(0,i.readUint32LE)(t);return(0,o.wipe)(t),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,t=a,r=n.defaultRandomSource){if(t.length<2)throw new Error("randomString charset is too short");if(t.length>256)throw new Error("randomString charset is too long");let i="";const c=t.length,u=256-256%c;for(;e>0;){const n=s(Math.ceil(256*e/u),r);for(let r=0;r<n.length&&e>0;r++){const o=n[r];o<u&&(i+=t.charAt(o%c),e--)}(0,o.wipe)(n)}return i}n.randomString=c,n.randomStringForEntropy=function(e,t=a,r=n.defaultRandomSource){return c(Math.ceil(e/(Math.log(t.length)/Math.LN2)),t,r)}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random",file:"node_modules/@stablelib/random/lib/random.js"}],[2451,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BrowserRandomSource=void 0;n.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==undefined&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random",file:"node_modules/@stablelib/random/lib/source/browser.js"}],[2452,{"@stablelib/wipe":2454,crypto:3270},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NodeRandomSource=void 0;const r=e("@stablelib/wipe");n.NodeRandomSource=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,void 0!==e){const t=e("crypto");t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let e=0;e<n.length;e++)n[e]=t[e];return(0,r.wipe)(t),n}}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random",file:"node_modules/@stablelib/random/lib/source/node.js"}],[2453,{"./browser":2451,"./node":2452},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SystemRandomSource=void 0;const r=e("./browser"),i=e("./node");n.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random",file:"node_modules/@stablelib/random/lib/source/system.js"}],[2454,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random>@stablelib/wipe",file:"node_modules/@stablelib/wipe/lib/wipe.js"}],[2455,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},i={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},o={[r.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[r.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[r.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[r.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[r.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},s={[r.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:i.SAPPHIRE_MAINNET},[r.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:i.SAPPHIRE_MAINNET},[r.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:i.SAPPHIRE_MAINNET},[r.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:i.SAPPHIRE_MAINNET},[r.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:i.SAPPHIRE_DEVNET}},a={[r.MAINNET]:"mainnet",[r.TESTNET]:"goerli",[r.CYAN]:"polygon-mainnet",[r.AQUA]:"polygon-mainnet",[r.CELESTE]:"polygon-mainnet"},c={[i.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[i.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[r.MAINNET]:"https://api.web3auth.io/signer-service",[r.TESTNET]:"https://api.web3auth.io/signer-service",[r.CYAN]:"https://api.web3auth.io/signer-polygon-service",[r.AQUA]:"https://api.web3auth.io/signer-polygon-service",[r.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},u={[r.MAINNET]:"https://api.web3auth.io/metadata-service",[r.TESTNET]:"https://api.web3auth.io/metadata-service",[r.CYAN]:"https://api.web3auth.io/metadata-service",[r.AQUA]:"https://api.web3auth.io/metadata-service",[r.CELESTE]:"https://api.web3auth.io/metadata-service"};n.AUTHJS_SERVER_URL="https://api.web3auth.io/authjs-service",n.FND_SERVER="https://api.web3auth.io/fnd-service",n.KEY_TYPE={SECP256K1:"secp256k1",ED25519:"ed25519"},n.LEGACY_NETWORKS_ROUTE_MAP=s,n.METADATA_MAP=u,n.MULTI_CLUSTER_NETWORKS=[],n.NETWORK_MAP=a,n.PROXY_CONTRACT_ADDRESS=o,n.SESSION_SERVER_API_URL="https://api.web3auth.io/session-service",n.SESSION_SERVER_SOCKET_URL="https://session.web3auth.io",n.SIGNER_MAP=c,n.SIG_TYPE={ECDSA_SECP256K1:"ecdsa-secp256k1",ED25519:"ed25519",BIP340:"bip340"},n.TORUS_LEGACY_NETWORK=r,n.TORUS_SAPPHIRE_NETWORK=i}}},{package:"@metamask/seedless-onboarding-controller>@metamask/auth-network-utils>@toruslabs/constants",file:"node_modules/@toruslabs/constants/dist/lib.cjs/constants.js"}],[2456,{"./constants.js":2455,"./interfaces.js":2457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./constants.js"),i=e("./interfaces.js");n.AUTHJS_SERVER_URL=r.AUTHJS_SERVER_URL,n.FND_SERVER=r.FND_SERVER,n.KEY_TYPE=r.KEY_TYPE,n.LEGACY_NETWORKS_ROUTE_MAP=r.LEGACY_NETWORKS_ROUTE_MAP,n.METADATA_MAP=r.METADATA_MAP,n.MULTI_CLUSTER_NETWORKS=r.MULTI_CLUSTER_NETWORKS,n.NETWORK_MAP=r.NETWORK_MAP,n.PROXY_CONTRACT_ADDRESS=r.PROXY_CONTRACT_ADDRESS,n.SESSION_SERVER_API_URL=r.SESSION_SERVER_API_URL,n.SESSION_SERVER_SOCKET_URL=r.SESSION_SERVER_SOCKET_URL,n.SIGNER_MAP=r.SIGNER_MAP,n.SIG_TYPE=r.SIG_TYPE,n.TORUS_LEGACY_NETWORK=r.TORUS_LEGACY_NETWORK,n.TORUS_SAPPHIRE_NETWORK=r.TORUS_SAPPHIRE_NETWORK,n.abi=i.abi}}},{package:"@metamask/seedless-onboarding-controller>@metamask/auth-network-utils>@toruslabs/constants",file:"node_modules/@toruslabs/constants/dist/lib.cjs/index.js"}],[2457,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){n.abi=[{inputs:[{internalType:"string",name:"_verifier",type:"string"},{internalType:"bytes32",name:"hashedVerifierId",type:"bytes32"}],name:"getNodeSet",outputs:[{internalType:"uint256",name:"currentEpoch",type:"uint256"},{internalType:"string[]",name:"torusNodeEndpoints",type:"string[]"},{internalType:"uint256[]",name:"torusNodePubX",type:"uint256[]"},{internalType:"uint256[]",name:"torusNodePubY",type:"uint256[]"},{internalType:"uint256[]",name:"torusIndexes",type:"uint256[]"}],stateMutability:"view",type:"function"}]}}},{package:"@metamask/seedless-onboarding-controller>@metamask/auth-network-utils>@toruslabs/constants",file:"node_modules/@toruslabs/constants/dist/lib.cjs/interfaces.js"}],[2458,{buffer:3318,elliptic:3492},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=new(e("elliptic").ec)("secp256k1"),i=globalThis.crypto||globalThis.msCrypto||{},o=i.subtle||i.webkitSubtle,s=t.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),a=t.alloc(32,0);function c(e,t){if(!e)throw new Error(t||"Assertion failed")}function u(e){return n=e,!(!t.isBuffer(n)||32!==n.length)&&(e.compare(a)>0&&e.compare(s)<0);var n}function l(e){if(void 0===i.getRandomValues)return t.from(i.randomBytes(e));const n=new Uint8Array(e);return i.getRandomValues(n),t.from(n)}async function d(e){if(!i.createHash){const t=await o.digest("SHA-512",e);return new Uint8Array(t)}const t=i.createHash("sha512").update(e).digest();return new Uint8Array(t)}function f(e){return async function(n,r,s){if(o&&o[e]&&o.importKey){const i={name:"AES-CBC"},a=await o.importKey("raw",r,i,!1,[e]),c={name:"AES-CBC",iv:n},u=await o[e](c,a,s);return t.from(new Uint8Array(u))}if("encrypt"===e&&i.createCipheriv){const e=i.createCipheriv("aes-256-cbc",r,n),o=e.update(s),a=e.final();return t.concat([o,a])}if("decrypt"===e&&i.createDecipheriv){const e=i.createDecipheriv("aes-256-cbc",r,n),o=e.update(s),a=e.final();return t.concat([o,a])}throw new Error(`Unsupported operation: ${e}`)}}const h=f("encrypt"),p=f("decrypt");async function m(e,n){if(!i.createHmac){const r={name:"HMAC",hash:{name:"SHA-256"}},i=await o.importKey("raw",new Uint8Array(e),r,!1,["sign","verify"]),s=await o.sign("HMAC",i,n);return t.from(new Uint8Array(s))}const r=i.createHmac("sha256",t.from(e));r.update(n);return r.digest()}const g=function(e){return c(32===e.length,"Bad private key"),c(u(e),"Bad private key"),t.from(r.keyFromPrivate(e).getPublic("array"))},_=async function(e,n,i){c(t.isBuffer(e),"Bad private key"),c(t.isBuffer(n),"Bad public key"),c(32===e.length,"Bad private key"),c(u(e),"Bad private key"),c(65===n.length||33===n.length,"Bad public key"),65===n.length&&c(4===n[0],"Bad public key"),33===n.length&&c(2===n[0]||3===n[0],"Bad public key");const o=r.keyFromPrivate(e),s=r.keyFromPublic(n),a=o.derive(s.getPublic());return i?t.from(a.toString(16,64),"hex"):t.from(a.toArray())},E=async function(e,n,r){const i=await _(e,n.ephemPublicKey,r),o=await d(i),s=o.slice(0,32),a=o.slice(32),c=t.concat([n.iv,n.ephemPublicKey,n.ciphertext]),u=await async function(e,t,n){return function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(await m(e,t),n)}(t.from(a),c,n.mac);if(!u&&!r)return E(e,n,!0);if(!u&&!0===r)throw new Error("bad MAC after trying padded");const l=await p(n.iv,t.from(s),n.ciphertext);return t.from(new Uint8Array(l))};n.decrypt=E,n.derive=_,n.derivePadded=async function(e,t){return _(e,t,!0)},n.deriveUnpadded=async function(e,t){return _(e,t,!1)},n.encrypt=async function(e,n,r){let i=(r=r||{}).ephemPrivateKey||l(32);for(;!u(i);)i=r.ephemPrivateKey||l(32);const o=g(i),s=await _(i,e,r.padding),a=await d(s),c=r.iv||l(16),f=a.slice(0,32),p=a.slice(32),E=await h(c,t.from(f),n),b=t.concat([c,o,E]);return{iv:c,ephemPublicKey:o,ciphertext:E,mac:await m(t.from(p),b)}},n.generatePrivate=function(){let e=l(32);for(;!u(e);)e=l(32);return e},n.getPublic=g,n.getPublicCompressed=function(e){c(32===e.length,"Bad private key"),c(u(e),"Bad private key");return t.from(r.keyFromPrivate(e).getPublic(!0,"array"))},n.sign=async function(e,n){return c(32===e.length,"Bad private key"),c(u(e),"Bad private key"),c(n.length>0,"Message should not be empty"),c(n.length<=32,"Message is too long"),t.from(r.sign(n,e,{canonical:!0}).toDER())},n.verify=async function(e,t,n){if(c(65===e.length||33===e.length,"Bad public key"),65===e.length&&c(4===e[0],"Bad public key"),33===e.length&&c(2===e[0]||3===e[0],"Bad public key"),c(t.length>0,"Message should not be empty"),c(t.length<=32,"Message is too long"),r.verify(t,n,e))return null;throw new Error("Bad signature")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@toruslabs/eccrypto",file:"node_modules/@toruslabs/eccrypto/dist/lib.cjs/index.js"}],[2459,{"./nodeDetailManager.js":2460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./nodeDetailManager.js");n.NodeDetailManager=r}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details",file:"node_modules/@toruslabs/fetch-node-details/dist/lib.cjs/index.js"}],[2460,{"@babel/runtime/helpers/defineProperty":447,"@babel/runtime/helpers/objectSpread2":458,"@toruslabs/constants":2456,"@toruslabs/fnd-base":2463,"@toruslabs/http-helpers":2461,loglevel:4096},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@babel/runtime/helpers/objectSpread2"),i=e("@babel/runtime/helpers/defineProperty"),o=e("@toruslabs/constants"),s=e("@toruslabs/fnd-base"),a=e("@toruslabs/http-helpers");const c=e("loglevel").getLogger("fnd");t.exports=class{constructor({network:e=o.TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET,keyType:t=o.KEY_TYPE.SECP256K1,sigType:n=o.SIG_TYPE.ECDSA_SECP256K1,fndServerEndpoint:s,enableLogging:a=!1}={}){if(i(this,"fndServerEndpoint",`${o.FND_SERVER}/node-details`),i(this,"_currentEpoch","1"),i(this,"_keyType",void 0),i(this,"_sigType",void 0),i(this,"_torusNodeEndpoints",[]),i(this,"_torusNodeRSSEndpoints",[]),i(this,"_torusNodeSSSEndpoints",[]),i(this,"_torusNodeTSSEndpoints",[]),i(this,"_torusNodePub",[]),i(this,"_torusIndexes",[]),i(this,"updated",void 0),i(this,"network",void 0),e&&!Object.values(r(r({},o.TORUS_LEGACY_NETWORK),o.TORUS_SAPPHIRE_NETWORK)).includes(e))throw new Error("Invalid network");this.network=e,this._keyType=t,this._sigType=n,this.updated=!1,s&&(this.fndServerEndpoint=s),a?c.enableAll():c.disableAll()}get _nodeDetails(){return{currentEpoch:this._currentEpoch,torusNodeEndpoints:this._torusNodeEndpoints,torusNodeSSSEndpoints:this._torusNodeSSSEndpoints,torusNodeRSSEndpoints:this._torusNodeRSSEndpoints,torusNodeTSSEndpoints:this._torusNodeTSSEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}async getNodeDetails({verifier:e,verifierId:t}){try{if(this.updated&&!o.MULTI_CLUSTER_NETWORKS.includes(this.network))return this._nodeDetails;try{const{nodeDetails:n}=await a.get(`${this.fndServerEndpoint}?network=${this.network}&verifier=${e}&verifierId=${t}&keyType=${this._keyType}&sigType=${this._sigType}`);return this.setNodeDetails(n),this._nodeDetails}catch(e){c.error("Failed to fetch node details from server, using local.",e)}const n=s.fetchLocalConfig(this.network,this._keyType,this._sigType);if(!n)throw new Error("Failed to fetch node details");return this.setNodeDetails(n),this._nodeDetails}catch(e){throw c.error("Failed to fetch node details",e),e}}async getMetadataUrl(){if(Object.values(o.TORUS_LEGACY_NETWORK).includes(this.network))return o.METADATA_MAP[this.network];return(await this.getNodeDetails({verifier:"test-verifier",verifierId:"test-verifier-id"})).torusNodeEndpoints[0].replace("/sss/jrpc","/metadata")}setNodeDetails(e){const{currentEpoch:t,torusNodeEndpoints:n,torusNodeSSSEndpoints:r,torusNodeRSSEndpoints:i,torusNodeTSSEndpoints:o,torusNodePub:s,torusIndexes:a}=e;this._torusNodeEndpoints=n,this._torusNodeSSSEndpoints=r||[],this._torusNodeRSSEndpoints=i||[],this._torusNodeTSSEndpoints=o||[],this._torusNodePub=s,this._torusIndexes=a,this._currentEpoch=t,this.updated=!0}}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details",file:"node_modules/@toruslabs/fetch-node-details/dist/lib.cjs/nodeDetailManager.js"}],[2461,{"@babel/runtime/helpers/objectSpread2":458,deepmerge:3472,loglevel:4096},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@babel/runtime/helpers/objectSpread2"),i=e("deepmerge"),o=e("loglevel");const s=o.getLogger("http-helpers");s.setLevel(o.levels.INFO);let a="torus-default",c="";const u="x-api-key",l="x-embed-host";let d=null;const f=[],h=[];async function p(e,t){let n=null;try{n=new URL(e)}catch{}if(d&&n&&(f.includes(n.origin)||h.includes(n.pathname))){return await d.startSpan({name:e,op:"http.client"},async()=>await fetch(e,t))}return fetch(e,t)}function m(){const e={};return a&&(e[u]=a),c&&(e[l]=c),e}function g(e){s.info(`Response: ${e.status} ${e.statusText}`),s.info(`Url: ${e.url}`)}const _=async(e,t)=>{let n=null;try{const r=new Promise((t,r)=>{n=setTimeout(()=>{r(new Error(`Timed out in ${e}ms`))},e)}),i=await Promise.race([t,r]);return null!=n&&clearTimeout(n),i}catch(e){throw null!=n&&clearTimeout(n),e}},E=async(e,t={},n={})=>{const o={mode:"cors",headers:{}};n.useAPIKey&&(o.headers=r(r({},o.headers),m())),t.method="GET";const s=i(o,t),a=await p(e,s);if(a.ok){const e=a.headers.get("content-type");return null!=e&&e.includes("application/json")?a.json():a.text()}throw g(a),a};n.clearAPIKey=function(){a="torus-default"},n.clearEmbedHost=function(){c=""},n.enableSentryTracing=function(e,t,n){d=e,f.push(...t),h.push(...n)},n.gatewayAuthHeader=u,n.gatewayEmbedHostHeader=l,n.generateJsonRPCObject=(e,t)=>({jsonrpc:"2.0",method:e,id:10,params:t}),n.get=E,n.getAPIKey=function(){return a},n.getEmbedHost=function(){return c},n.patch=async(e,t={},n={},o={})=>{const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};o.useAPIKey&&(s.headers=r(r({},s.headers),m())),n.method="PATCH";const a=i(s,n);o.isUrlEncodedData?(a.body=t,"application/json; charset=utf-8"===a.headers["Content-Type"]&&delete a.headers["Content-Type"]):a.body=JSON.stringify(t);const c=await p(e,a);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw g(c),c},n.post=(e,t={},n={},o={})=>{const a={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};o.useAPIKey&&(a.headers=r(r({},a.headers),m())),n.method="POST";const c=i(a,n);return o.isUrlEncodedData?(c.body=t,"application/json; charset=utf-8"===c.headers["Content-Type"]&&delete c.headers["Content-Type"]):c.body=JSON.stringify(t),_(o.timeout||6e4,p(e,c).then(e=>{if(o.logTracingHeader&&function(e){const t=e.headers.get("x-web3-correlation-id");t&&s.info(`Request tracing with traceID = ${t}`)}(e),e.ok){const t=e.headers.get("content-type");return null!=t&&t.includes("application/json")?e.json():e.text()}throw g(e),e}))},n.promiseRace=(e,t,n=6e4)=>Promise.race([E(e,t),new Promise((e,t)=>{setTimeout(()=>{t(new Error("timed out"))},n)})]),n.promiseTimeout=_,n.put=async(e,t={},n={},o={})=>{const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};o.useAPIKey&&(s.headers=r(r({},s.headers),m())),n.method="PUT";const a=i(s,n);o.isUrlEncodedData?(a.body=t,"application/json; charset=utf-8"===a.headers["Content-Type"]&&delete a.headers["Content-Type"]):a.body=JSON.stringify(t);const c=await p(e,a);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw g(c),c},n.remove=async(e,t={},n={},o={})=>{const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};o.useAPIKey&&(s.headers=r(r({},s.headers),m())),n.method="DELETE";const a=i(s,n);o.isUrlEncodedData?(a.body=t,"application/json; charset=utf-8"===a.headers["Content-Type"]&&delete a.headers["Content-Type"]):a.body=JSON.stringify(t);const c=await p(e,a);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw g(c),c},n.setAPIKey=function(e){a=e},n.setEmbedHost=function(e){c=e},n.setLogLevel=function(e){s.setLevel(e)}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/http-helpers",file:"node_modules/@toruslabs/fetch-node-details/node_modules/@toruslabs/http-helpers/dist/lib.cjs/index.js"}],[2462,{"@toruslabs/constants":2456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@toruslabs/constants");const i={[r.TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]:["https://node-1.dev-node.web3auth.io","https://node-2.dev-node.web3auth.io","https://node-3.dev-node.web3auth.io","https://node-4.dev-node.web3auth.io","https://node-5.dev-node.web3auth.io"],[r.TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]:["https://node-1.node.web3auth.io","https://node-2.node.web3auth.io","https://node-3.node.web3auth.io","https://node-4.node.web3auth.io","https://node-5.node.web3auth.io"]};n.SAPPHIRE_NETWORK_URLS=i,n.getRSSEndpoints=(e,t)=>{const n=i[e];if(!n||0===n.length)throw new Error(`Unsupported network: ${e}`);const o=r.LEGACY_NETWORKS_ROUTE_MAP[t];return n.map(e=>o&&o.networkIdentifier?`${e}/rss/${o.networkIdentifier}`:`${e}/rss`)},n.getSSSEndpoints=(e,t)=>{const n=i[e];if(!n||0===n.length)throw new Error(`Unsupported network: ${e}`);const o=r.LEGACY_NETWORKS_ROUTE_MAP[t];return n.map(e=>o&&o.networkIdentifier?`${e}/sss/${o.networkIdentifier}/jrpc`:`${e}/sss/jrpc`)},n.getTSSEndpoints=(e,t,n=r.KEY_TYPE.SECP256K1,o)=>{const s=i[e];if(!s||0===s.length)throw new Error(`Unsupported network: ${e}`);const a=(()=>{const e="tss-frost";if(o){if(o===r.SIG_TYPE.ECDSA_SECP256K1){if(n!==r.KEY_TYPE.SECP256K1)throw new Error("Invalid key type for ecdsa-secp256k1");return"tss"}if(o===r.SIG_TYPE.ED25519){if(n!==r.KEY_TYPE.ED25519)throw new Error("Invalid key type for ed25519");return e}if(o===r.SIG_TYPE.BIP340){if(n!==r.KEY_TYPE.SECP256K1)throw new Error("Invalid key type for bip340");return e}throw new Error("Invalid sig type")}if(n===r.KEY_TYPE.SECP256K1)return"tss";if(n===r.KEY_TYPE.ED25519)return e;throw new Error("Invalid key type")})(),c=r.LEGACY_NETWORKS_ROUTE_MAP[t];return s.map(e=>c&&c.networkIdentifier?`${e}/${a}/${c.networkIdentifier}`:`${e}/${a}`)}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/fnd-base",file:"node_modules/@toruslabs/fnd-base/dist/lib.cjs/endpoints.js"}],[2463,{"./endpoints.js":2462,"./sapphireNetworkConfig.js":2465,"./utils.js":2466},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./endpoints.js"),i=e("./sapphireNetworkConfig.js"),o=e("./utils.js");n.SAPPHIRE_NETWORK_URLS=r.SAPPHIRE_NETWORK_URLS,n.getRSSEndpoints=r.getRSSEndpoints,n.getSSSEndpoints=r.getSSSEndpoints,n.getTSSEndpoints=r.getTSSEndpoints,n.getSapphireNodeDetails=i.getSapphireNodeDetails,n.fetchLocalConfig=o.fetchLocalConfig}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/fnd-base",file:"node_modules/@toruslabs/fnd-base/dist/lib.cjs/index.js"}],[2464,{"@toruslabs/constants":2456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@toruslabs/constants");const i={[r.TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]:[{X:"e0925898fee0e9e941fdca7ee88deec99939ae9407e923535c4d4a3a3ff8b052",Y:"54b9fea924e3f3e40791f9987f4234ae4222412d65b74068032fa5d8b63375c1"},{X:"9124cf1e280aab32ba50dffd2de81cecabc13d82d2c1fe9de82f3b3523f9b637",Y:"fca939a1ceb42ce745c55b21ef094f543b457630cb63a94ef4f1afeee2b1f107"},{X:"555f681a63d469cc6c3a58a97e29ebd277425f0e6159708e7c7bf05f18f89476",Y:"606f2bcc0884fa5b64366fc3e8362e4939841b56acd60d5f4553cf36b891ac4e"},{X:"2b5f58d8e340f1ab922e89b3a69a68930edfe51364644a456335e179bc130128",Y:"4b4daa05939426e3cbe7d08f0e773d2bf36f64c00d04620ee6df2a7af4d2247"},{X:"3ecbb6a68afe72cf34ec6c0a12b5cb78a0d2e83ba402983b6adbc5f36219861a",Y:"dc1031c5cc8f0472bd521a62a64ebca9e163902c247bf05937daf4ae835091e4"}],[r.TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]:[{X:"f74389b0a4c8d10d2a687ae575f69b20f412d41ab7f1fe6b358aa14871327247",Y:"54e3a73098ed9bced3ef8821736e9794f9264a1420c0c7ad15d2fa617ba35ef7"},{X:"bc38813a6873e526087918507c78fc3a61624670ee851ecfb4f3bef55d027b5a",Y:"ac4b21229f662a0aefdfdac21cf17c3261a392c74a8790db218b34e3e4c1d56a"},{X:"b56541684ea5fa40c8337b7688d502f0e9e092098962ad344c34e94f06d293fb",Y:"759a998cef79d389082f9a75061a29190eec0cac99b8c25ddcf6b58569dad55c"},{X:"7bcb058d4c6ffc6ba4bfdfd93d141af35a66338a62c7c27cdad2ae3f8289b767",Y:"336ab1935e41ed4719e162587f0ab55518db4207a1eb36cc72303f1b86689d2b"},{X:"bf12a136ef94399ea098f926f04e26a4ec4ac70f69cce274e8893704c4951773",Y:"bdd44828020f52ce510e026338216ada184a6867eb4e19fb4c2d495d4a7e15e4"}]};n.SAPPHIRE_NODE_PUB_KEYS=i}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/fnd-base",file:"node_modules/@toruslabs/fnd-base/dist/lib.cjs/pubKeys.js"}],[2465,{"./endpoints.js":2462,"./pubKeys.js":2464},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./endpoints.js"),i=e("./pubKeys.js");n.getSapphireNodeDetails=(e,t,n,o)=>({currentEpoch:"1",torusNodeEndpoints:r.getSSSEndpoints(e,t),torusNodeSSSEndpoints:r.getSSSEndpoints(e,t),torusNodeRSSEndpoints:r.getRSSEndpoints(e,t),torusNodeTSSEndpoints:r.getTSSEndpoints(e,t,n,o),torusIndexes:[1,2,3,4,5],torusNodePub:i.SAPPHIRE_NODE_PUB_KEYS[e]})}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/fnd-base",file:"node_modules/@toruslabs/fnd-base/dist/lib.cjs/sapphireNetworkConfig.js"}],[2466,{"./sapphireNetworkConfig.js":2465,"@toruslabs/constants":2456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@toruslabs/constants"),i=e("./sapphireNetworkConfig.js");n.fetchLocalConfig=function(e,t,n){if(Object.values(r.TORUS_SAPPHIRE_NETWORK).includes(e))return i.getSapphireNodeDetails(e,undefined,t,n);if(Object.values(r.TORUS_LEGACY_NETWORK).includes(e)){const n=r.LEGACY_NETWORKS_ROUTE_MAP[e];if(n.migrationCompleted)return i.getSapphireNodeDetails(n.networkMigratedTo,e,t)}return undefined}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/fnd-base",file:"node_modules/@toruslabs/fnd-base/dist/lib.cjs/utils.js"}],[2467,{"./messageChannel/abstract":2468,"./storage":2469,"./systemInfo":2470,tslib:4871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("tslib");r.__exportStar(e("./storage"),n),r.__exportStar(e("./messageChannel/abstract"),n),r.__exportStar(e("./systemInfo"),n)}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/index.js"}],[2468,{"@trezor/utils":2796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AbstractMessageChannel=void 0;const r=e("@trezor/utils");class i extends r.TypedEmitter{messagePromises={};messagesQueue=[];messageID=0;isConnected=!1;handshakeMaxRetries=5;handshakeRetryInterval=2e3;handshakeFinished;lazyHandshake;legacyMode;logger;sendFn;channel;constructor({sendFn:e,channel:t,logger:n,lazyHandshake:r=!1,legacyMode:i=!1}){super(),this.channel=t,this.sendFn=e,this.lazyHandshake=r,this.legacyMode=i,this.logger=n}init(){return this.handshakeFinished||(this.handshakeFinished=(0,r.createDeferred)(),this.legacyMode&&setTimeout(()=>{this.handshakeFinished?.resolve()},500),this.lazyHandshake||this.handshakeWithPeer()),this.handshakeFinished.promise}handshakeWithPeer(){return this.logger?.log(this.channel.here,"handshake"),(0,r.scheduleAction)(async()=>{this.postMessage({type:"channel-handshake-request",data:{success:!0,payload:undefined}},{usePromise:!1,useQueue:!1}),await(this.handshakeFinished?.promise)},{attempts:this.handshakeMaxRetries,timeout:this.handshakeRetryInterval}).then(()=>{this.logger?.log(this.channel.here,"handshake confirmed"),this.messagesQueue.forEach(e=>{e.channel=this.channel,this.sendFn(e)}),this.messagesQueue=[]}).catch(()=>{this.handshakeFinished?.reject(new Error("handshake failed")),this.handshakeFinished=undefined})}onMessage(e){let t=e;this.legacyMode&&t.type===undefined&&"data"in t&&"object"==typeof t.data&&null!==t.data&&"type"in t.data&&"string"==typeof t.data.type&&(t=t.data);const{channel:n,id:r,type:i,...o}=t;if(!this.legacyMode){if(!n?.peer||n.peer!==this.channel.here)return;if(!n?.here||this.channel.peer!==n.here)return}if("channel-handshake-request"===i)return this.postMessage({type:"channel-handshake-confirm",data:{success:!0,payload:undefined}},{usePromise:!1,useQueue:!1}),void(this.lazyHandshake&&this.handshakeWithPeer());if("channel-handshake-confirm"===i)return void this.handshakeFinished?.resolve(undefined);this.messagePromises[r]&&(this.messagePromises[r].resolve({id:r,...o}),delete this.messagePromises[r]);const s=Object.keys(this.messagePromises).length;s>5&&this.logger?.warn(`too many message promises (${s}). this feels unexpected!`),this.emit("message",t)}postMessage(e,{usePromise:t=!0,useQueue:n=!0}={}){if(e.channel=this.channel,t){this.messageID++,e.id=this.messageID,this.messagePromises[e.id]=(0,r.createDeferred)();try{this.sendFn(e)}catch{n&&this.messagesQueue.push(e)}return this.messagePromises[e.id].promise}try{this.sendFn(e)}catch{n&&this.messagesQueue.push(e)}}resolveMessagePromises(e){Object.keys(this.messagePromises).forEach(t=>this.messagePromises[t].resolve({id:t,payload:e}))}clear(){this.handshakeFinished=undefined}}n.AbstractMessageChannel=i}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/messageChannel/abstract.js"}],[2469,{"@trezor/utils":2796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.storage=void 0;const r=e("@trezor/utils"),i="storage_v2";let o={origin:{}};const s=()=>{const e=localStorage.getItem(i);return e?JSON.parse(e):{origin:{}}};class a extends r.TypedEmitter{save(e,t=!1){if(!t&&global.window)try{const t=e(s());localStorage.setItem(i,JSON.stringify(t)),this.emit("changed",t)}catch{console.warn("long term storage not available"),o=e(o)}else o=e(o)}saveForOrigin(e,t,n=!1){this.save(n=>({...n,origin:{...n.origin,[t]:e(n.origin?.[t]||{})}}),n)}load(e=!1){if(e||!global?.window?.localStorage)return o;try{return s()}catch{return console.warn("long term storage not available"),o}}loadForOrigin(e,t=!1){const n=this.load(t);return n.origin?.[e]||{}}}const c=new a;n.storage=c}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/storage.js"}],[2470,{"@trezor/env-utils":2540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSystemInfo=n.getInstallerPackage=void 0;const r=e("@trezor/env-utils");n.getInstallerPackage=()=>{const e=(0,r.getUserAgent)();switch((0,r.getOsFamily)()){case"MacOS":return"mac";case"Windows":return`win${e.match(/(Win64|WOW64)/)?"64":"32"}`;case"Linux":return`${e.match(/CentOS|Fedora|Mandriva|Mageia|Red Hat|Scientific|SUSE/)?"rpm":"deb"}${e.match(/Linux i[3456]86/)?"32":"64"}`}};n.getSystemInfo=e=>{const t=(0,r.getBrowserName)(),n=(0,r.getBrowserVersion)(),i=t?e[t.toLowerCase()]:undefined,o=!!i&&i.version>parseInt(n,10),s="mobile"===(0,r.getDeviceType)(),a=!s||"usb"in navigator,c=!(!i||o||!a);return{os:{family:(0,r.getOsFamily)(),mobile:s},browser:{supported:c,outdated:o}}}}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/systemInfo.js"}],[2472,{"@trezor/connect-common":2467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ServiceWorkerWindowChannel=void 0;const r=e("@trezor/connect-common");class i extends r.AbstractMessageChannel{port;name;allowSelfOrigin;currentId;constructor({name:e,channel:t,logger:n,lazyHandshake:r,legacyMode:i,allowSelfOrigin:o=!1,currentId:s}){super({channel:t,sendFn:e=>{if(!this.port)throw new Error("port not assigned");this.port.postMessage(e)},logger:n,lazyHandshake:r,legacyMode:i}),this.name=e,this.allowSelfOrigin=o,this.currentId=s,this.connect()}connect(){chrome.runtime.onConnect.addListener(e=>{e.name===this.name&&(this.currentId?.()&&this.currentId?.()!==e.sender?.tab?.id||(this.port=e,this.port.onMessage.addListener((e,{sender:t})=>{if(!t)return void this.logger?.error("service-worker-window","no sender");const{origin:n}=t,r=["https://connect.trezor.io","https://staging-connect.trezor.io","https://suite.corp.sldev.cz","https://dev.suite.sldev.cz","http://localhost:8088"],i=chrome?.runtime?.id;i&&r.push(`chrome-extension://${i}`);const o=chrome?.runtime?.getURL("");o&&r.push(o.slice(0,-1)),n?r.includes(n)?(n!==self.origin||this.allowSelfOrigin)&&this.onMessage(e):this.logger?.error("connect-webextension/messageChannel/extensionPort/onMessage","origin not whitelisted",n):this.logger?.error("connect-webextension/messageChannel/extensionPort/onMessage","no origin")})))}),this.isConnected=!0}disconnect(){this.isConnected&&(this.port?.disconnect(),this.clear(),this.isConnected=!1)}}n.ServiceWorkerWindowChannel=i}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/channels/serviceworker-window.js"}],[2473,{"@trezor/connect-common":2467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WindowWindowChannel=void 0;const r=e("@trezor/connect-common");class i extends r.AbstractMessageChannel{_windowHere;_listener;constructor({windowHere:e,windowPeer:t,channel:n,logger:r,origin:i,legacyMode:o}){super({channel:n,sendFn:e=>{t()?.postMessage(e,i)},logger:r,legacyMode:o}),this._listener=this.listener.bind(this),this._windowHere=e,this.connect()}listener(e){const t={...e.data,success:!0,origin:e.origin,payload:e.data.payload||{},channel:e.data.channel||{peer:this.channel.here,here:this.channel.peer}};this.onMessage(t)}connect(){this._windowHere.addEventListener("message",this._listener),this.isConnected=!0}disconnect(){this.isConnected&&(this._windowHere.removeEventListener("message",this._listener),this.isConnected=!1)}}n.WindowWindowChannel=i}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/channels/window-window.js"}],[2474,{"@trezor/connect/lib/data/connectSettings":2492},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseConnectSettings=n.getEnv=void 0;const r=e("@trezor/connect/lib/data/connectSettings");n.getEnv=()=>{if("undefined"!=typeof chrome&&void 0!==chrome.runtime?.onConnect)return"webextension";if("undefined"!=typeof navigator){if("string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"};n.parseConnectSettings=(e={})=>{const t={popup:!0,...e};let i;return"undefined"!=typeof window?i=window.__TREZOR_CONNECT_SRC:"undefined"!=typeof global&&(i=global.__TREZOR_CONNECT_SRC),"string"==typeof i&&(t.connectSrc=i,t.debug=!0),"string"!=typeof e.env&&(t.env=(0,n.getEnv)()),(0,r.parseConnectSettings)(t)}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/connectSettings.js"}],[2475,{"./inlineStyles":2476,"@trezor/connect/lib/constants/errors":2485,"@trezor/connect/lib/events":2502,"@trezor/connect/lib/utils/debug":2529,"@trezor/connect/lib/utils/urlUtils":2531,"@trezor/utils":2796,tslib:4871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.initIframeLogger=n.clearTimeout=n.postMessage=n.init=n.dispose=n.error=n.timeout=n.initPromise=n.origin=n.instance=void 0;const r=e("tslib"),i=r.__importStar(e("@trezor/connect/lib/constants/errors")),o=e("@trezor/connect/lib/events"),s=e("@trezor/connect/lib/utils/debug"),a=e("@trezor/connect/lib/utils/urlUtils"),c=e("@trezor/utils"),u=r.__importDefault(e("./inlineStyles"));n.initPromise=(0,c.createDeferred)(),n.timeout=0;n.dispose=()=>{if(n.instance&&n.instance.parentNode)try{n.instance.parentNode.removeChild(n.instance)}catch{}n.instance=null,n.timeout=0};n.init=async e=>{n.initPromise=(0,c.createDeferred)();const t=document.getElementById("trezorconnect");let r;if(t?n.instance=t:(n.instance=document.createElement("iframe"),n.instance.frameBorder="0",n.instance.width="0px",n.instance.height="0px",n.instance.style.position="absolute",n.instance.style.display="none",n.instance.style.border="0px",n.instance.style.width="0px",n.instance.style.height="0px",n.instance.id="trezorconnect"),"web"===e.env){const t=e.manifest?JSON.stringify(e.manifest):"undefined",n=`version=${e.version}&manifest=${encodeURIComponent(btoa(JSON.stringify(t)))}`;r=`${e.iframeSrc}?${n}`}else r=e.iframeSrc;if(!r.startsWith("http://")&&!r.startsWith("https://"))return;n.instance.setAttribute("src",r),navigator.usb&&n.instance.setAttribute("allow","usb"),n.origin=(0,a.getOrigin)(n.instance.src),n.timeout=window.setTimeout(()=>{n.initPromise.reject(i.TypedError("Init_IframeTimeout"))},1e4);const s=()=>{if(!n.instance)return void n.initPromise.reject(i.TypedError("Init_IframeBlocked"));try{const e=n.instance.contentWindow?.location.origin;if(!e||"null"===e)return window.clearTimeout(n.timeout),n.error=i.TypedError("Init_IframeBlocked"),(0,n.dispose)(),void n.initPromise.reject(n.error)}catch{}let t;"undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect&&(chrome.runtime.onConnect.addListener(()=>{}),t=chrome.runtime.id),n.instance.contentWindow?.postMessage({type:o.IFRAME.INIT,payload:{settings:e,extension:t}},n.origin),n.instance.onload=null};n.instance.attachEvent?n.instance.attachEvent("onload",s):n.instance.onload=s,document.body&&(document.body.appendChild(n.instance),(()=>{if(!n.instance)throw i.TypedError("Init_IframeBlocked");const e=n.instance.ownerDocument,t=e.head||e.getElementsByTagName("head")[0],r=document.createElement("style");r.setAttribute("type","text/css"),r.setAttribute("id","TrezorConnectStylesheet"),r.styleSheet?(r.styleSheet.cssText=u.default,t.appendChild(r)):(r.appendChild(document.createTextNode(u.default)),t.append(r))})());try{await n.initPromise.promise}catch(e){throw n.instance&&(n.instance.parentNode&&n.instance.parentNode.removeChild(n.instance),n.instance=null),e}finally{window.clearTimeout(n.timeout),n.timeout=0}};n.postMessage=e=>{if(!n.instance)throw i.TypedError("Init_IframeBlocked");n.instance.contentWindow?.postMessage(e,n.origin)};n.clearTimeout=()=>{window.clearTimeout(n.timeout)};n.initIframeLogger=()=>{(0,s.setLogWriter)(()=>({add:e=>{(0,n.postMessage)({type:o.IFRAME.LOG,payload:e})}}))}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/index.js"}],[2476,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */'}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/inlineStyles.js"}],[2477,{"../connectSettings":2474,"../iframe":2475,"../popup":2481,"../webusb/button":2483,"@trezor/connect/lib/constants/errors":2485,"@trezor/connect/lib/data/config":2491,"@trezor/connect/lib/events":2502,"@trezor/connect/lib/factory":2510,"@trezor/connect/lib/utils/debug":2529,"@trezor/utils/lib/createDeferredManager":2781,events:3630,tslib:4871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrezorConnect=n.CoreInIframe=void 0;const r=e("tslib"),i=r.__importDefault(e("events")),o=r.__importStar(e("@trezor/connect/lib/constants/errors")),s=e("@trezor/connect/lib/data/config"),a=e("@trezor/connect/lib/events"),c=e("@trezor/connect/lib/factory"),u=e("@trezor/connect/lib/utils/debug"),l=e("@trezor/utils/lib/createDeferredManager"),d=e("../connectSettings"),f=r.__importStar(e("../iframe")),h=r.__importStar(e("../popup")),p=r.__importDefault(e("../webusb/button"));class m{eventEmitter=new i.default;_settings;_log;_popupManager;_messagePromises;boundHandleMessage=this.handleMessage.bind(this);boundDispose=this.dispose.bind(this);constructor(){this._settings=(0,d.parseConnectSettings)(),this._log=(0,u.initLog)("@trezor/connect-web"),this._messagePromises=(0,l.createDeferredManager)({initialId:1})}initPopupManager(){const e=new h.PopupManager(this._settings,{logger:this._log});return e.on(a.POPUP.CLOSED,e=>{f.postMessage({type:a.POPUP.CLOSED,payload:e?{error:e}:null})}),e}manifest(e){this._settings=(0,d.parseConnectSettings)({...this._settings,manifest:e})}dispose(){return this.eventEmitter.removeAllListeners(),f.dispose(),this._settings=(0,d.parseConnectSettings)(),this._popupManager&&this._popupManager.close(),window.removeEventListener("message",this.boundHandleMessage),window.removeEventListener("unload",this.boundDispose),Promise.resolve(undefined)}cancel(e){this._popupManager&&this._popupManager.emit(a.POPUP.CLOSED,e)}handleMessage(e){if(e.origin!==f.origin)return;const t=(0,a.parseMessage)(e.data);switch(this._log.log("handleMessage",t),t.event){case a.RESPONSE_EVENT:{const{id:e=0,success:n,payload:r,device:i}=t;this._messagePromises.resolve(e,{id:e,success:n,payload:r,device:i})||this._log.warn(`Unknown message id ${e}`);break}case a.DEVICE_EVENT:case a.TRANSPORT_EVENT:case a.BLOCKCHAIN_EVENT:this.eventEmitter.emit(t.event,t),this.eventEmitter.emit(t.type,t.payload);break;case a.UI_EVENT:if(t.type===a.IFRAME.BOOTSTRAP){f.clearTimeout();break}t.type===a.IFRAME.LOADED&&f.initPromise.resolve(),t.type===a.IFRAME.ERROR&&f.initPromise.reject(t.payload.error),this.eventEmitter.emit(t.event,t),this.eventEmitter.emit(t.type,t.payload);break;default:this._log.log("Undefined message",e.data)}}async init(e){if(f.instance)throw o.TypedError("Init_AlreadyInitialized");if(this._settings=(0,d.parseConnectSettings)({...this._settings,...e}),!this._settings.manifest)throw o.TypedError("Init_ManifestMissing");if(this._settings.transports?.length||(this._settings.transports=["BridgeTransport","WebUsbTransport"]),this._settings.coreMode||(this._settings.coreMode="auto"),this._settings.lazyLoad)this._settings.lazyLoad=!1;else{if(this._popupManager||(this._popupManager=this.initPopupManager()),this._log.enabled=!!this._settings.debug,window.addEventListener("message",this.boundHandleMessage),window.addEventListener("unload",this.boundDispose),await f.init(this._settings),"auto"===this._settings.coreMode){const{promiseId:e,promise:t}=this._messagePromises.create();this._log.debug("coreMode = auto, Checking bridge availability"),f.postMessage({id:e,type:a.TRANSPORT.GET_INFO});const n=await t;if(this._log.debug("Bridge availability response",n),n.payload===undefined&&navigator.usb&&this._settings.transports?.includes("WebUsbTransport"))throw o.TypedError("Transport_Missing")}!1!==this._settings.sharedLogger&&f.initIframeLogger()}}setTransports(){throw new Error("Unsupported right now")}async call(e){if(!f.instance&&!f.timeout){if(this._settings=(0,d.parseConnectSettings)(this._settings),!this._settings.manifest)return(0,a.createErrorMessage)(o.TypedError("Init_ManifestMissing"));this._popupManager||(this._popupManager=this.initPopupManager());try{await this.init(this._settings)}catch(e){return this._popupManager&&this._popupManager.clear(),(0,a.createErrorMessage)(e)}}if(f.timeout&&await f.initPromise.promise,f.error)return(0,a.createErrorMessage)(f.error);this._settings.popup&&this._popupManager&&this._popupManager.request();try{const{promiseId:t,promise:n}=this._messagePromises.create();f.postMessage({id:t,type:a.IFRAME.CALL,payload:e});const r=await n;return r?(!r.success&&"Device_CallInProgress"!==r.payload.code&&this._popupManager&&this._popupManager.unlock(),r):(this._popupManager&&this._popupManager.unlock(),(0,a.createErrorMessage)(o.TypedError("Method_NoResponse")))}catch(e){return this._log.error("__call error",e),this._popupManager&&this._popupManager.clear(!1),(0,a.createErrorMessage)(e)}}uiResponse(e){if(!f.instance)throw o.TypedError("Init_NotInitialized");f.postMessage(e)}renderWebUSBButton(e){(0,p.default)(e,this._settings.webusbSrc)}async requestLogin(e){if("function"==typeof e.callback){const{callback:t}=e,n=async e=>{const{data:n}=e;if(n&&n.type===a.UI.LOGIN_CHALLENGE_REQUEST)try{const e=await t();f.postMessage({type:a.UI.LOGIN_CHALLENGE_RESPONSE,payload:e})}catch(e){f.postMessage({type:a.UI.LOGIN_CHALLENGE_RESPONSE,payload:e.message})}};window.addEventListener("message",n,!1);const r=await this.call({method:"requestLogin",...e,asyncChallenge:!0,callback:null});return window.removeEventListener("message",n),r}return this.call({method:"requestLogin",...e})}disableWebUSB(){if(!f.instance)throw o.TypedError("Init_NotInitialized");f.postMessage({type:a.TRANSPORT.DISABLE_WEBUSB})}async requestWebUSBDevice(){try{await window.navigator.usb.requestDevice({filters:s.config.webusb}),f.postMessage({type:a.TRANSPORT.REQUEST_DEVICE})}catch{}}}n.CoreInIframe=m;const g=new m;n.TrezorConnect=(0,c.factory)({eventEmitter:g.eventEmitter,init:g.init.bind(g),call:g.call.bind(g),setTransports:g.setTransports.bind(g),manifest:g.manifest.bind(g),requestLogin:g.requestLogin.bind(g),uiResponse:g.uiResponse.bind(g),cancel:g.cancel.bind(g),dispose:g.dispose.bind(g)},{renderWebUSBButton:g.renderWebUSBButton.bind(g),disableWebUSB:g.disableWebUSB.bind(g),requestWebUSBDevice:g.requestWebUSBDevice.bind(g)})}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/impl/core-in-iframe.js"}],[2478,{"../connectSettings":2474,"../popup":2481,"@trezor/connect/lib/constants/errors":2485,"@trezor/connect/lib/events":2502,"@trezor/connect/lib/factory":2510,"@trezor/connect/lib/utils/debug":2529,"@trezor/utils":2796,events:3630,tslib:4871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrezorConnect=n.CoreInPopup=void 0;const r=e("tslib"),i=r.__importDefault(e("events")),o=r.__importStar(e("@trezor/connect/lib/constants/errors")),s=e("@trezor/connect/lib/events"),a=e("@trezor/connect/lib/factory"),c=e("@trezor/connect/lib/utils/debug"),u=e("@trezor/utils"),l=e("../connectSettings"),d=r.__importStar(e("../popup"));class f{eventEmitter=new i.default;_settings;logger;popupManagerLogger;_popupManager;constructor(){this._settings=(0,l.parseConnectSettings)(),this.logger=(0,c.initLog)("@trezor/connect-web"),this.popupManagerLogger=(0,c.initLog)("@trezor/connect-web/popupManager")}logWriterFactory(e){return{add:t=>{e.channel.postMessage({event:s.UI_EVENT,type:s.IFRAME.LOG,payload:t},{usePromise:!1,useQueue:!0})}}}manifest(e){this._settings=(0,l.parseConnectSettings)({...this._settings,manifest:e})}dispose(){return this.eventEmitter.removeAllListeners(),this._settings=(0,l.parseConnectSettings)(),this._popupManager&&this._popupManager.close(),Promise.resolve(undefined)}cancel(e){this._popupManager&&this._popupManager.emit(s.POPUP.CLOSED,e)}init(e){const t=(0,l.parseConnectSettings)({...this._settings}),n=(0,l.parseConnectSettings)({...this._settings,...e});n.transports?.length||(n.transports=["BridgeTransport","WebUsbTransport"]),n.useCoreInPopup=!0,"undefined"!=typeof window&&window?.location?.origin&&(n.origin=window.location.origin);const r=JSON.stringify(t)===JSON.stringify(n);if(this._settings=n,this._popupManager&&r||(this._popupManager&&this._popupManager.close(),this._popupManager=new d.PopupManager(this._settings,{logger:this.popupManagerLogger}),this._popupManager.on(s.DEVICE_EVENT,e=>{this.eventEmitter.emit(s.DEVICE_EVENT,e)}),(0,c.setLogWriter)(()=>this.logWriterFactory(this._popupManager))),this.logger.enabled=!!e.debug,!this._settings.manifest)throw o.TypedError("Init_ManifestMissing");return this.logger.debug("initiated"),Promise.resolve()}setTransports(){throw new Error("Unsupported right now")}async call(e){if(this.logger.debug("call",e),!this._popupManager)return(0,s.createErrorMessage)(o.TypedError("Init_NotInitialized"));this._settings.popup&&await this._popupManager.request();const t=(0,u.createDeferred)(),n=()=>{this.logger.log("Popup closed during initialization"),t.reject(o.TypedError("Method_Interrupted"))};this._popupManager.once(s.POPUP.CLOSED,n);try{this.logger.debug("call: popup initialing"),await Promise.race([t.promise,this.callInit()]),this.logger.debug("call: popup initialized");const n=await this._popupManager.channel.postMessage({type:s.IFRAME.CALL,payload:e});if(this.logger.debug("call: response: ",n),n)return this._popupManager&&n.success&&this._popupManager.clear(),{success:n.success,payload:n.payload,device:n.device};throw o.TypedError("Method_NoResponse")}catch(e){return this.logger.error("call: error",e),this._popupManager.clear(!1),(0,s.createErrorMessage)(e)}finally{this._popupManager.removeListener(s.POPUP.CLOSED,n)}}async callInit(){if(!this._popupManager)throw o.TypedError("Init_NotInitialized");await this._popupManager.channel.init(),"webextension"===this._settings.env&&(await(this._popupManager.popupPromise?.promise),this._popupManager.channel.postMessage({type:s.POPUP.INIT,payload:{settings:this._settings,useCore:!0}})),await(this._popupManager.handshakePromise?.promise)}uiResponse(e){const{type:t,payload:n}=e;this._popupManager?.channel?.postMessage({event:s.UI_EVENT,type:t,payload:n})}renderWebUSBButton(){}requestLogin(){throw o.TypedError("Method_InvalidPackage")}disableWebUSB(){throw o.TypedError("Method_InvalidPackage")}requestWebUSBDevice(){throw o.TypedError("Method_InvalidPackage")}}n.CoreInPopup=f;const h=new f;n.TrezorConnect=(0,a.factory)({eventEmitter:h.eventEmitter,init:h.init.bind(h),call:h.call.bind(h),setTransports:h.setTransports.bind(h),manifest:h.manifest.bind(h),requestLogin:h.requestLogin.bind(h),uiResponse:h.uiResponse.bind(h),cancel:h.cancel.bind(h),dispose:h.dispose.bind(h)})}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/impl/core-in-popup.js"}],[2479,{"../connectSettings":2474,"@trezor/connect/lib/constants/errors":2485,"@trezor/connect/lib/events":2502,"@trezor/connect/lib/factory":2510,"@trezor/websocket-client":2826,"@trezor/websocket-client/lib/client":2825,events:3630,tslib:4871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrezorConnect=n.CoreInSuiteDesktop=void 0;const r=e("tslib"),i=r.__importDefault(e("events")),o=r.__importStar(e("@trezor/connect/lib/constants/errors")),s=e("@trezor/connect/lib/events"),a=e("@trezor/connect/lib/factory"),c=e("@trezor/websocket-client"),u=e("@trezor/websocket-client/lib/client"),l=e("../connectSettings");class d{eventEmitter=new i.default;_settings;ws;constructor(){this._settings=(0,l.parseConnectSettings)(),this.ws=new c.WebsocketClient({url:"ws://127.0.0.1:21335/connect-ws"})}manifest(e){this._settings=(0,l.parseConnectSettings)({...this._settings,manifest:e})}dispose(){return this.eventEmitter.removeAllListeners(),this._settings=(0,l.parseConnectSettings)(),this.ws.dispose(),Promise.resolve(undefined)}cancel(e){this.ws.sendMessage({type:s.POPUP.CLOSED,payload:{error:e}})}async handshake(){if(!this.ws)throw o.TypedError("Desktop_ConnectionMissing","No websocket connection");try{const e=await this.ws.sendMessage({type:s.POPUP.HANDSHAKE,payload:{settings:this._settings}},{timeout:3e3});if(!e)throw o.TypedError("Desktop_ConnectionMissing","No response");return e}catch(e){throw o.TypedError("Desktop_ConnectionMissing",e.message)}}async init(e={}){const t=(0,l.parseConnectSettings)({...this._settings,...e});if(!t.manifest||!t.manifest.appName)throw o.TypedError("Init_ManifestMissing","Manifest is missing or manifest.appName is not set");t.transports?.length||(t.transports=["BridgeTransport","WebUsbTransport"]),this._settings=t;try{await this.ws.connect()}catch(e){throw e instanceof u.WebsocketError?o.TypedError("Desktop_ConnectionMissing",e.message):e}}setTransports(){throw new Error("Unsupported")}async call(e){try{this.ws.isConnected()||await this.init(),await this.handshake();const t=await this.ws.sendMessage({type:s.IFRAME.CALL,payload:e},{timeout:0});if(!t)throw o.TypedError("Desktop_ConnectionMissing","No response");return t}catch(e){return{success:!1,payload:o.serializeError(e instanceof u.WebsocketError?o.TypedError("Desktop_ConnectionMissing",e.message):e)}}}uiResponse(e){throw o.TypedError("Method_InvalidPackage")}requestLogin(){throw o.TypedError("Method_InvalidPackage")}disableWebUSB(){throw o.TypedError("Method_InvalidPackage")}requestWebUSBDevice(){throw o.TypedError("Method_InvalidPackage")}renderWebUSBButton(){}}n.CoreInSuiteDesktop=d;const f=new d;n.TrezorConnect=(0,a.factory)({eventEmitter:f.eventEmitter,init:f.init.bind(f),call:f.call.bind(f),setTransports:f.setTransports.bind(f),manifest:f.manifest.bind(f),requestLogin:f.requestLogin.bind(f),uiResponse:f.uiResponse.bind(f),cancel:f.cancel.bind(f),dispose:f.dispose.bind(f)})}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/impl/core-in-suite-desktop.js"}],[2480,{"./connectSettings":2474,"./impl/core-in-iframe":2477,"./impl/core-in-popup":2478,"./impl/core-in-suite-desktop":2479,"@trezor/connect/lib/exports":2509,"@trezor/connect/lib/factory":2510,"@trezor/connect/lib/impl/dynamic":2511,tslib:4871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("tslib"),i=e("@trezor/connect/lib/factory"),o=e("@trezor/connect/lib/impl/dynamic"),s=e("./connectSettings"),a=e("./impl/core-in-iframe"),c=e("./impl/core-in-popup"),u=e("./impl/core-in-suite-desktop"),l=["Init_IframeBlocked","Init_IframeTimeout","Transport_Missing"],d=new o.TrezorConnectDynamic({implementations:[{type:"iframe",impl:new a.CoreInIframe},{type:"core-in-popup",impl:new c.CoreInPopup},{type:"core-in-suite-desktop",impl:new u.CoreInSuiteDesktop}],getInitTarget:e=>"iframe"===e.coreMode?"iframe":"popup"===e.coreMode?"core-in-popup":"suite-desktop"===e.coreMode?"core-in-suite-desktop":(e.coreMode&&"auto"!==e.coreMode&&console.warn(`Invalid coreMode: ${e.coreMode}`),"iframe"),handleBeforeCall:async()=>{const e="suite-desktop"===d.lastSettings?.coreMode,t="auto"===d.lastSettings?.coreMode||d.lastSettings?.coreMode===undefined;(e||t)&&await d.switchTarget("core-in-suite-desktop")},handleErrorFallback:async e=>{const t=(0,s.getEnv)(),n=!1===d.lastSettings?.popup||"webextension"===t,r="auto"===d.lastSettings?.coreMode||d.lastSettings?.coreMode===undefined;if("core-in-suite-desktop"===d.getTargetType()&&"Desktop_ConnectionMissing"===e)return await d.switchTarget("iframe"),!0;if(!n&&r&&l.includes(e)){const t=!navigator?.usb,n=!1===d.lastSettings?.transports?.includes("WebUsbTransport");return("Transport_Missing"!==e||!t&&!n)&&(await d.switchTarget("core-in-popup"),!0)}return!1}}),f=(0,i.factory)({eventEmitter:d.eventEmitter,init:d.init.bind(d),call:d.call.bind(d),setTransports:d.setTransports.bind(d),manifest:d.manifest.bind(d),requestLogin:d.requestLogin.bind(d),uiResponse:d.uiResponse.bind(d),cancel:d.cancel.bind(d),dispose:d.dispose.bind(d)},{renderWebUSBButton:d.getTarget().renderWebUSBButton.bind(d),disableWebUSB:d.getTarget().disableWebUSB.bind(d),requestWebUSBDevice:d.getTarget().requestWebUSBDevice.bind(d)});n.default=f,r.__exportStar(e("@trezor/connect/lib/exports"),n)}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/index.js"}],[2481,{"../channels/serviceworker-window":2472,"../channels/window-window":2473,"./showPopupRequest":2482,"@trezor/connect/lib/data/version":2496,"@trezor/connect/lib/events":2502,"@trezor/connect/lib/utils/urlUtils":2531,"@trezor/utils":2796,events:3630,tslib:4871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PopupManager=void 0;const r=e("tslib").__importDefault(e("events")),i=e("@trezor/connect/lib/data/version"),o=e("@trezor/connect/lib/events"),s=e("@trezor/connect/lib/utils/urlUtils"),a=e("@trezor/utils"),c=e("./showPopupRequest"),u=e("../channels/serviceworker-window"),l=e("../channels/window-window");class d extends r.default{popupWindow;settings;origin;locked=!1;channel;channelIframe;handshakePromise;iframeHandshakePromise;popupPromise;requestTimeout;openTimeout;closeInterval;extensionTabId=0;logger;constructor(e,{logger:t}){if(super(),this.settings=e,this.origin=(0,s.getOrigin)(e.popupSrc),this.logger=t,this.isWebExtensionWithTab()?this.channel=new u.ServiceWorkerWindowChannel({name:"trezor-connect",channel:{here:"@trezor/connect-webextension",peer:"@trezor/connect-content-script"},logger:t,currentId:()=>{if("tab"===this.popupWindow?.mode)return this.popupWindow?.tab.id},legacyMode:!this.settings.useCoreInPopup}):this.channel=new l.WindowWindowChannel({windowHere:window,windowPeer:()=>{if("window"===this.popupWindow?.mode)return this.popupWindow?.window},channel:{here:"@trezor/connect-web",peer:"@trezor/connect-popup"},logger:t,origin:this.origin,legacyMode:!this.settings.useCoreInPopup}),this.settings.useCoreInPopup||(this.iframeHandshakePromise=(0,a.createDeferred)(o.IFRAME.LOADED),this.channelIframe=new l.WindowWindowChannel({windowHere:window,windowPeer:()=>window,channel:{here:"@trezor/connect-web",peer:"@trezor/connect-iframe"},logger:t,origin:this.origin}),this.channelIframe?.on("message",this.handleMessage.bind(this))),this.settings.useCoreInPopup)return this.handshakePromise=(0,a.createDeferred)(),void this.channel.on("message",this.handleCoreMessage.bind(this));this.isWebExtensionWithTab()?this.channel.on("message",this.handleExtensionMessage.bind(this)):this.channel.on("message",this.handleMessage.bind(this)),this.channel.init()}async request(){if(this.settings.useCoreInPopup&&"tab"===this.popupWindow?.mode){await(e=this.popupWindow?.tab?.id,new Promise(t=>{if(!e)return t(!1);chrome.tabs.get(e,function(){chrome.runtime.lastError?t(!1):t(!0)})}))||this.clear()}var e;if(this.locked)return void("tab"===this.popupWindow?.mode&&this.popupWindow.tab.id?chrome.tabs.update(this.popupWindow.tab.id,{active:!0}):"window"===this.popupWindow?.mode&&this.popupWindow.window.focus());this.popupWindow&&!this.locked&&this.close();const t=this.open.bind(this);this.locked=!0;const n="webextension"===this.settings.env?1:850;this.requestTimeout=setTimeout(()=>{this.requestTimeout=undefined,t()},n)}unlock(){this.locked=!1}open(){const e=this.settings.popupSrc;this.popupPromise=(0,a.createDeferred)(o.POPUP.LOADED);const t=this.buildPopupUrl(e);this.openWrapper(t),this.closeInterval=setInterval(()=>{this.popupWindow&&("tab"===this.popupWindow.mode&&this.popupWindow.tab.id?chrome.tabs.get(this.popupWindow.tab.id,e=>{e||(this.emitClosed(),this.clear())}):"window"===this.popupWindow.mode&&this.popupWindow.window.closed&&(this.clear(),this.emitClosed()))},500),this.settings.useCoreInPopup||(this.openTimeout=setTimeout(()=>{this.clear(),(0,c.showPopupRequest)(this.open.bind(this),()=>{this.emitClosed()})},5e3))}buildPopupUrl(e){const t=new URLSearchParams;return t.set("version",i.VERSION),t.set("env",this.settings.env),"webextension"===this.settings.env&&chrome?.runtime?.id&&(t.set("extension-id",chrome.runtime.id),t.set("cs-ver",i.CONTENT_SCRIPT_VERSION.toString())),e+"?"+t.toString()}openWrapper(e){if(this.isWebExtensionWithTab())chrome.windows.getCurrent(t=>{this.logger.debug("opening popup. currentWindow: ",t),"normal"!==t.type?chrome.windows.create({url:e},e=>{chrome.tabs.query({windowId:e?.id,active:!0},e=>{this.popupWindow={mode:"tab",tab:e[0]},this.injectContentScript(e[0].id)})}):chrome.tabs.query({currentWindow:!0,active:!0},t=>{this.extensionTabId=t[0].id,chrome.tabs.create({url:e,index:t[0].index+1},e=>{this.popupWindow={mode:"tab",tab:e},this.injectContentScript(e.id)})})});else{const t=window.open(e,"modal");if(!t)return;this.popupWindow={mode:"window",window:t}}this.channel.isConnected||this.channel.connect()}injectContentScript=e=>{chrome.permissions.getAll(t=>{t.permissions?.includes("scripting")&&(0,a.scheduleAction)(()=>chrome.scripting.executeScript({target:{tabId:e},func:()=>{}}).then(()=>{this.logger.debug("content script injected")}).catch(e=>{throw this.logger.error("content script injection error",e),e}),{attempts:new Array(3).fill({timeout:100})})})};handleCoreMessage(e){if(e.type===o.POPUP.BOOTSTRAP)this.channel.init();else if(e.type===o.POPUP.LOADED)this.handleMessage(e),this.channel.postMessage({type:o.POPUP.INIT,payload:{settings:this.settings,useCore:!0}});else if(e.type===o.POPUP.CORE_LOADED)this.channel.postMessage({type:o.POPUP.HANDSHAKE,payload:{settings:this.settings}}),this.handshakePromise?.resolve();else if(e.type===o.POPUP.CLOSED)this.emitClosed();else if(e.type===o.POPUP.CONTENT_SCRIPT_LOADED){const{contentScriptVersion:t}=e.payload;t!==i.CONTENT_SCRIPT_VERSION&&console.warn(`Content script version mismatch. Expected ${i.CONTENT_SCRIPT_VERSION}, got ${t}`)}else e.event===o.DEVICE_EVENT&&this.emit(o.DEVICE_EVENT,e)}handleExtensionMessage(e){e.type===o.POPUP.ERROR||e.type===o.POPUP.LOADED||e.type===o.POPUP.BOOTSTRAP?this.handleMessage(e):e.type===o.POPUP.EXTENSION_USB_PERMISSIONS?chrome.tabs.query({currentWindow:!0,active:!0},e=>{chrome.tabs.create({url:"trezor-usb-permissions.html",index:e[0].index+1},e=>{})}):e.type===o.POPUP.CLOSE_WINDOW&&this.clear()}handleMessage(e){if(e.type===o.IFRAME.LOADED)this.iframeHandshakePromise?.resolve(e.payload);else if(e.type===o.POPUP.BOOTSTRAP)this.openTimeout&&clearTimeout(this.openTimeout);else if(e.type===o.POPUP.ERROR&&this.popupWindow){const t=e.payload&&"string"==typeof e.payload.error?e.payload.error:null;this.emit(o.POPUP.CLOSED,t?`Popup error: ${t}`:null),this.clear()}else e.type===o.POPUP.LOADED?(this.openTimeout&&clearTimeout(this.openTimeout),this.popupPromise&&(this.popupPromise.resolve(),this.popupPromise=undefined),this.iframeHandshakePromise?.promise.then(e=>{this.channel.postMessage({type:o.POPUP.INIT,payload:{...e,settings:this.settings}})})):e.type===o.POPUP.CANCEL_POPUP_REQUEST?(clearTimeout(this.requestTimeout),this.popupPromise&&this.close(),this.unlock()):e.type===o.UI.CLOSE_UI_WINDOW&&this.clear(!1)}clear(e=!0){this.locked=!1,this.popupPromise=undefined,this.handshakePromise=(0,a.createDeferred)(),this.channel&&this.channel.disconnect(),this.requestTimeout&&(clearTimeout(this.requestTimeout),this.requestTimeout=undefined),this.openTimeout&&(clearTimeout(this.openTimeout),this.openTimeout=undefined),this.closeInterval&&(clearInterval(this.closeInterval),this.closeInterval=undefined),e&&this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0)}close(){if(this.popupWindow){if(this.logger.debug("closing popup"),"tab"===this.popupWindow.mode){let e=chrome.runtime.lastError;this.popupWindow.tab.id&&chrome.tabs.remove(this.popupWindow.tab.id,()=>{e=chrome.runtime.lastError,e&&this.logger.error("closed with error",e)})}else"window"===this.popupWindow.mode&&this.popupWindow.window.close();this.popupWindow=undefined,this.settings?.useCoreInPopup&&this.channel.clear()}}async postMessage(e){if(!this.popupWindow&&e.type!==o.UI.REQUEST_UI_WINDOW&&this.openTimeout)return this.clear(),void(0,c.showPopupRequest)(this.open.bind(this),()=>{this.emitClosed()});this.popupPromise&&await this.popupPromise.promise,"window"===this.popupWindow?.mode?this.popupWindow.window.postMessage(e,this.origin):"tab"===this.popupWindow?.mode&&this.channel.postMessage(e)}isWebExtensionWithTab(){return"webextension"===this.settings?.env&&"undefined"!=typeof chrome&&void 0!==chrome?.tabs}emitClosed(){this.settings?.useCoreInPopup&&this.channel.resolveMessagePromises({code:"Method_Interrupted",error:o.POPUP.CLOSED}),this.emit(o.POPUP.CLOSED)}}n.PopupManager=d}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/index.js"}],[2482,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.showPopupRequest=void 0;const r="TrezorConnectInteractionLayer",i=`\n    <div class="trezorconnect-container" id="${r}">\n        <div class="trezorconnect-window">\n            <div class="trezorconnect-head">\n                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">\n                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>\n                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>\n                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>\n                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>\n                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>\n                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>\n                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>\n                </svg>\n                <div class="trezorconnect-close">\n                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">\n                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>\n                    </svg>\n                </div>\n            </div>\n            <div class="trezorconnect-body">\n                <h3>Popup was blocked</h3>\n                <p>Please click to "Continue" to open popup manually</p>\n                <button class="trezorconnect-open">Continue</button>\n            </div>\n        </div>\n    </div>\n`;n.showPopupRequest=(e,t)=>{if(document.getElementById(r))return;const n=document.createElement("div");n.id=r,n.className="trezorconnect-container",n.innerHTML=i,document.body&&document.body.appendChild(n);n.getElementsByClassName("trezorconnect-open")[0].onclick=()=>{e(),document.body&&document.body.removeChild(n)};n.getElementsByClassName("trezorconnect-close")[0].onclick=()=>{t(),document.body&&document.body.removeChild(n)}}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/showPopupRequest.js"}],[2483,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default=(e="",t)=>{const n=e||".trezor-webusb-button",r=document.querySelectorAll(n),i=`${t}?${Date.now()}`;r.forEach(e=>{if(e.getElementsByTagName("iframe").length<1){const t=e.getBoundingClientRect(),n=document.createElement("iframe");n.frameBorder="0",n.width=`${Math.round(t.width)}px`,n.height=`${Math.round(t.height)}px`,n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.zIndex="1",n.setAttribute("allow","usb"),n.setAttribute("scrolling","no"),n.src=i,e.append(n)}})}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/webusb/button.js"}],[2484,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i;Object.defineProperty(n,"__esModule",{value:!0}),n.NETWORK_IDS=n.PROTOCOL_MAGICS=void 0,function(e){e[e.mainnet=764824073]="mainnet",e[e.testnet_preprod=1]="testnet_preprod",e[e.testnet_preview=2]="testnet_preview",e[e.testnet_legacy=1097911063]="testnet_legacy"}(r||(n.PROTOCOL_MAGICS=r={})),function(e){e[e.mainnet=1]="mainnet",e[e.testnet=0]="testnet"}(i||(n.NETWORK_IDS=i={}))}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/cardano.js"}],[2485,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LIBUSB_ERROR_MESSAGE=n.serializeError=n.TypedError=n.TrezorError=n.ERROR_CODES=void 0,n.ERROR_CODES={Init_NotInitialized:"TrezorConnect not initialized",Init_AlreadyInitialized:"TrezorConnect has been already initialized",Init_IframeBlocked:"Iframe blocked",Init_IframeTimeout:"Iframe timeout",Init_ManifestMissing:"Manifest not set. Read more at https://github.com/trezor/trezor-suite/blob/develop/docs/packages/connect/index.md",Popup_ConnectionMissing:"Unable to establish connection with iframe",Desktop_ConnectionMissing:"Unable to establish connection with Suite",Transport_Missing:"Transport is missing",Method_InvalidPackage:"This package is not suitable to work with browser. Use @trezor/connect-web package instead",Method_InvalidParameter:"",Method_NotAllowed:"Method not allowed for this configuration",Method_PermissionsNotGranted:"Permissions not granted",Method_Cancel:"Cancelled",Method_Interrupted:"Popup closed",Method_UnknownCoin:"Coin not found",Method_AddressNotMatch:"Addresses do not match",Method_Discovery_BundleException:"",Method_Override:"override",Method_NoResponse:"Call resolved without response",Backend_NotSupported:"BlockchainLink settings not found in coins.json",Backend_WorkerMissing:"",Backend_Disconnected:"Backend disconnected",Backend_Invalid:"Invalid backend",Backend_Error:"",Runtime:"",Device_NotFound:"Device not found",Device_InitializeFailed:"",Device_FwException:"",Device_ModeException:"",Device_Disconnected:"Device disconnected",Device_UsedElsewhere:"Device is used in another window",Device_InvalidState:"Passphrase is incorrect",Device_CallInProgress:"Device call in progress",Device_MultipleNotSupported:"Multiple devices are not supported",Device_MissingCapability:"Device is missing capability",Device_MissingCapabilityBtcOnly:"Device is missing capability (BTC only)",Failure_ActionCancelled:"Action cancelled by user",Failure_FirmwareError:"Firmware installation failed",Failure_UnknownCode:"Unknown error",Failure_PinCancelled:"PIN cancelled",Failure_PinInvalid:"PIN invalid",Failure_PinMismatch:"PIN mismatch",Failure_WipeCodeMismatch:"Wipe code mismatch",Failure_EntropyCheck:"",Deeplink_VersionMismatch:"Not compatible with current version of the app"};class r extends Error{code;message;constructor(e,t){super(t),this.code=e,this.message=t}toString(){return`${this.name} (code: ${this.code}): ${this.message}`}}n.TrezorError=r;n.TypedError=(e,t)=>new r(e,t||n.ERROR_CODES[e]);n.serializeError=e=>e&&e.error instanceof Error?{error:e.error.message,code:e.error.code}:e instanceof r?{error:e.message,code:e.code}:e instanceof Error?{error:e.message,code:"code"in e?e.code:"Failure_UnknownCode"}:{...e},n.LIBUSB_ERROR_MESSAGE="LIBUSB_ERROR"}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/errors.js"}],[2486,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.REVISION_CHECK_RETRIABLE_ERRORS=n.HASH_CHECK_RETRIABLE_ERRORS=n.HASH_CHECK_MAX_ATTEMPTS=void 0,n.HASH_CHECK_MAX_ATTEMPTS=3,n.HASH_CHECK_RETRIABLE_ERRORS=["other-error"],n.REVISION_CHECK_RETRIABLE_ERRORS=["cannot-perform-check-offline","other-error"]}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/firmware.js"}],[2487,{"./cardano":2484,"./errors":2485,"./firmware":2486,"./nem":2488,"./network":2489,"./utxo":2490,"@trezor/protobuf":2544,tslib:4871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PROTO=n.DEFAULT_SORTING_STRATEGY=n.FIRMWARE=n.NEM=n.CARDANO=n.NETWORK=n.ERRORS=void 0;const r=e("tslib");n.ERRORS=r.__importStar(e("./errors")),n.NETWORK=r.__importStar(e("./network")),n.CARDANO=r.__importStar(e("./cardano")),n.NEM=r.__importStar(e("./nem")),n.FIRMWARE=r.__importStar(e("./firmware"));var i=e("./utxo");Object.defineProperty(n,"DEFAULT_SORTING_STRATEGY",{enumerable:!0,get:function(){return i.DEFAULT_SORTING_STRATEGY}});var o=e("@trezor/protobuf");Object.defineProperty(n,"PROTO",{enumerable:!0,get:function(){return o.MessagesSchema}})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/index.js"}],[2488,{"@trezor/schema-utils":2555},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EnumTxVersion=n.TxVersion=n.EnumTxType=n.TxType=n.EnumNetworks=n.Networks=void 0;const r=e("@trezor/schema-utils");var i,o,s;!function(e){e[e.mainnet=104]="mainnet",e[e.testnet=152]="testnet",e[e.mijin=96]="mijin"}(i||(n.Networks=i={})),n.EnumNetworks=r.Type.Enum(i),function(e){e[e.TRANSFER=257]="TRANSFER",e[e.COSIGNING=258]="COSIGNING",e[e.IMPORTANCE_TRANSFER=2049]="IMPORTANCE_TRANSFER",e[e.AGGREGATE_MODIFICATION=4097]="AGGREGATE_MODIFICATION",e[e.MULTISIG_SIGNATURE=4098]="MULTISIG_SIGNATURE",e[e.MULTISIG=4100]="MULTISIG",e[e.PROVISION_NAMESPACE=8193]="PROVISION_NAMESPACE",e[e.MOSAIC_CREATION=16385]="MOSAIC_CREATION",e[e.SUPPLY_CHANGE=16386]="SUPPLY_CHANGE"}(o||(n.TxType=o={})),n.EnumTxType=r.Type.Enum(o),function(e){e[e.mainnet=1744830464]="mainnet",e[e.testnet=-1744830464]="testnet",e[e.mijin=1610612736]="mijin"}(s||(n.TxVersion=s={})),n.EnumTxVersion=r.Type.Enum(s)}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/nem.js"}],[2489,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MODULES=n.TYPES=void 0,n.TYPES={bitcoin:"Bitcoin",ethereum:"Ethereum",eos:"Eos",nem:"NEM",stellar:"Stellar",cardano:"Cardano",ripple:"Ripple",tezos:"Tezos",binance:"Binance",solana:"Solana"},n.MODULES=["cardano","eos","ethereum","nem","ripple","solana","stellar","tezos"]}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/network.js"}],[2490,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_SORTING_STRATEGY=void 0,n.DEFAULT_SORTING_STRATEGY="random"}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/utxo.js"}],[2491,{"@trezor/transport/lib/constants":2763},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.config=void 0;const r=e("@trezor/transport/lib/constants");n.config={webusb:r.TREZOR_USB_DESCRIPTORS,whitelist:[{origin:"chrome-extension://imloifkgjagghnncjkhggdhalmcnfklk",priority:1},{origin:"chrome-extension://niebkpllfhmpfbffbfifagfgoamhpflf",priority:1},{origin:"file://",priority:2},{origin:"trezor.io",priority:0},{origin:"sldev.cz",priority:0},{origin:"localhost",priority:0},{origin:"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion",priority:0}],management:[{origin:"trezor.io"},{origin:"sldev.cz"},{origin:"localhost"}],knownHosts:[{origin:"imloifkgjagghnncjkhggdhalmcnfklk",label:"Trezor Password Manager (Develop)"},{origin:"niebkpllfhmpfbffbfifagfgoamhpflf",label:"Trezor Password Manager"},{origin:"mnpfhpndmjholfdlhpkjfmjkgppmodaf",label:"MetaMask"},{origin:"webextension@metamask.io",label:"MetaMask"},{origin:"nkbihfbeogaeaoehlefnkodbefgpgknn",label:"MetaMask"},{origin:"bpcdaglidgnlggelgbjfagekoapjmccp",label:"Rainbow DEV"},{origin:"opfgelmcmbiajamepnmloijbpoleiama",label:"Rainbow"},{origin:"acmacodkjbdgmoleebolmdjonilkdbch",label:"Rabby"},{origin:"ehnpnhnhcickeknioaiodjmielfaoajd",label:"Ambire DEV"},{origin:"ehgjhhccekdedpbkifaojjaefeohnoea",label:"Ambire"},{origin:"file://",label:" "}],onionDomains:{"trezor.io":"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion"},supportedBrowsers:{chrome:{version:59,download:"https://www.google.com/chrome/",update:"https://support.google.com/chrome/answer/95414"},mobilechrome:{version:59,download:"https://www.google.com/chrome/",update:"https://support.google.com/chrome/answer/95414"},chromium:{version:59,download:"https://www.chromium.org/",update:"https://www.chromium.org/"},electron:{version:0,download:"https://www.electronjs.org/",update:"https://www.electronjs.org/"},firefox:{version:54,download:"https://www.mozilla.org/en-US/firefox/new/",update:"https://support.mozilla.org/en-US/kb/update-firefox-latest-version"},mobilefirefox:{version:54,download:"https://www.mozilla.org/en-US/firefox/new/",update:"https://support.mozilla.org/en-US/kb/update-firefox-latest-version"},brave:{version:59,download:"https://brave.com/download/",update:"https://brave.com/download/"},edge:{version:79,download:"https://www.microsoft.com/en-us/edge",update:"https://www.microsoft.com/en-us/edge"},opera:{version:95,download:"https://www.opera.com/download",update:"https://www.opera.com/download"}},supportedFirmware:[{coin:["xrp","txrp"],methods:["getAccountInfo"],min:{T1B1:"0",T2T1:"2.1.0"},max:undefined,comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{coin:["bnb"],min:{T1B1:"1.9.0",T2T1:"2.3.0"},comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{coin:["eth","tsep","thol"],min:{T1B1:"1.8.0",T2T1:"2.1.0"},comment:["There were protobuf backwards incompatible changes."]},{coin:["ada","tada"],min:{T1B1:"0",T2T1:"2.4.3"},comment:["Since 2.4.3 there is initialize.derive_cardano message"]},{methods:["rippleGetAddress","rippleSignTransaction"],min:{T1B1:"0",T2T1:"2.1.0"},comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{methods:["cardanoGetAddress","cardanoGetPublicKey"],min:{T1B1:"0",T2T1:"2.4.3"},comment:["Since 2.4.3 Cardano derivation behavior has changed"]},{methods:["cardanoSignTransaction"],min:{T1B1:"0",T2T1:"2.6.0"},comment:["Before 2.6.0 not all Cardano transactions were supported"]},{methods:["cardanoGetNativeScriptHash"],min:{T1B1:"0",T2T1:"2.4.3"},comment:["Since 2.4.3 Cardano derivation behavior has changed"]},{methods:["tezosSignTransaction"],min:{T1B1:"0",T2T1:"2.1.8"},comment:["Since 2.1.8 there are new protobuf fields in tezos transaction (Babylon fork)"]},{methods:["stellarSignTransaction"],min:{T1B1:"1.9.0",T2T1:"2.3.0"},comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{capabilities:["replaceTransaction","amountUnit"],min:{T1B1:"1.9.4",T2T1:"2.3.5"},comment:["new sign tx process since 1.9.4/2.3.5"]},{capabilities:["decreaseOutput"],min:{T1B1:"1.10.0",T2T1:"2.4.0"},comment:["allow reduce output in RBF transaction since 1.10.0/2.4.0"]},{capabilities:["eip1559"],min:{T1B1:"1.10.4",T2T1:"2.4.2"},comment:["new eth transaction pricing mechanism (EIP1559) since 1.10.4/2.4.2"]},{capabilities:["taproot","signMessageNoScriptType"],min:{T1B1:"1.10.4",T2T1:"2.4.3"},comment:["new btc accounts taproot since 1.10.4/2.4.3 (BTC + TEST only)","SignMessage with no_script_type support"]},{coin:["dcr","tdcr"],methods:["signTransaction"],min:{T1B1:"1.10.1",T2T1:"2.4.0"},comment:[""]},{methods:["ethereumSignTypedData"],min:{T1B1:"1.10.5",T2T1:"2.4.3"},comment:["EIP-712 typed signing support added in 1.10.5/2.4.3"]},{capabilities:["eip712-domain-only"],min:{T1B1:"1.10.6",T2T1:"2.4.4"},comment:["EIP-712 domain-only signing, when primaryType=EIP712Domain"]},{capabilities:["coinjoin"],methods:["authorizeCoinjoin","cancelCoinjoinAuthorization","getOwnershipId","getOwnershipProof","setBusy","unlockPath"],min:{T1B1:"1.12.1",T2T1:"2.5.3"}},{methods:["showDeviceTutorial","authenticateDevice"],min:{T1B1:"0",T2T1:"0",T3T1:"2.8.0"}},{capabilities:["getFirmwareHash"],methods:["getFirmwareHash"],min:{T1B1:"1.11.1",T2T1:"2.5.1"}},{methods:["solanaGetPublicKey","solanaGetAddress","solanaSignTransaction"],min:{T1B1:"0",T2T1:"2.6.4",T2B1:"2.6.4"}},{capabilities:["chunkify"],min:{T1B1:"0",T2T1:"2.6.3",T2B1:"2.6.3"},comment:["Since firmware 2.6.3 there is a new protobuf field 'chunkify' in almost all getAddress and signTx methods"]},{methods:["changeLanguage"],min:{T1B1:"0",T2T1:"2.7.0",T2B1:"2.7.0"}},{capabilities:["entropyCheck"],min:{T1B1:"1.13.1",T2T1:"2.8.7",T2B1:"2.8.7",T3B1:"2.8.7",T3T1:"2.8.7"}}]}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/config.js"}]],[],{});